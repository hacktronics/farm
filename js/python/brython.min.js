var __BRYTHON__=__BRYTHON__||{};try{eval("async function* f(){}")}catch(e){console.warn("Your browser is not fully supported. If you are using Microsoft Edge, please upgrade to the latest version")}!function(e){var t;e.isWebWorker="undefined"!=typeof WorkerGlobalScope&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator,e.isNode="undefined"!=typeof process&&"node"===process.release.name;var r,n=(t=e.isNode?{location:{href:"",origin:"",pathname:""},navigator:{userLanguage:""}}:self).location.href;if(e.protocol=n.split(":")[0],e.BigInt=t.BigInt,e.indexedDB=t.indexedDB,void 0===e.brython_path){var a;if(e.isWebWorker)(a=t.location.href).startsWith("blob:")&&(a=a.substr(5));else{var s=document.getElementsByTagName("script");a=s[s.length-1].src}var o=a.split("/");o.pop(),r=e.brython_path=o.join("/")+"/"}else e.brython_path.endsWith("/")||(e.brython_path+="/"),r=e.brython_path;var i=new RegExp("(.*?)://(.*?)/(.*)").exec(e.brython_path);i&&(e.full_url={protocol:i[1],host:i[2],address:i[3]});var _=(t.location.origin+t.location.pathname).split("/");_.pop();var l=e.script_dir=_.join("/");e.__ARGV=[],e.webworkers={},e.file_cache={},e.url2name={},e.$py_src={},e.path=[r+"Lib",r+"libs",l,r+"Lib/site-packages"],e.async_enabled=!1,e.async_enabled&&(e.block={}),e.imported={},e.precompiled={},e.frames_stack=[],e.builtins=Object.create(null),e.builtins_scope={id:"__builtins__",module:"__builtins__",binding:{}},e.builtin_funcs={},e.builtin_classes=[],e.__getattr__=function(e){return this[e]},e.__setattr__=function(t,r){if(!(["debug","stdout","stderr"].indexOf(t)>-1))throw e.builtins.AttributeError.$factory("__BRYTHON__ object has no attribute "+t);e[t]=r},e.language=t.navigator.userLanguage||t.navigator.language,e.locale="C";for(var c=new Date,u=new Intl.DateTimeFormat(e.language,{timeZoneName:"short"}),f=u.format(c),p=(u=new Intl.DateTimeFormat(e.language,{timeZoneName:"long"})).format(c),d=0,h=Math.min(f.length,p.length);d<h&&f[d]==p[d];)d++;if(e.tz_name=p.substr(d).trim(),e.PyCF_ONLY_AST=1024,e.isWebWorker?e.charset="utf-8":e.charset=document.characterSet||document.inputEncoding||"utf-8",e.max_int=Math.pow(2,53)-1,e.min_int=-e.max_int,e.max_float=new Number(Number.MAX_VALUE),e.min_float=new Number(Number.MIN_VALUE),e.special_string_repr={8:"\\x08",9:"\\t",10:"\\n",11:"\\x0b",12:"\\x0c",13:"\\r",92:"\\\\",160:"\\xa0"},e.$py_next_hash=Math.pow(2,53)-1,e.$py_UUID=0,e.lambda_magic=Math.random().toString(36).substr(2,8),e.set_func_names=function(t,r){if(t.$infos){var n=t.$infos.__name__;t.$infos.__module__=r,t.$infos.__qualname__=n}else{n=t.__name__;t.$infos={__name__:n,__module__:r,__qualname__:n}}for(var a in t.__module__=r,t)"function"==typeof t[a]&&(t[a].$infos={__doc__:t[a].__doc__||"",__module__:r,__qualname__:n+"."+a,__name__:a},"classmethod"==t[a].$type&&(t[a].__class__=e.method))},"undefined"!=typeof Storage){e.has_local_storage=!1;try{localStorage&&(e.local_storage=localStorage,e.has_local_storage=!0)}catch(e){}e.has_session_storage=!1;try{sessionStorage&&(e.session_storage=sessionStorage,e.has_session_storage=!0)}catch(e){}}else e.has_local_storage=!1,e.has_session_storage=!1;e.globals=function(){return e.frames_stack[e.frames_stack.length-1][3]},e.scripts={},e.$options={},e.builtins_repr_check=function(t,r){var n=e.args("__repr__",1,{self:null},["self"],r,{},null,null).self,a=e.builtins;if(!a.isinstance(n,t))throw a.TypeError.$factory(`descriptor '__repr__' requires a '${t.$infos.__name__}' object but received a '${e.class_name(n)}'`)},e.update_VFS=function(t){e.VFS=e.VFS||{};var r=t.$timestamp;for(var n in void 0!==r&&delete t.$timestamp,t)e.VFS.hasOwnProperty(n)&&console.warn("Virtual File System: duplicate entry "+n),e.VFS[n]=t[n],e.VFS[n].timestamp=r},e.add_files=function(t){for(var r in e.files=e.files||{},t)e.files[r]=t[r]},e.has_file=function(t){return e.files&&e.files.hasOwnProperty(t)};Math.random().toString(36).substr(2,8);e.python_to_js=function(t,r){e.options_parsed||(e.parse_options(),e.meta_path=e.$meta_path.slice(),e.use_VFS||e.meta_path.shift());var n="$python_to_js"+e.UUID();e.url2name[n]=n,e.imported[n]={};var a=__BRYTHON__.py2js({src:t,filename:n},r,r,__BRYTHON__.builtins_scope).to_js();return a="(function() {\n"+a+"\nreturn locals}())",console.log(a),a},t.py=function(t){var r=e.py2js(t[0],"script","script").to_js();e.set_import_paths(),new Function("$locals_script",r)({})}}(__BRYTHON__),__BRYTHON__.implementation=[3,10,7,"final",0],__BRYTHON__.__MAGIC__="3.10.7",__BRYTHON__.version_info=[3,10,0,"final",0],__BRYTHON__.compiled_date="2022-09-17 20:10:06.247119",__BRYTHON__.timestamp=1663438206246,__BRYTHON__.builtin_module_names=["_aio","_ajax","_ast","_base64","_binascii","_io_classes","_json","_jsre","_locale","_multiprocessing","_posixsubprocess","_profile","_sre","_sre_utils","_string","_strptime","_svg","_symtable","_webcomponent","_webworker","_zlib_utils","array","bry_re","builtins","dis","encoding_cp932","hashlib","html_parser","long_int","marshal","math","modulefinder","posix","python_re","random","unicodedata"],function(e){e.builtins;function t(e){if(1==e.length)return e.charCodeAt(0);var t=65536;return t+=(1023&e.charCodeAt(0))<<10,t+=1023&e.charCodeAt(1)}function r(e){return e[e.length-1]}var n=["**","//",">>","<<"],a={"}":"{","]":"[",")":"("};function s(e,t,r,n,a){var s={type:e,string:t,start:r=r.slice(0,2),end:n,line:a};return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s[4]=a,s}function o(e,t,r,n,a,o){for(var i,_=t,l=[];;){if(t>=e.length||(i="\r\n".indexOf(e[t]))>-1){if(l.push(s("COMMENT",e.substring(_-1,t),[r,_-n],[r,t-n+1],o)),void 0!==i){var c=1;"\r"==e[t]&&"\n"==e[t+1]?c++:void 0===e[t]&&(c=0),l.push(s(a,e.substr(t,c),[r,t-n+1],[r,t-n+c+1],o)),void 0===e[t]&&l.push(s("NEWLINE","\n",[r,t-n+1],[r,t-n+2],"")),t+=c}return{t:l,pos:t}}t++}}function i(r,n){switch(r){case"":return void 0!==e.unicode_tables.Nd[t(n)];case"x":return"0123456789abcdef".indexOf(n.toLowerCase())>-1;case"b":return"01".indexOf(n)>-1;case"o":return"01234567".indexOf(n)>-1;default:throw Error("unknown num type "+r)}}e.TokenReader=function(t){this.tokens=[],this.tokenizer=e.tokenizer(t),this.position=0},e.TokenReader.prototype.read=function(){if(this.position<this.tokens.length)var e=this.tokens[this.position];else{if((e=this.tokenizer.next()).done)return void(this.done=!0);e=e.value,this.tokens.push(e)}return this.position++,e},e.TokenReader.prototype.seek=function(e){this.position=e},e.tokenizer=function*(_){for(var l=e.unicode_tables,c=/^(r|u|R|U|f|F|fr|Fr|fR|FR|rf|rF|Rf|RF)$/,u=/^(b|B|br|Br|bR|BR|rb|rB|Rb|RB)$/,f=(_=_.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).split("\n"),p=0,d={},h=0,$=_.length;h<$;h++)d[h]=p,"\n"==_[h]&&p++;function m(e){return f[d[e]]}var b,g,y,v,x,w,B,k,E,N,j,S,C,I="line_start",T=0,A=!1,O=[],L=[],F=0,P=1;for(yield s("ENCODING","utf-8",[0,0],[0,0],"");T<_.length;)switch(b=_[T],(g=_.charCodeAt(T))>=55296&&g<=56319&&(g=t(_.substr(T,2)),b=_.substr(T,2),T++),T++,I){case"line_start":if(C=m(T-1),P=T,F++,y=/^\f?(\r\n|\r|\n)/.exec(_.substr(T-1))){yield s("NL",y[0],[F,0],[F,y[0].length],C),T+=y[0].length-1;continue}if("#"==b){for(var M of(R=o(_,T,F,P,"NL",C)).t)yield M;T=R.pos,I="line_start";continue}if(S=0," "==b?S=1:"\t"==b&&(S=8),S){for(;T<_.length;){if(" "==_[T])S++;else{if("\t"!=_[T])break;S+=8}T++}if(T==_.length){F--;break}if("#"==_[T]){var R=o(_,T+1,F,P,"NL",C);for(var M of R.t)yield M;T=R.pos;continue}if(y=/^\f?(\r\n|\r|\n)/.exec(_.substr(T))){yield s("NL","",[F,T-P+1],[F,T-P+1+y[0].length],C),T+=y[0].length;continue}if(0==O.length||S>r(O))O.push(S),yield s("INDENT","",[F,0],[F,S],C);else if(S<r(O)){var D=O.indexOf(S);if(-1==D){var U=Error("unindent does not match any outer indentation level");throw U.type="IndentationError",U.line_num=F,U}for(h=O.length-1;h>D;h--)O.pop(),yield s("DEDENT","",[F,S],[F,S],C)}I=null}else{for(;O.length>0;)O.pop(),yield s("DEDENT","",[F,S],[F,S],C);I=null,T--}break;case null:switch(b){case'"':case"'":v=b,w=[F,T-P,P],(x=_[T]==b&&_[T+1]==b)&&(T+=2),A=!1,I="STRING",B="",k="";break;case"#":var V=L.length>0?"NL":"NEWLINE";for(var M of(R=o(_,T,F,P,V,C)).t)yield M;T=R.pos,0==L.length?I="line_start":(I=null,F++,P=T+1,C=m(T));break;case"0":I="NUMBER",N=b,j="",_[T]&&"xbo".indexOf(_[T].toLowerCase())>-1&&(N+=_[T],j=_[T].toLowerCase(),T++);break;case".":if(_[T]&&l.Nd[t(_[T])])I="NUMBER",j="",N=b;else{for(var q=b;_[T]==b;)T++,q+=b;for(var W=T-P-q.length+1;q.length>=3;)yield s("OP","...",[F,W],[F,W+3],C),q=q.substr(3);for(h=0;h<q.length;h++)yield s("OP",".",[F,W],[F,W+1],C),W++}break;case"\\":if(y=/^\f?(\r\n|\r|\n)/.exec(_.substr(T))){if(T==_.length-1)throw SyntaxError("EOF in multi-line statement");F++,P=(T+=y[0].length)+1,C=m(T)}else yield s("ERRORTOKEN",b,[F,T-P],[F,T-P+1],C);break;case"\n":case"\r":V=L.length>0?"NL":"NEWLINE";y=/^\f?(\r\n|\r|\n)/.exec(_.substr(T-1)),yield s(V,y[0],[F,T-P],[F,T-P+y[0].length],C),T+=y[0].length-1,"NEWLINE"==V?I="line_start":(F++,P=T+1,C=m(T));break;default:if(l.XID_Start[t(b)])I="NAME",E=b;else if(l.Nd[t(b)])I="NUMBER",j="",N=b;else if(".,:;+-*/%~^|&=<>[](){}@".indexOf(b)>-1){q=b;n.indexOf(b+_[T])>-1&&(q=b+_[T],T++),("="==_[T]&&(2==q.length||"+-*/%~^|&=<>@".indexOf(q)>-1)||"-"==b&&">"==_[T]||":"==b&&"="==_[T])&&(q+=_[T],T++),"[({".indexOf(b)>-1?L.push(b):"])}".indexOf(b)>-1&&(L&&r(L)==a[b]?L.pop():L.push(b)),yield s("OP",q,[F,T-P-q.length+1],[F,T-P+1],C)}else"!"==b&&"="==_[T]?(yield s("OP","!=",[F,T-P],[F,T-P+2],C),T++):" "==b||"\t"==b||(yield s("ERRORTOKEN",b,[F,T-P],[F,T-P+1],C))}break;case"NAME":l.XID_Continue[t(b)]?E+=b:('"'==b||"'"==b)&&(c.exec(E)||u.exec(E))?(I="STRING",v=b,x=_[T]==v&&_[T+1]==v,k=E,A=!1,w=[F,T-P-E.length,P],x&&(T+=2),B=""):(yield s("NAME",E,[F,T-P-E.length],[F,T-P],C),I=null,T--);break;case"STRING":switch(b){case v:if(A)B+=b;else{var z=C;if(F>w[0]&&(z=_.substring(w[2]-1,T+2)),x)if(b+_.substr(T,2)==v.repeat(3)){G=k+v.repeat(3)+B+v.repeat(3);triple_quote_line=C,yield s("STRING",G,w,[F,T-P+3],z),T+=2,I=null}else B+=b;else{var G=k+v+B+v;yield s("STRING",G,w,[F,T-P+1],z),I=null}}A=!1;break;case"\r":case"\n":if(!A&&!x){var J=w[1]+P-1;for(T=J;" "==_[T-1];)T--;for(;T<J;)yield s("ERRORTOKEN"," ",[F,T-P+1],[F,T-P+2],C),T++;T++,yield s("ERRORTOKEN",v,[F,T-P],[F,T-P+1],C),I=null,T++;break}B+=b,F++,P=T+1,"\r"==b&&"\n"==_[T]&&(B+=_[T],P++,T++),C=m(T),A=!1;break;case"\\":B+=b,A=!A;break;default:A=!1,B+=b}break;case"NUMBER":if(i(j,b))N+=b;else if("_"!=b||N.endsWith("."))if("."==b&&-1==N.indexOf(b))N+=b;else if("e"==b.toLowerCase()&&-1==N.toLowerCase().indexOf("e"))"+-".indexOf(_[T])>-1||l.Nd[t(_[T])]?N+=b:(yield s("NUMBER",N,[F,T-P-N.length],[F,T-P],C),I=null,T--);else if("+"!=b&&"-"!=b||!N.toLowerCase().endsWith("e"))if("j"==b.toLowerCase())N+=b,yield s("NUMBER",N,[F,T-P-N.length+1],[F,T-P+1],C),I=null;else{var Y,Q;if("0123456789".indexOf(b)>-1?Y=`invalid digit '${b}' in `:(b>="a"&&b<="z"||b>="A"&&b<="Z")&&(Y="invalid "),Y)throw Y+={b:"binary",o:"octal",x:"hexadecimal"}[j]+" literal",(Q=SyntaxError(Y)).lineno=F,Q.col_offset=T-P,Q.end_lineno=F,Q.end_col_offset=Q.col_offset+1,Q.line=C,Q;yield s("NUMBER",N,[F,T-P-N.length],[F,T-P],C),I=null,T--}else N+=b;else{if(N.endsWith("_"))throw SyntaxError("consecutive _ in number");void 0!==_[T]&&i(j,_[T])?N+=b:(yield s("NUMBER",N,[F,T-P-N.length],[F,T-P],C),I=null,T--)}}if(L.length>0)throw SyntaxError("EOF in multi-line statement");switch(I){case"line_start":F++;break;case"NAME":yield s("NAME",E,[F,T-P-E.length+1],[F,T-P+1],C);break;case"NUMBER":yield s("NUMBER",N,[F,T-P-N.length+1],[F,T-P+1],C);break;case"STRING":var H="unterminated "+(x?"triple-quoted ":"")+`string literal (detected at line ${F})`;throw SyntaxError(H)}for(_.endsWith("\n")||I==P||(yield s("NEWLINE","",[F,T-P+1],[F,T-P+1],C+"\n"),F++);O.length>0;)O.pop(),yield s("DEDENT","",[F,0],[F,0],"");yield s("ENDMARKER","",[F,0],[F,0],"")}}(__BRYTHON__),function($B){$B.ast_classes={Add:"",And:"",AnnAssign:"target,annotation,value?,simple",Assert:"test,msg?",Assign:"targets*,value,type_comment?",AsyncFor:"target,iter,body*,orelse*,type_comment?",AsyncFunctionDef:"name,args,body*,decorator_list*,returns?,type_comment?",AsyncWith:"items*,body*,type_comment?",Attribute:"value,attr,ctx",AugAssign:"target,op,value",Await:"value",BinOp:"left,op,right",BitAnd:"",BitOr:"",BitXor:"",BoolOp:"op,values*",Break:"",Call:"func,args*,keywords*",ClassDef:"name,bases*,keywords*,body*,decorator_list*",Compare:"left,ops*,comparators*",Constant:"value,kind?",Continue:"",Del:"",Delete:"targets*",Dict:"keys*,values*",DictComp:"key,value,generators*",Div:"",Eq:"",ExceptHandler:"type?,name?,body*",Expr:"value",Expression:"body",FloorDiv:"",For:"target,iter,body*,orelse*,type_comment?",FormattedValue:"value,conversion,format_spec?",FunctionDef:"name,args,body*,decorator_list*,returns?,type_comment?",FunctionType:"argtypes*,returns",GeneratorExp:"elt,generators*",Global:"names*",Gt:"",GtE:"",If:"test,body*,orelse*",IfExp:"test,body,orelse",Import:"names*",ImportFrom:"module?,names*,level?",In:"",Interactive:"body*",Invert:"",Is:"",IsNot:"",JoinedStr:"values*",LShift:"",Lambda:"args,body",List:"elts*,ctx",ListComp:"elt,generators*",Load:"",Lt:"",LtE:"",MatMult:"",Match:"subject,cases*",MatchAs:"pattern?,name?",MatchClass:"cls,patterns*,kwd_attrs*,kwd_patterns*",MatchMapping:"keys*,patterns*,rest?",MatchOr:"patterns*",MatchSequence:"patterns*",MatchSingleton:"value",MatchStar:"name?",MatchValue:"value",Mod:"",Module:"body*,type_ignores*",Mult:"",Name:"id,ctx",NamedExpr:"target,value",Nonlocal:"names*",Not:"",NotEq:"",NotIn:"",Or:"",Pass:"",Pow:"",RShift:"",Raise:"exc?,cause?",Return:"value?",Set:"elts*",SetComp:"elt,generators*",Slice:"lower?,upper?,step?",Starred:"value,ctx",Store:"",Sub:"",Subscript:"value,slice,ctx",Try:"body*,handlers*,orelse*,finalbody*",Tuple:"elts*,ctx",TypeIgnore:"lineno,tag",UAdd:"",USub:"",UnaryOp:"op,operand",While:"test,body*,orelse*",With:"items*,body*,type_comment?",Yield:"value?",YieldFrom:"value",alias:"name,asname?",arg:"arg,annotation?,type_comment?",arguments:"posonlyargs*,args*,vararg?,kwonlyargs*,kw_defaults*,kwarg?,defaults*",boolop:["And","Or"],cmpop:["Eq","NotEq","Lt","LtE","Gt","GtE","Is","IsNot","In","NotIn"],comprehension:"target,iter,ifs*,is_async",excepthandler:["ExceptHandler"],expr:["BoolOp","NamedExpr","BinOp","UnaryOp","Lambda","IfExp","Dict","Set","ListComp","SetComp","DictComp","GeneratorExp","Await","Yield","YieldFrom","Compare","Call","FormattedValue","JoinedStr","Constant","Attribute","Subscript","Starred","Name","List","Tuple","Slice"],expr_context:["Load","Store","Del"],keyword:"arg?,value",match_case:"pattern,guard?,body*",mod:["Module","Interactive","Expression","FunctionType"],operator:["Add","Sub","Mult","MatMult","Div","Mod","Pow","LShift","RShift","BitOr","BitXor","BitAnd","FloorDiv"],pattern:["MatchValue","MatchSingleton","MatchSequence","MatchMapping","MatchClass","MatchStar","MatchAs","MatchOr"],stmt:["FunctionDef","AsyncFunctionDef","ClassDef","Return","Delete","Assign","AugAssign","AnnAssign","For","AsyncFor","While","If","With","AsyncWith","Match","Raise","Try","Assert","Import","ImportFrom","Global","Nonlocal","Expr","Pass","Break","Continue"],type_ignore:["TypeIgnore"],unaryop:["Invert","Not","UAdd","USub"],withitem:"context_expr,optional_vars?"};var binary_ops={"+":"Add","-":"Sub","*":"Mult","/":"Div","//":"FloorDiv","%":"Mod","**":"Pow","<<":"LShift",">>":"RShift","|":"BitOr","^":"BitXor","&":"BitAnd","@":"MatMult"},boolean_ops={and:"And",or:"Or"},comparison_ops={"==":"Eq","!=":"NotEq","<":"Lt","<=":"LtE",">":"Gt",">=":"GtE",is:"Is",is_not:"IsNot",in:"In",not_in:"NotIn"},unary_ops={unary_inv:"Invert",unary_pos:"UAdd",unary_neg:"USub"},op_types=$B.op_types=[binary_ops,boolean_ops,comparison_ops,unary_ops],_b_=$B.builtins,ast=$B.ast={};for(var kl in $B.ast_classes){var args=$B.ast_classes[kl],js="";if("string"==typeof args){if(js=`ast.${kl} = function(${args.replace(/[*?]/g,"")}){\n`,args.length>0)for(var arg of args.split(","))arg.endsWith("*")?(arg=arg.substr(0,arg.length-1),js+=` this.${arg} = ${arg} === undefined ? [] : ${arg}\n`):arg.endsWith("?")?(arg=arg.substr(0,arg.length-1),js+=` this.${arg} = ${arg}\n`):js+=` this.${arg} = ${arg}\n`;js+="}"}else js=`ast.${kl} = [${args.map(e=>"ast."+e).join(",")}]\n`;try{eval(js)}catch(e){throw console.log("error",js),e}ast[kl].$name=kl,"string"==typeof args&&(ast[kl]._fields=args.split(","))}$B.ast_js_to_py=function(e){if($B.create_python_ast_classes(),void 0===e)return _b_.None;if(Array.isArray(e))return e.map($B.ast_js_to_py);var t=e.constructor.$name,r=$B.python_ast_classes[t],n={__class__:r};if(void 0===r)return e;for(var a of r._fields)n[a]=$B.ast_js_to_py(e[a]);for(var s of(n._attributes=$B.fast_tuple([]),["lineno","col_offset","end_lineno","end_col_offset"]))void 0!==e[s]&&(n[s]=e[s],n._attributes.push(s));return n},$B.ast_py_to_js=function(e){if(void 0!==e&&e!==_b_.None){if(Array.isArray(e))return e.map($B.ast_py_to_js);if("string"==typeof e)return e;var t=e.__class__.$infos.__name__,r=$B.ast[t];if(void 0===r)return e;var n=new r;for(var a of r._fields)(a.endsWith("?")||a.endsWith("*"))&&(a=a.substr(0,a.length-1)),n[a]=$B.ast_py_to_js(e[a]);for(var s of["lineno","col_offset","end_lineno","end_col_offset"])void 0!==e[s]&&(n[s]=e[s]);return n}},$B.create_python_ast_classes=function(){if(!$B.python_ast_classes)for(var e in $B.python_ast_classes={},$B.ast_classes)$B.python_ast_classes[e]=function(t){var r,n;"string"==typeof $B.ast_classes[t]&&(""==$B.ast_classes[t]?n=r=[]:r=(n=$B.ast_classes[t].split(",")).map(e=>e.endsWith("*")||e.endsWith("?")?e.substr(0,e.length-1):e));var a=$B.make_class(t),s={},o={},i=0;if(n)for(var _=0,l=r.length;_<l;_++){var c=r[_],u=n[_];i++,o[c]=null,u.endsWith("*")?s[c]=[]:u.endsWith("?")&&(s[c]=_b_.None)}return a.$factory=function(){var t=$B.args(e,i,$B.clone(o),Object.keys(o),arguments,$B.clone(s),null,"kw"),r={__class__:a,_attributes:$B.fast_tuple([])};for(var n in t)if("kw"==n)for(var n in t.kw.$string_dict)r[n]=t.kw.$string_dict[n][0];else r[n]=t[n];return"Constant"==e&&(r.value=$B.AST.$convert(t.value)),r},r&&(a._fields=r),a.__mro__=[$B.AST,_b_.object],a.__module__="ast",a}(e)};for(var op2ast_class=$B.op2ast_class={},ast_types=[ast.BinOp,ast.BoolOp,ast.Compare,ast.UnaryOp],i=0;i<4;i++)for(var op in op_types[i])op2ast_class[op]=[ast_types[i],ast[op_types[i][op]]]}(__BRYTHON__),function($B){var js,$pos,res,$op;$B.produce_ast=!1,Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Number.isSafeInteger=Number.isSafeInteger||function(e){return Number.isInteger(e)&&Math.abs(e)<=Number.MAX_SAFE_INTEGER};var _b_=$B.builtins,_window;_window=$B.isNode?{location:{href:"",origin:"",pathname:""}}:self,$B.parser={};var clone=$B.clone=function(e){var t={};for(var r in e)t[r]=e[r];return t};$B.last=function(e){return void 0===e&&console.log($B.frames_stack.slice()),e[e.length-1]},$B.list2obj=function(e,t){var r={},n=e.length;for(void 0===t&&(t=!0);n-- >0;)r[e[n]]=t;return r},$B.op2method={operations:{"**":"pow","//":"floordiv","<<":"lshift",">>":"rshift","+":"add","-":"sub","*":"mul","/":"truediv","%":"mod","@":"matmul"},augmented_assigns:{"//=":"ifloordiv",">>=":"irshift","<<=":"ilshift","**=":"ipow","+=":"iadd","-=":"isub","*=":"imul","/=":"itruediv","%=":"imod","&=":"iand","|=":"ior","^=":"ixor","@=":"imatmul"},binary:{"&":"and","|":"or","~":"invert","^":"xor"},comparisons:{"<":"lt",">":"gt","<=":"le",">=":"ge","==":"eq","!=":"ne"},boolean:{or:"or",and:"and",in:"in",not:"not",is:"is"},subset:function(){var e={},t=[];if("all"==arguments[0])(t=Object.keys($B.op2method)).splice(t.indexOf("subset"),1);else for(var r of arguments)t.push(r);for(var n of t){var a=$B.op2method[n];if(void 0===a)throw Error(n);for(var s in a)e[s]=a[s]}return e}};var $operators=$B.op2method.subset("all");for(var category in $B.method_to_op={},$B.op2method)for(var op in $B.op2method[category]){var method=`__${$B.op2method[category][op]}__`;$B.method_to_op[method]=op}var $augmented_assigns=$B.augmented_assigns=$B.op2method.augmented_assigns,noassign=$B.list2obj(["True","False","None","__debug__"]),$op_order=[["or"],["and"],["not"],["in","not_in"],["<","<=",">",">=","!=","==","is","is_not"],["|"],["^"],["&"],[">>","<<"],["+","-"],["*","@","/","//","%"],["unary_neg","unary_inv","unary_pos"],["**"]],$op_weight={},$weight=1;for(var _tmp of $op_order){for(var item of _tmp)$op_weight[item]=$weight;$weight++}var ast=$B.ast,op2ast_class=$B.op2ast_class;function ast_body(e){var t=[];for(var r of e.node.children){var n=r.C.tree[0];if(!(["single_kw","except","decorator"].indexOf(n.type)>-1||"condition"==n.type&&"elif"==n.token)){var a=n.ast();ast.expr.indexOf(a.constructor)>-1&&copy_position(a=new ast.Expr(a),a.value),t.push(a)}}return t}var ast_dump=$B.ast_dump=function(e,t){if(t=t||0,e===_b_.None)return"None";if("string"==typeof e)return`'${e}'`;if("number"==typeof e)return e+"";if(e.imaginary)return e.value+"j";if(Array.isArray(e)){if(0==e.length)return"[]";s="[\n";var r=[];for(var n of e)try{r.push(ast_dump(n,t+1))}catch(t){throw console.log("error",e),console.log("for item",n),t}return(s+=r.join(",\n"))+"]"}if(e.$name)return e.$name+"()";if(e instanceof ast.MatchSingleton)return`MatchSingleton(value=${$B.AST.$convert(e.value)})`;if(e instanceof ast.Constant)return(l=e.value).imaginary?`Constant(value=${_b_.repr(l.value)}j)`:`Constant(value=${$B.AST.$convert(l)})`;var a=Object.getPrototypeOf(e).constructor,s="  ".repeat(t)+a.$name+"(";void 0===$B.ast_classes[a.$name]&&console.log("no ast class",a);var o=$B.ast_classes[a.$name].split(","),i=[];if(o=o.map(e=>e.endsWith("*")||e.endsWith("?")?e.substr(0,e.length-1):e),[ast.Name].indexOf(a)>-1){for(var _ of o)void 0!==e[_]&&i.push(`${_}=${ast_dump(e[_])}`);return s+i.join(", ")+")"}for(var _ of o)if(void 0!==e[_]){var l=e[_];i.push(_+"="+ast_dump(e[_],t+1).trimStart())}return i.length>0&&(s+="\n",s+=i.map(e=>"  ".repeat(t+1)+e).join(",\n")),s+=")"},CO_FUTURE_ANNOTATIONS=16777216;function get_line(e,t){var r=$B.file_cache[e],n=_b_.None;void 0!==r&&(n=r.split("\n")[t-1]);return n}var VALID_FUTURES=["nested_scopes","generators","division","absolute_import","with_statement","print_function","unicode_literals","barry_as_FLUFL","generator_stop","annotations"];function set_position(e,t,r){e.lineno=t.start[0],e.col_offset=t.start[1],t=r||t,e.end_lineno=t.end[0],e.end_col_offset=t.end[1]}function copy_position(e,t){e.lineno=t.lineno,e.col_offset=t.col_offset,e.end_lineno=t.end_lineno,e.end_col_offset=t.end_col_offset}function first_position(e){for(var t=e;t.tree&&t.tree.length>0;)t=t.tree[0];return t.position}function last_position(e){for(var t=e;t.tree&&t.tree.length>0;)if((t=$B.last(t.tree)).end_position)return t.end_position;return t.end_position||t.position}function raise_error_known_location(e,t,r,n,a,s,o,i){var _=e.$factory(i);throw _.filename=t,_.lineno=r,_.offset=n+1,_.end_lineno=a,_.end_offset=s+1,_.text=o,_.args[1]=$B.fast_tuple([t,_.lineno,_.offset,_.text,_.end_lineno,_.end_offset]),_.$stack=$B.frames_stack.slice(),_}function raise_syntax_error_known_range(e,t,r,n){raise_error_known_location(_b_.SyntaxError,$get_module(e).filename,t.start[0],t.start[1],r.end[0],r.end[1],t.line,n)}function raise_error(e,t,r,n){var a=$get_module(t).filename;n=n||$token.value,(r=r||"invalid syntax").startsWith("(")&&(r="invalid syntax "+r),r=r.trim(),raise_error_known_location(e,a,n.start[0],n.start[1],n.end[0],n.end[1],n.line,r)}function raise_syntax_error(e,t,r){raise_error(_b_.SyntaxError,e,t,r)}function raise_indentation_error(e,t,r){if(r){var n=r.C.tree[0].type,a=r.C.tree[0].token,s=r.line_num;switch(n){case"class":n="class definition";break;case"condition":case"single_kw":n=`'${a}' statement`;break;case"def":n="function definition";break;case"case":case"except":case"for":case"match":case"try":case"while":case"with":n=`'${n}' statement`}t+=` after ${n} on line ${s}`}raise_error(_b_.IndentationError,e,t)}function check_assignment(e,t){var r,n="assign to",a=!1;t&&(r=t.once,n=t.action||n,a=void 0!==t.augmented&&t.augmented);var s=e,o=["assert","import","raise","return","decorator","comprehension","await"];function i(t,r,s){if(r=r||e.position,s=s||$token.value,a)raise_syntax_error_known_range(e,r,s,`'${t}' is an illegal expression for augmented assignment`);else{var o=t;Array.isArray(o)?o=o[0]:"="==$token.value.string&&"OP"==$token.value.type&&($parent_match(e,{type:"augm_assign"})&&raise_syntax_error(e),$parent_match(e,{type:"list_or_tuple"})||(o+=" here. Maybe you meant '==' instead of '='?")),raise_syntax_error_known_range(e,r,s,`cannot ${n} ${o}`)}}if("delete"!=n&&o.push("del"),"expr"==e.type)for(s=e;s.parent;)"expr"==s.parent.type&&s.parent,s=s.parent;if(function(e,t){for(var r=e;r;){if(r.parent&&r.parent.type==t&&r===r.parent.tree[0])return!0;r=r.parent}}(e,"augm_assign")&&raise_syntax_error(e),"target_list"!=e.type)for(s=e;s;){if(o.indexOf(s.type)>-1)raise_syntax_error(e,`(assign to ${s.type})`);else if("expr"==s.type){if($parent_match(s,{type:"annotation"}))return!0;"yield"==s.parent.type&&raise_syntax_error_known_range(s,s.parent.position,last_position(s),"assignment to yield expression not possible");var _=s.tree[0];if("op"==_.type)void 0!==$B.op2method.comparisons[s.tree[0].op]?($parent_match(s,{type:"target_list"})&&raise_syntax_error(e),i("comparison",_.tree[0].position,last_position(_))):i("expression",_.tree[0].position,last_position(_));else if("attribute"==_.type&&$parent_match(s,{type:"condition"}))i("attribute",s.position,last_position(e));else if("sub"==_.type&&$parent_match(s,{type:"condition"}))i("subscript",s.position,last_position(e));else if("unary"==_.type)i("expression",_.position,last_position(_));else if("call"==_.type)i("function call",_.position,_.end_position);else if("id"==_.type){var l=_.value;["None","True","False","__debug__"].indexOf(l)>-1&&("__debug__"==l&&a&&($token.value=_.position,raise_syntax_error(_,"cannot assign to __debug__")),i([l])),!0===noassign[l]&&i(keyword)}else if(["str","int","float","complex"].indexOf(_.type)>-1)"op"!=s.parent.type&&i("literal");else if("ellipsis"==_.type)i("ellipsis");else if("genexpr"==_.type)i(["generator expression"]);else if("starred"==_.type)"delete"==n&&i("starred",_.position,last_position(_)),check_assignment(_.tree[0],{action:n,once:!0});else if("named_expr"==_.type)_.parenthesized?"node"==s.parent.type?raise_syntax_error_known_range(e,_.target.position,last_position(_),"cannot assign to named expression here. Maybe you meant '==' instead of '='?"):"delete"==n&&i("named expression",_.position,last_position(_)):i("named expression");else if("list_or_tuple"==_.type)for(var c of s.tree)check_assignment(c,{action:n,once:!0});else"dict_or_set"==_.type?_.closed&&i("set"==_.real?"set display":"dict literal",s.position,last_position(_)):"lambda"==_.type?i("lambda"):"ternary"==_.type?i(["conditional expression"]):"JoinedStr"==_.type&&i("f-string expression",_.position,last_position(_))}else if("list_or_tuple"==s.type)for(var c of s.tree)check_assignment(c,{action:n,once:!0});else if("ternary"==s.type)i(["conditional expression"],s.position,last_position(e));else if("op"==s.type){var u=s.tree[0].position,f=$B.last(s.tree).tree[0],p=f.end_position||f.position;void 0!==$B.op2method.comparisons[s.op]?($parent_match(e,{type:"target_list"})&&raise_syntax_error(e),i("comparison",u,p)):i("expression",u,p)}else if("yield"==s.type)i("yield expression");else if(s.comprehension)break;if(r)break;s=s.parent}else for(var d of e.tree)check_assignment(d,{action:"assign to"})}function remove_abstract_expr(e){e.length>0&&"abstract_expr"==$B.last(e).type&&e.pop()}function show_line(e){var t=$get_node(e).line_num,r=$get_module(e).src;console.log("this",e,"\nline",t,r.split("\n")[t-1])}$B.future_features=function(e,t){var r=0,n=0;for(e.body[0]instanceof $B.ast.Expr&&e.body[0].value instanceof $B.ast.Constant&&"string"==typeof e.body[0].value.value&&n++;n<e.body.length;){var a=e.body[n];if(!(a instanceof $B.ast.ImportFrom&&"__future__"==a.module))break;for(var s of a.names){var o=s.name;"braces"==o?raise_error_known_location(_b_.SyntaxError,t,s.lineno,s.col_offset,s.end_lineno,s.end_col_offset,get_line(t,a.lineno),"not a chance"):"annotations"==o?r|=CO_FUTURE_ANNOTATIONS:-1==VALID_FUTURES.indexOf(o)&&raise_error_known_location(_b_.SyntaxError,t,s.lineno,s.col_offset,s.end_lineno,s.end_col_offset,get_line(t,a.lineno),`future feature ${o} is not defined`)}n++}return{features:r}},$B.format_indent=function(e,t){for(var r=e.split("\n"),n=t,a="",s=!1,o=!1,i=!1,_=0,l=r.length;_<l;_++){var c=r[_],u=!1,f=!0;o?f=!1:c=i?"    "+c.trim():c.trim(),f&&s&&(c.startsWith("else")||c.startsWith("catch")||c.startsWith("finally"))&&(a=a.substr(0,a.length-1),f=!1),s=c.endsWith("}"),c.startsWith("}")?n--:c.endsWith("}")&&(c=c.substr(0,c.length-1),u=!0),n<0&&($B.debug>2&&(console.log("wrong js indent"),console.log(a)),n=0);try{a+=(f?"  ".repeat(n):"")+c+"\n"}catch(e){throw console.log(a),e}if(c.endsWith("{"))n++;else if(u){--n<0&&(n=0);try{a+="  ".repeat(n)+"}\n"}catch(e){throw console.log(a),e}}o=c.endsWith("\\"),i=c.endsWith(",")&&(c.startsWith("var ")||i)}return a};var $Node=$B.parser.$Node=function(e){this.type=e,this.children=[]};$Node.prototype.add=function(e){this.children[this.children.length]=e,e.parent=this,e.module=this.module},$Node.prototype.ast=function(){var e=new ast.Module([],[]);for(var t of(e.lineno=this.line_num,this.children)){var r=t.C.tree[0];if(!(["single_kw","except","decorator"].indexOf(r.type)>-1||"condition"==r.type&&"elif"==r.token)){var n=t.C.tree[0].ast();ast.expr.indexOf(n.constructor)>-1&&copy_position(n=new ast.Expr(n),n.value),e.body.push(n)}}return"eval"==this.mode&&(!(e.body.length>1)&&e.body[0]instanceof $B.ast.Expr||raise_syntax_error(this.children[0].C,"eval() argument must be an expression"),copy_position(e=new $B.ast.Expression(e.body[0].value),e.body)),e},$Node.prototype.insert=function(e,t){this.children.splice(e,0,t),t.parent=this,t.module=this.module},$Node.prototype.show=function(e){var t="";if("module"===this.type){for(var r of this.children)t+=r.show(e);return t}for(var r of(t+=" ".repeat(e=e||0),t+=this.C,this.children.length>0&&(t+="{"),t+="\n",this.children))t+=r.show(e+4);return this.children.length>0&&(t+=" ".repeat(e),t+="}\n"),t};var $AbstractExprCtx=$B.parser.$AbstractExprCtx=function(e,t){this.type="abstract_expr",this.with_commas=t,this.parent=e,this.tree=[],this.position=$token.value,e.tree.push(this)};$AbstractExprCtx.prototype.transition=function(e,t){var r=this,n=r.packed,a=r.is_await;r.position;switch(e){case"await":case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"ellipsis":case"[":case"(":case"{":case".":case"not":case"lambda":case"yield":r.parent.tree.pop();var s,o=r.with_commas;r.packed&&(s=r.star_position),(r=r.parent).packed=n,r.is_await=a,void 0===r.position&&(r.position=$token.value),s&&(r.star_position=s)}switch(e){case"await":return new $AbstractExprCtx(new $AwaitCtx(new $ExprCtx(r,"await",!1)),!0);case"id":return new $IdCtx(new $ExprCtx(r,"id",o),t);case"str":return new $StringCtx(new $ExprCtx(r,"str",o),t);case"JoinedStr":return new JoinedStrCtx(new $ExprCtx(r,"str",o),t);case"bytes":return new $StringCtx(new $ExprCtx(r,"bytes",o),t);case"int":return new $NumberCtx("int",new $ExprCtx(r,"int",o),t);case"float":return new $NumberCtx("float",new $ExprCtx(r,"float",o),t);case"imaginary":return new $NumberCtx("imaginary",new $ExprCtx(r,"imaginary",o),t);case"(":return new $ListOrTupleCtx(new $ExprCtx(r,"tuple",o),"tuple");case"[":return new $ListOrTupleCtx(new $ExprCtx(r,"list",o),"list");case"{":return new $AbstractExprCtx(new $DictOrSetCtx(new $ExprCtx(r,"dict_or_set",o)),!1);case"ellipsis":return new $EllipsisCtx(new $ExprCtx(r,"ellipsis",o));case"not":return"op"==r.type&&"is"==r.op?(r.op="is_not",r):new $AbstractExprCtx(new $NotCtx(new $ExprCtx(r,"not",o)),!1);case"lambda":return new $LambdaCtx(new $ExprCtx(r,"lambda",o));case"op":var i=t;switch(i){case"*":r.parent.tree.pop();o=r.with_commas;return(r=r.parent).position=$token.value,new $AbstractExprCtx(new $StarredCtx(new $ExprCtx(r,"expr",o)),!1);case"**":r.parent.tree.pop();o=r.with_commas;return(r=r.parent).position=$token.value,new $AbstractExprCtx(new KwdCtx(new $ExprCtx(r,"expr",o)),!1);case"-":case"~":case"+":return r.parent.tree.pop(),new $AbstractExprCtx(new $UnaryCtx(new $ExprCtx(r.parent,"unary",!1),i),!1);case"not":r.parent.tree.pop();o=r.with_commas;return r=r.parent,new $NotCtx(new $ExprCtx(r,"not",o));case"...":return new $EllipsisCtx(new $ExprCtx(r,"ellipsis",o))}raise_syntax_error(r);case"in":if("op"==r.parent.type&&"not"==r.parent.op)return r.parent.op="not_in",r;raise_syntax_error(r);case"=":"yield"==r.parent.type&&raise_syntax_error(r,"assignment to yield expression not possible",r.parent.position),raise_syntax_error(r);case"yield":return new $AbstractExprCtx(new $YieldCtx(r),!0);case":":return"sub"==r.parent.type||"list_or_tuple"==r.parent.type&&"sub"==r.parent.parent.type?new $AbstractExprCtx(new $SliceCtx(r.parent),!1):$transition(r.parent,e,t);case")":case",":switch(r.parent.type){case"list_or_tuple":case"slice":case"call_arg":case"op":case"yield":break;case"match":if(","==e){r.parent.tree.pop();var _=new $ListOrTupleCtx(r.parent,"tuple");return _.implicit=!0,_.has_comma=!0,_.tree=[r],r.parent=_,_}break;default:raise_syntax_error(r)}break;case".":case"assert":case"break":case"class":case"continue":case"def":case"except":case"for":case"while":case"in":case"return":case"try":raise_syntax_error(r)}return $transition(r.parent,e,t)};var $AliasCtx=$B.parser.$AliasCtx=function(e){this.type="ctx_manager_alias",this.parent=e,this.tree=[],e.tree[e.tree.length-1].alias=this};$AliasCtx.prototype.transition=function(e,t){var r=this;switch(e){case",":case")":case":":return check_assignment(r.tree[0]),r.parent.set_alias(r.tree[0].tree[0]),$transition(r.parent,e,t);case"eol":$token.value=last_position(r),raise_syntax_error(r,"expected ':'")}raise_syntax_error(r)};var $AnnotationCtx=$B.parser.$AnnotationCtx=function(e){this.type="annotation",this.parent=e,this.tree=[],this.src=$get_module(this).src;var t=this.src.substr($pos);t.startsWith(":")?this.start=$pos+1:t.startsWith("->")&&(this.start=$pos+2),this.string="",e.annotation=this;var r=$get_scope(e);if("def"==r.ntype&&e.tree&&e.tree.length>0&&"id"==e.tree[0].type){var n=e.tree[0].value;r.annotations=r.annotations||new Set,r.annotations.add(n)}};$AnnotationCtx.prototype.transition=function(e,t){var r=this;return this.string=this.src.substring(this.start,$pos),"eol"==e&&1==r.tree.length&&0==r.tree[0].tree.length?raise_syntax_error(r):":"==e&&"def"!=r.parent.type?raise_syntax_error(r,"more than one annotation"):"augm_assign"==e?raise_syntax_error(r,"augmented assign as annotation"):"op"==e&&raise_syntax_error(r,"operator as annotation"),$transition(r.parent,e)};var $AssertCtx=$B.parser.$AssertCtx=function(e){this.type="assert",this.parent=e,this.tree=[],this.position=$token.value,e.tree[e.tree.length]=this};$AssertCtx.prototype.ast=function(){var e=this.tree[1],t=new ast.Assert(this.tree[0].ast(),void 0===e?e:e.ast());return set_position(t,this.position),t},$AssertCtx.prototype.transition=function(e,t){var r=this;return","==e?(this.tree.length>1&&raise_syntax_error(r,"(too many commas after assert)"),new $AbstractExprCtx(this,!1)):"eol"==e?$transition(r.parent,e):void raise_syntax_error(r)};var $AssignCtx=$B.parser.$AssignCtx=function(e,t){check_assignment(e),this.type="assign",this.position=$token.value,e.parent.tree.pop(),e.parent.tree.push(this),this.parent=e.parent,this.tree=[e];$get_scope(this);if("assign"==e.type)check_assignment(e.tree[1]);else{var r=e.tree[0];if("ellipsis"==r.type)raise_syntax_error(e,"cannot assign to Ellipsis");else if("unary"==r.type)raise_syntax_error(e,"cannot assign to operator");else if("starred"==r.type){if("id"==r.tree[0].name){var n=r.tree[0].tree[0].value;["None","True","False","__debug__"].indexOf(n)>-1&&raise_syntax_error(e,"cannot assign to "+n)}void 0===r.parent.in_tuple&&raise_syntax_error(e,"starred assignment target must be in a list or tuple")}}};function set_ctx_to_store(e){if(Array.isArray(e))for(var t of e)set_ctx_to_store(t);else if(e instanceof ast.List||e instanceof ast.Tuple)for(var t of e.elts)set_ctx_to_store(t);else e instanceof ast.Starred?e.value.ctx=new ast.Store:void 0===e||(e.ctx?e.ctx=new ast.Store:console.log("bizarre",e,e.constructor.$name))}$AssignCtx.prototype.ast=function(){var e=this.tree[1].ast(),t=[],r=this.tree[0];if("expr"==r.type&&"list_or_tuple"==r.tree[0].type&&(r=r.tree[0]),"list_or_tuple"==r.type)(r=r.ast()).ctx=new ast.Store,t=[r];else{for(;"assign"==r.type;)t.splice(0,0,r.tree[1].ast()),r=r.tree[0];t.splice(0,0,r.ast())}e.ctx=new ast.Load;$get_node(this).line_num;if(r.annotation)set_position((n=new ast.AnnAssign(r.tree[0].ast(),r.annotation.tree[0].ast(),e,1)).annotation,r.annotation.position,last_position(r.annotation)),n.target.ctx=new ast.Store;else var n=new ast.Assign(t,e);return set_position(n,this.position),set_ctx_to_store(n.targets),n},$AssignCtx.prototype.transition=function(e,t){var r=this;if("eol"==e)return"abstract_expr"==r.tree[1].type&&raise_syntax_error(r),$transition(r.parent,"eol");raise_syntax_error(r)};var $AsyncCtx=$B.parser.$AsyncCtx=function(e){this.type="async",this.parent=e,e.async=!0,this.position=e.position=$token.value};$AsyncCtx.prototype.transition=function(e,t){var r,n=this;return"def"==e?$transition(n.parent,e,t):"with"==e?((r=$transition(n.parent,e,t)).async=n,r):"for"==e?((r=$transition(n.parent,e,t)).parent.async=n,r):void raise_syntax_error(n)};var $AttrCtx=$B.parser.$AttrCtx=function(e){this.type="attribute",this.value=e.tree[0],this.parent=e,this.position=$token.value,e.tree.pop(),e.tree[e.tree.length]=this,this.tree=[],this.func="getattr"};$AttrCtx.prototype.ast=function(){var e=this.value.ast(),t=this.unmangled_name,r=new ast.Load;"setattr"==this.func?r=new ast.Store:"delattr"==this.func&&(r=new ast.Delete);var n=new ast.Attribute(e,t,r);return set_position(n,this.position,this.end_position),n},$AttrCtx.prototype.transition=function(e,t){var r=this;if("id"===e){var n=t;return"__debug__"==n?raise_syntax_error(r,"cannot assign to __debug__"):!0===noassign[n]&&raise_syntax_error(r),r.unmangled_name=n,r.position=$token.value,r.end_position=$token.value,n=$mangle(n,r),r.name=n,r.parent}raise_syntax_error(r)};var $AugmentedAssignCtx=$B.parser.$AugmentedAssignCtx=function(e,t){check_assignment(e,{augmented:!0}),this.type="augm_assign",this.C=e,this.parent=e.parent,this.position=$token.value,e.parent.tree.pop(),e.parent.tree[e.parent.tree.length]=this,this.op=t,this.tree=[e];var r=this.scope=$get_scope(this);this.module=r.module};$AugmentedAssignCtx.prototype.ast=function(){var e=this.tree[0].ast(),t=this.tree[1].ast();e.ctx=new ast.Store,t.ctx=new ast.Load;var r=this.op.substr(0,this.op.length-1),n=op2ast_class[r][1],a=new ast.AugAssign(e,new n,t);return set_position(a,this.position),a},$AugmentedAssignCtx.prototype.transition=function(e,t){var r=this;if("eol"==e)return"abstract_expr"==r.tree[1].type&&raise_syntax_error(r),$transition(r.parent,"eol");raise_syntax_error(r)};var $AwaitCtx=$B.parser.$AwaitCtx=function(e){this.type="await",this.parent=e,this.tree=[],this.position=$token.value,e.tree.push(this);for(var t=e;t;)"list_or_tuple"==t.type&&(t.is_await=!0),t=t.parent;var r=$get_node(this);r.awaits=r.awaits||[],r.awaits.push(this)};$AwaitCtx.prototype.ast=function(){var e=new ast.Await(this.tree[0].ast());return set_position(e,this.position),e},$AwaitCtx.prototype.transition=function(e,t){return this.parent.is_await=!0,$transition(this.parent,e,t)};var $BodyCtx=$B.parser.$BodyCtx=function(e){for(var t=e.parent;"node"!==t.type;)t=t.parent;var r=t.node,n=new $Node;return n.is_body_node=!0,n.line_num=r.line_num,r.insert(0,n),new $NodeCtx(n)},$BreakCtx=$B.parser.$BreakCtx=function(e){this.type="break",this.position=$token.value,this.parent=e,e.tree[e.tree.length]=this};$BreakCtx.prototype.ast=function(){var e=new ast.Break;return set_position(e,this.position),e},$BreakCtx.prototype.transition=function(e,t){if("eol"==e)return $transition(this.parent,"eol");raise_syntax_error(this)};var $CallArgCtx=$B.parser.$CallArgCtx=function(e){this.type="call_arg",this.parent=e,this.start=$pos,this.tree=[],this.position=$token.value,e.tree.push(this),this.expect="id"};$CallArgCtx.prototype.transition=function(e,t){var r=this;switch(e){case"await":case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"ellipsis":case"not":case"lambda":if("id"==r.expect){this.position=$token.value,r.expect=",";var n=new $AbstractExprCtx(r,!1);return $transition(n,e,t)}break;case"=":if(","==r.expect)return new $ExprCtx(new $KwArgCtx(r),"kw_value",!1);break;case"for":return new $TargetListCtx(new $ForExpr(new GeneratorExpCtx(r)));case"op":if("id"==r.expect){var a=t;switch(r.expect=",",a){case"+":case"-":case"~":return $transition(new $AbstractExprCtx(r,!1),e,a);case"*":return r.parent.tree.pop(),new $StarArgCtx(r.parent);case"**":return r.parent.tree.pop(),new $DoubleStarArgCtx(r.parent)}}raise_syntax_error(r);case")":return $transition(r.parent,e);case":":if(","==r.expect&&"lambda"==r.parent.parent.type)return $transition(r.parent.parent,e);break;case",":if(","==r.expect)return $transition(r.parent,e,t)}raise_syntax_error(r)};var $CallCtx=$B.parser.$CallCtx=function(e){this.position=$token.value,this.type="call",this.func=e.tree[0],void 0!==this.func&&(this.func.parent=this,this.parenth_position=this.position,this.position=this.func.position),this.parent=e,"class"!=e.type?(e.tree.pop(),e.tree[e.tree.length]=this):e.args=this,this.expect="id",this.tree=[],this.start=$pos};$CallCtx.prototype.ast=function(){var e=new ast.Call(this.func.ast(),[],[]),t=new Set;for(var r of this.tree)if("double_star_arg"==r.type){var n=r.tree[0].tree[0].ast();delete(o=new ast.keyword(_b_.None,n)).arg,e.keywords.push(o)}else if("star_arg"==r.type){e.keywords.length>0&&(e.keywords[0].arg||raise_syntax_error(this,"iterable argument unpacking follows keyword argument unpacking"));var a=new ast.Starred(r.tree[0].ast());set_position(a,r.position),a.ctx=new ast.Load,e.args.push(a)}else if("genexpr"==r.type)e.args.push(r.ast());else{var s=r.tree[0];if(void 0===s)continue;if("kwarg"==s.type){var o,i=s.tree[0].value;"__debug__"==i?raise_syntax_error_known_range(this,this.position,this.end_position,"cannot assign to __debug__"):["True","False","None"].indexOf(i)>-1&&raise_syntax_error_known_range(this,s.position,s.equal_sign_position,'expression cannot contain assignment, perhaps you meant "=="?'),t.has(i)&&raise_syntax_error_known_range(s,s.position,last_position(s),`keyword argument repeated: ${i}`),t.add(i),set_position(o=new ast.keyword(s.tree[0].value,s.tree[1].ast()),s.position),e.keywords.push(o)}else e.keywords.length>0&&(e.keywords[0].arg?raise_syntax_error_known_range(this,s.position,last_position(s),"positional argument follows keyword argument"):raise_syntax_error_known_range(this,s.position,last_position(s),"positional argument follows keyword argument unpacking")),e.args.push(s.ast())}return set_position(e,this.position,this.end_position),e},$CallCtx.prototype.transition=function(e,t){var r=this;switch(e){case",":return"id"==r.expect&&raise_syntax_error(r),r.expect="id",r;case"await":case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":case"ellipsis":return r.expect=",",$transition(new $CallArgCtx(r),e,t);case")":return r.end=$pos,r.end_position=$token.value,r.parent;case"op":switch(r.expect=",",t){case"-":case"~":case"+":return r.expect=",",$transition(new $CallArgCtx(r),e,t);case"*":return r.has_star=!0,new $StarArgCtx(r);case"**":return r.has_dstar=!0,new $DoubleStarArgCtx(r)}raise_syntax_error(r);case"yield":raise_syntax_error(r)}return $transition(r.parent,e,t)};var $CaseCtx=$B.parser.$CaseCtx=function(e){this.type="case",this.position=$token.value,e.tree=[this],this.parent=e,this.tree=[],this.expect="as"};$CaseCtx.prototype.ast=function(){var e=new ast.match_case(this.tree[0].ast(),this.has_guard?this.tree[1].tree[0].ast():void 0,ast_body(this.parent));return set_position(e,this.position),e},$CaseCtx.prototype.set_alias=function(e){this.alias=e},$CaseCtx.prototype.transition=function(e,t){var r=this;switch(e){case"as":return r.expect=":",new $AbstractExprCtx(new $AliasCtx(r));case":":var n;switch((n=function e(t){var r;if("capture_pattern"==t.type)return t.tree[0];if("or_pattern"==t.type){for(var n of t.tree)if(r=e(n))return r}else if("sequence_pattern"==t.type&&"("==t.token&&1==t.tree.length&&(r=e(t.tree[0])))return r;return!1}(this.tree[0]))&&($get_node(r).parent.irrefutable=n),r.expect){case"id":case"as":case":":var a=$B.last(r.tree);return a&&"sequence_pattern"==a.type&&remove_empty_pattern(a),$BodyCtx(r)}break;case"op":if("|"==t)return new $PatternCtx(new $PatternOrCtx(r));raise_syntax_error(r,"expected :");case",":if(":"==r.expect||"as"==r.expect)return new $PatternCtx(new $PatternSequenceCtx(r));case"if":return r.has_guard=!0,new $AbstractExprCtx(new $ConditionCtx(r,e),!1);default:raise_syntax_error(r,"expected :")}};var $ClassCtx=$B.parser.$ClassCtx=function(e){this.type="class",this.parent=e,this.tree=[],this.position=$token.value,e.tree[e.tree.length]=this,this.expect="id";var t=this.scope=$get_scope(this);this.parent.node.parent_block=t,this.parent.node.bound={}};$ClassCtx.prototype.ast=function(){var e=get_decorators(this.parent.node),t=[],r=[];if(this.args)for(var n of this.args.tree)"kwarg"==n.tree[0].type?r.push(new ast.keyword(n.tree[0].tree[0].value,n.tree[0].tree[1].ast())):t.push(n.tree[0].ast());var a=new ast.ClassDef(this.name,t,r,ast_body(this.parent),e);return set_position(a,this.position),a},$ClassCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":if("id"==r.expect)return r.set_name(t),r.expect="(:",r;break;case"(":return void 0===r.name&&raise_syntax_error(r,"missing class name"),r.parenthesis_position=$token.value,new $CallCtx(r);case":":if(this.args)for(var n of this.args.tree){var a=n.tree[0];"call_arg"!=n.type&&($token.value=r.parenthesis_position,raise_syntax_error(r,"expected ':'")),"expr"==a.type&&"id"==a.name||"kwarg"==a.type||($token.value=n.position,raise_syntax_error(n,"invalid class parameter"))}return $BodyCtx(r);case"eol":raise_syntax_error(r,"expected ':'")}raise_syntax_error(r)},$ClassCtx.prototype.set_name=function(e){var t=this.parent;this.random=$B.UUID(),this.name=e,this.id=t.node.module+"_"+e+"_"+this.random,this.parent.node.id=this.id;for(var r=this.scope,n=r,a=r,s=[];"class"==a.ntype;)s.splice(0,0,a.C.tree[0].name),a=a.parent;for(this.qualname=s.concat([e]).join(".");n.C&&"class"==n.C.tree[0].type;)n=n.parent;for(;n.C&&"def"!=n.C.tree[0].type&&"generator"!=n.C.tree[0].type;)n=n.parent;this.parent.node.parent_block=n};var Comprehension={generators:function(e){var t=[];for(item of e)"for"==item.type?t.push(new ast.comprehension(item.tree[0].ast(),item.tree[1].ast(),[],item.is_async?1:0)):$B.last(t).ifs.push(item.tree[0].ast());return t},make_comp:function(e,t){e.comprehension=!0,e.position=$token.value,e.parent=t.parent,e.id=e.type+$B.UUID();var r=$get_scope(t);for(e.parent_block=r;r;){if(r.C&&r.C.tree&&r.C.tree.length>0&&r.C.tree[0].async){e.async=!0;break}r=r.parent_block}e.module=$get_module(t).module,e.module_ref=e.module.replace(/\./g,"_"),t.parent.tree[t.parent.tree.length-1]=e,Comprehension.set_parent_block(t.tree[0],e)},set_parent_block:function(e,t){if(e.tree)for(var r of e.tree)r.comprehension&&(r.parent_block=t),Comprehension.set_parent_block(r,t)}},$ConditionCtx=$B.parser.$ConditionCtx=function(e,t){if(this.type="condition",this.token=t,this.parent=e,this.tree=[],this.position=$token.value,this.node=$get_node(this),this.scope=$get_scope(this),"elif"==t){var r=this.node.parent.children.indexOf(this.node);this.node.parent.children[r-1].C.tree[0].orelse=this}e.tree.push(this)};$ConditionCtx.prototype.ast=function(){var e=new ast[{if:"If",while:"While",elif:"If"}[this.token]](this.tree[0].ast());return this.orelse?"elif"==this.orelse.token?e.orelse=[this.orelse.ast()]:e.orelse=this.orelse.ast():e.orelse=[],e.body=ast_body(this),set_position(e,this.position),e},$ConditionCtx.prototype.transition=function(e,t){var r=this;if(":"==e)return"abstract_expr"==r.tree[0].type&&0==r.tree[0].tree.length&&raise_syntax_error(r),$BodyCtx(r);if(r.in_comp&&"if"==r.token){if("]"==e)return $transition(r.parent,e,t);if("if"==e){var n=new $ConditionCtx(r.parent,"if");return n.in_comp=r.in_comp,new $AbstractExprCtx(n,!1)}if(")]}".indexOf(e)>-1)return $transition(this.parent,e,t);if(r.in_comp&&"for"==e)return new $TargetListCtx(new $ForExpr(r.parent));","==e&&$parent_match(r,{type:"call"})&&raise_syntax_error_known_range(r,r.in_comp.position,last_position(r),"Generator expression must be parenthesized")}raise_syntax_error(r,"expected ':'")};var $ContinueCtx=$B.parser.$ContinueCtx=function(e){this.type="continue",this.parent=e,this.position=$token.value,$get_node(this).is_continue=!0,e.tree[e.tree.length]=this};$ContinueCtx.prototype.ast=function(){var e=new ast.Continue;return set_position(e,this.position),e},$ContinueCtx.prototype.transition=function(e,t){if("eol"==e)return this.parent;raise_syntax_error(this)};var $DecoratorCtx=$B.parser.$DecoratorCtx=function(e){this.type="decorator",this.parent=e,e.tree[e.tree.length]=this,this.tree=[],this.position=$token.value};function get_decorators(e){for(var t=[],r=e.parent,n=r.children.indexOf(e);!(--n<0)&&"decorator"==r.children[n].C.tree[0].type;){var a=r.children[n].C.tree[0].tree[0];t.splice(0,0,a.ast())}return t}$DecoratorCtx.prototype.transition=function(e,t){if("eol"==e)return $transition(this.parent,e);raise_syntax_error(this)};var $DefCtx=$B.parser.$DefCtx=function(e){this.type="def",this.name=null,this.parent=e,this.tree=[],this.async=e.async,this.async?this.position=e.position:this.position=$token.value,e.tree[e.tree.length]=this,this.enclosing=[];var t=this.scope=$get_scope(this);t.C&&"class"==t.C.tree[0].type&&(this.class_name=t.C.tree[0].name);for(var r=t;r.C&&"class"==r.C.tree[0].type;)r=r.parent;for(;r.C&&"def"!=r.C.tree[0].type;)r=r.parent;this.parent.node.parent_block=r;var n=r;for(this.is_comp=n.is_comp;n&&n.C;){if("def"==n.C.tree[0].type){this.inside_function=!0;break}n=n.parent_block}this.module=t.module,this.root=$get_module(this),this.positional_list=[],this.default_list=[],this.other_args=null,this.other_kw=null,this.after_star=[]};$DefCtx.prototype.ast=function(){var e,t,r=get_decorators(this.parent.node);return e=this.tree[1].ast(),t=this.async?new ast.AsyncFunctionDef(this.name,e,[],r):new ast.FunctionDef(this.name,e,[],r),this.annotation&&(t.returns=this.annotation.tree[0].ast()),t.body=ast_body(this.parent),set_position(t,this.position),t},$DefCtx.prototype.set_name=function(e){["None","True","False"].indexOf(e)>-1&&raise_syntax_error(this);new $IdCtx(this,e);this.name=e,this.id=this.scope.id+"_"+e,this.id=this.id.replace(/\./g,"_"),this.id+="_"+$B.UUID(),this.parent.node.id=this.id,this.parent.node.module=this.module},$DefCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":return r.name&&raise_syntax_error(r),r.set_name(t),r;case"(":return null==r.name&&raise_syntax_error(r,"missing name in function definition"),r.has_args=!0,new $FuncArgs(r);case")":return r;case"annotation":return new $AbstractExprCtx(new $AnnotationCtx(r),!0);case":":if(r.has_args)return $BodyCtx(r);raise_syntax_error(r,"missing function parameters");case"eol":r.has_args&&raise_syntax_error(r,"expected ':'")}raise_syntax_error(r)};var $DelCtx=$B.parser.$DelCtx=function(e){this.type="del",this.parent=e,e.tree.push(this),this.tree=[],this.position=$token.value};$DelCtx.prototype.ast=function(){var e;if("list_or_tuple"==this.tree[0].type)e=this.tree[0].tree.map(e=>e.ast());else{if("expr"==this.tree[0].type&&"list_or_tuple"==this.tree[0].tree[0].type){for(var t of((e=this.tree[0].tree[0].ast()).ctx=new ast.Del,e.elts))t.ctx=new ast.Del;var r;return set_position(r=new ast.Delete([e]),this.position),r}e=[this.tree[0].tree[0].ast()]}for(var n of e)n.ctx=new ast.Del;return set_position(r=new ast.Delete(e),this.position),r},$DelCtx.prototype.transition=function(e,t){if("eol"==e)return check_assignment(this.tree[0],{action:"delete"}),$transition(this.parent,e);raise_syntax_error(this)};var DictCompCtx=function(e){"expr"==e.tree[0].type&&e.tree[0].tree[0].comprehension&&(e.tree[0].tree[0].parent_block=this);this.type="dictcomp",this.position=$token.value,this.comprehension=!0,this.parent=e.parent,this.key=e.tree[0],this.value=e.tree[1],this.key.parent=this,this.value.parent=this,this.tree=[],this.id="dictcomp"+$B.UUID(),this.parent_block=$get_scope(e),this.module=$get_module(e).module,e.parent.tree[e.parent.tree.length-1]=this,this.type="dictcomp",Comprehension.make_comp(this,e)};DictCompCtx.prototype.ast=function(){void 0===this.value.ast&&console.log("dict comp ast, no value.ast",this);var e=new ast.DictComp(this.key.ast(),this.value.ast(),Comprehension.generators(this.tree));return set_position(e,this.position),e},DictCompCtx.prototype.transition=function(e,t){if("}"==e)return this.parent;raise_syntax_error(this)};var $DictOrSetCtx=$B.parser.$DictOrSetCtx=function(e){this.type="dict_or_set",this.real="dict_or_set",this.expect=",",this.closed=!1,this.start=$pos,this.position=$token.value,this.nb_items=0,this.parent=e,this.tree=[],e.tree[e.tree.length]=this};$DictOrSetCtx.prototype.ast=function(){var e;if("dict"==this.real){for(var t=[],r=[],n=(Date.now(),0),a=this.items.length;n<a;n++)"expr"==this.items[n].type&&"kwd"==this.items[n].tree[0].type?(t.push(_b_.None),r.push(this.items[n].tree[0].tree[0].ast())):(t.push(this.items[n].ast()),r.push(this.items[n+1].ast()),n++);e=new ast.Dict(t,r)}else if("set"==this.real){var s=[];for(var o of this.items)if(o.packed){var i=new ast.Starred(o.ast(),new ast.Load);set_position(i,o.position),s.push(i)}else s.push(o.ast());e=new ast.Set(s)}return set_position(e,this.position),e},$DictOrSetCtx.prototype.transition=function(e,t){var r=this;if(r.closed){switch(e){case"[":return new $AbstractExprCtx(new $SubCtx(r.parent),!1);case"(":return new $CallArgCtx(new $CallCtx(r.parent))}return $transition(r.parent,e,t)}if(","==r.expect){function n(){var e,t=$B.last(r.tree);t&&t.wrong_assignment?e="invalid syntax. Maybe you meant '==' or ':=' instead of '='?":"dict"==r.real&&"expr"==t.type&&"starred"==t.tree[0].type?e="cannot use a starred expression in a dictionary value":"set"==r.real&&"kwd"==t.tree[0].type&&($token.value=t.position,raise_syntax_error(r)),e&&raise_syntax_error_known_range(r,t.position,last_position(t),e)}switch(e){case"}":switch("expr"==(a=$B.last(r.tree)).type&&"kwd"==a.tree[0].type?r.nb_items+=2:"abstract_expr"==a.type?r.tree.pop():r.nb_items++,n(),r.end_position=$token.value,r.real){case"dict_or_set":r.real=0==r.tree.length?"dict":"set";case"set":return r.items=r.tree,r.tree=[],r.closed=!0,r;case"dict":return"abstract_expr"==$B.last(r.tree).type?raise_syntax_error(r,"expression expected after dictionary key and ':'"):r.nb_items%2!=0&&raise_syntax_error(r,"':' expected after dictionary key"),r.items=r.tree,r.tree=[],r.closed=!0,r}raise_syntax_error(r);case",":if(n(),"expr"==(a=$B.last(r.tree)).type&&"kwd"==a.tree[0].type?r.nb_items+=2:r.nb_items++,"dict_or_set"==r.real){var a=r.tree[0];r.real="expr"==a.type&&"kwd"==a.tree[0].type?"dict":"set"}return"dict"==r.real&&r.nb_items%2&&raise_syntax_error(r,"':' expected after dictionary key"),new $AbstractExprCtx(r,!1);case":":if("dict_or_set"==r.real&&(r.real="dict"),"dict"==r.real)return r.expect="value",this.nb_items++,r.value_pos=$token.value,r;raise_syntax_error(r);case"for":"set"==r.real&&r.tree.length>1&&($token.value=r.tree[0].position,raise_syntax_error(r,"did you forget parentheses around the comprehension target?"));var s,o=r.tree[0];return"expr"==o.type&&("kwd"==o.tree[0].type?s="dict unpacking cannot be used in dict comprehension":"starred"==o.tree[0].type&&(s="iterable unpacking cannot be used in comprehension"),s&&raise_syntax_error_known_range(r,o.position,last_position(o),s)),"dict_or_set"==r.real?new $TargetListCtx(new $ForExpr(new SetCompCtx(this))):new $TargetListCtx(new $ForExpr(new DictCompCtx(this)))}raise_syntax_error(r)}else if("value"==r.expect){if(python_keywords.indexOf(e)>-1){var i=new $AbstractExprCtx(r,!1);try{$transition(i,e,t),r.tree.pop()}catch(_){raise_syntax_error(r)}}try{return r.expect=",",$transition(new $AbstractExprCtx(r,!1),e,t)}catch(l){$token.value=r.value_pos,raise_syntax_error(r,"expression expected after dictionary key and ':'")}}return $transition(r.parent,e,t)};var $DoubleStarArgCtx=$B.parser.$DoubleStarArgCtx=function(e){this.type="double_star_arg",this.parent=e,this.tree=[],e.tree[e.tree.length]=this};$DoubleStarArgCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":return $transition(new $AbstractExprCtx(r,!1),e,t);case",":case")":return $transition(r.parent,e);case":":if("lambda"==r.parent.parent.type)return $transition(r.parent.parent,e)}raise_syntax_error(r)};var $EllipsisCtx=$B.parser.$EllipsisCtx=function(e){this.type="ellipsis",this.parent=e,this.position=$token.value,e.tree[e.tree.length]=this};$EllipsisCtx.prototype.ast=function(){var e=new ast.Constant({type:"ellipsis"});return set_position(e,this.position),e},$EllipsisCtx.prototype.transition=function(e,t){return $transition(this.parent,e,t)};var $EndOfPositionalCtx=$B.parser.$EndOfConditionalCtx=function(e){this.type="end_positional",this.parent=e,e.has_end_positional=!0,e.parent.pos_only=e.tree.length,e.tree.push(this)};$EndOfPositionalCtx.prototype.transition=function(e,t){if(","==e||")"==e)return $transition(this.parent,e,t);raise_syntax_error(this)};var $ExceptCtx=$B.parser.$ExceptCtx=function(e){this.type="except",this.position=$token.value,this.parent=e,e.tree[e.tree.length]=this,this.tree=[],this.expect="id",this.scope=$get_scope(this)};$ExceptCtx.prototype.ast=function(){var e=new ast.ExceptHandler(1==this.tree.length?this.tree[0].ast():void 0,this.has_alias?this.tree[0].alias:void 0,ast_body(this.parent));return set_position(e,this.position),e},$ExceptCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case"not":case"lambda":if("id"==r.expect)return r.expect="as",$transition(new $AbstractExprCtx(r,!1),e,t);case"as":if("as"==r.expect&&void 0===r.has_alias)return r.expect="alias",r.has_alias=!0,r;case"id":if("alias"==r.expect)return r.expect=":",r.set_alias(t),r;break;case":":var n=r.expect;if("id"==n||"as"==n||":"==n)return $BodyCtx(r);break;case"(":if("id"==r.expect&&0==r.tree.length)return r.parenth=!0,r;break;case")":if(","==r.expect||"as"==r.expect)return r.expect="as",r;case",":if(void 0!==r.parenth&&void 0===r.has_alias&&("as"==r.expect||","==r.expect))return r.expect="id",r;void 0===r.parenth&&raise_syntax_error(r,"multiple exception types must be parenthesized");case"eol":raise_syntax_error(r,"expected ':'")}raise_syntax_error(r)},$ExceptCtx.prototype.set_alias=function(e){this.tree[0].alias=$mangle(e,this)};var $ExprCtx=$B.parser.$ExprCtx=function(e,t,r){this.type="expr",this.name=t,this.$pos=$pos,this.position=$token.value,this.with_commas=r,this.expect=",",this.parent=e,e.packed&&(this.packed=e.packed),this.tree=[],e.tree[e.tree.length]=this};$ExprCtx.prototype.ast=function(){var e=this.tree[0].ast();return this.packed||this.annotation&&set_position(e=new ast.AnnAssign(e,this.annotation.tree[0].ast(),void 0,1),this.position),e},$ExprCtx.prototype.transition=function(e,t){var r=this;if(python_keywords.indexOf(e)>-1&&-1==["as","else","if","for","from","in"].indexOf(e)&&(r.$pos=$pos,raise_syntax_error(r)),"star_target"==r.parent.expect&&["pass","in","not","op","augm_assign","=",":=","if","eol"].indexOf(e)>-1)return $transition(r.parent,e,t);switch(e){case"bytes":case"float":case"id":case"imaginary":case"int":case"lambda":case"pass":case"str":case"JoinedStr":raise_syntax_error_known_range(r,this.position,$token.value,"invalid syntax. Perhaps you forgot a comma?");break;case"{":return"id"==r.tree[0].type&&-1!=["print","exec"].indexOf(r.tree[0].value)||raise_syntax_error(r),new $AbstractExprCtx(new $DictOrSetCtx(r),!1);case"[":case"(":case".":case"not":if("expr"==r.expect)return r.expect=",",$transition(new $AbstractExprCtx(r,!1),e,t)}switch(e){case"not":if(","==r.expect)return new $ExprNot(r);break;case"in":if("target_list"==r.parent.type)return $transition(r.parent,e);if(","==r.expect)return $transition(r,"op","in");case",":if(","==r.expect){if("assign"==r.parent.type){var n=r.parent.tree[0];if("expr"==n.type&&"id"==n.tree[0].type)if("unary"==r.name||"operand"==r.name)raise_syntax_error_known_range(r,r.parent.tree[0].position,last_position(r),"invalid syntax. Maybe you meant '==' or ':=' instead of '='?")}if("iterator"==r.name&&"node"!=r.parent.parent.type){var a=r.parent.parent;raise_syntax_error_known_range(r,first_position(a),last_position(a),"Generator expression must be parenthesized")}if(r.with_commas||["assign","return"].indexOf(r.parent.type)>-1){$parent_match(r,{type:"yield",from:!0})&&raise_syntax_error(r,"no implicit tuple for yield from"),r.parent.tree.pop();var s=new $ListOrTupleCtx(r.parent,"tuple");return s.implicit=!0,s.has_comma=!0,s.tree=[r],r.parent=s,s}}return $transition(r.parent,e);case".":return new $AttrCtx(r);case"[":return"id"==r.tree[0].type&&delete r.tree[0].bound,new $AbstractExprCtx(new $SubCtx(r),!0);case"(":return new $CallCtx(r);case"op":"withitem"==r.parent.type&&2==r.parent.tree.length&&raise_syntax_error(r,"expected ':'");var o=r.parent,i=t;if("ternary"==o.type&&o.in_else){var _=new $OpCtx(r,i);return new $AbstractExprCtx(_,!1)}for(var l=r.parent,c=null;;)if("unary"==l.type&&"**"!==i)c=l,l=l.parent;else if("expr"==l.type)l=l.parent;else if("op"==l.type&&$op_weight[l.op]>=$op_weight[i]&&("**"!=l.op||"**"!=i))c=l,l=l.parent;else{if(!("not"==l.type&&$op_weight.not>$op_weight[i]))break;c=l,l=l.parent}if(null===c){if("op"==l.type){var u=l.tree.pop();(p=new $ExprCtx(l,"operand",r.with_commas)).tree.push(u),u.parent=p;_=new $OpCtx(p,i);return new $AbstractExprCtx(_,!1)}for(var f=r.position;r.parent!==l;)o=(r=r.parent).parent;var p;r.parent.tree.pop(),(p=new $ExprCtx(o,"operand",r.with_commas)).position=f,p.expect=",",r.parent=p;_=new $OpCtx(r,i);return new $AbstractExprCtx(_,!1)}if("and"===i||"or"===i)for(;"not"==c.parent.type||"expr"==c.parent.type&&"not"==c.parent.parent.type;)o=(c=c.parent).parent;if("op"==c.type){var d=!1;switch(c.op){case"<":case"<=":case"==":case"!=":case"is":case">=":case">":d=!0}if(d)switch(i){case"<":case"<=":case"==":case"!=":case"is":case">=":case">":case"in":case"not_in":return c.ops=c.ops||[c.op],c.ops.push(i),new $AbstractExprCtx(c,!1)}}c.parent.tree.pop(),(p=new $ExprCtx(c.parent,"operand",!1)).tree=[l],p.position=l.position,c.parent=p;_=new $OpCtx(c,i);return new $AbstractExprCtx(_,!1);case"augm_assign":check_assignment(r,{augmented:!0});for(var h=r;h;)"assign"==h.type||"augm_assign"==h.type?raise_syntax_error(r,"augmented assignment inside assignment"):"op"==h.type?raise_syntax_error(r,"cannot assign to operator"):"list_or_tuple"==h.type?raise_syntax_error(r,`'${h.real}' is an illegal expression for augmented assignment`):["list","tuple"].indexOf(h.name)>-1?raise_syntax_error(r,`'${h.name}' is an illegal expression for augmented assignment`):["dict_or_set"].indexOf(h.name)>-1&&raise_syntax_error(r,`'${h.tree[0].real} display' is an illegal expression for augmented assignment`),h=h.parent;return","==r.expect?new $AbstractExprCtx(new $AugmentedAssignCtx(r,t),!0):$transition(r.parent,e,t);case":":if("sub"==r.parent.type||"list_or_tuple"==r.parent.type&&"sub"==r.parent.parent.type)return new $AbstractExprCtx(new $SliceCtx(r.parent),!1);if("slice"==r.parent.type)return $transition(r.parent,e,t);if("node"==r.parent.type){if(1==r.tree.length){var $=r.tree[0];if(check_assignment($),["id","sub","attribute"].indexOf($.type)>-1)return new $AbstractExprCtx(new $AnnotationCtx(r),!1);if("tuple"==$.real&&","==$.expect&&1==$.tree.length)return new $AbstractExprCtx(new $AnnotationCtx($.tree[0]),!1)}var m=r.tree[0].real;raise_syntax_error_known_range(r,r.position,last_position(r),`only single target (not ${m}) can be annotated`)}break;case"=":var b,g=$parent_match(r,{type:"call_arg"});try{check_assignment(r)}catch(e){if(!g)throw e;for(var y=r;y.parent!==g;)y=y.parent;raise_syntax_error_known_range(y,y.position,$token.value,'expression cannot contain assignment, perhaps you meant "=="?')}if(","==r.expect){if("call_arg"==r.parent.type)return"id"!=r.tree[0].type&&raise_syntax_error_known_range(r,r.position,$token.value,'expression cannot contain assignment, perhaps you meant "=="?'),new $AbstractExprCtx(new $KwArgCtx(r),!0);if(b=$parent_match(r,{type:"annotation"}))return $transition(b,e,t);if("op"==r.parent.type)raise_syntax_error(r,"cannot assign to operator");else if("not"==r.parent.type)raise_syntax_error(r,"cannot assign to operator");else if("with"==r.parent.type)raise_syntax_error(r,"expected :");else if("dict_or_set"==r.parent.type){if(","==r.parent.expect)return r.wrong_assignment=!0,$transition(r,":=")}else if("list_or_tuple"==r.parent.type){for(var v=0;v<r.parent.tree.length;v++){var x=r.parent.tree[v];try{check_assignment(x,{once:!0})}catch(e){console.log(r),raise_syntax_error(r,"invalid syntax. Maybe you meant '==' or ':=' instead of '='?")}"expr"==x.type&&"operand"==x.name&&raise_syntax_error(r,"cannot assign to operator")}("list"==r.parent.real||"tuple"==r.parent.real&&!r.parent.implicit)&&raise_syntax_error(r,"invalid syntax. Maybe you meant '==' or ':=' instead of '='?")}else"expr"==r.parent.type&&"iterator"==r.parent.name?raise_syntax_error(r,"expected :"):"lambda"==r.parent.type?"node"!=r.parent.parent.parent.type&&raise_syntax_error(r,'expression cannot contain assignment, perhaps you meant "=="?'):"target_list"==r.parent.type&&raise_syntax_error(r,"(assign to target in iteration)");for(;void 0!==r.parent;)"condition"==(r=r.parent).type?raise_syntax_error(r,"invalid syntax. Maybe you meant '==' or ':=' instead of '='?"):"augm_assign"==r.type&&raise_syntax_error(r,"(assignment inside augmented assignment)");return r=r.tree[0],new $AbstractExprCtx(new $AssignCtx(r),!0)}break;case":=":var w=r.parent.type;if(["node","assign","kwarg","annotation"].indexOf(w)>-1||"func_arg_id"==w&&r.parent.tree.length>0?raise_syntax_error(r,"(:= invalid, parent "+w+")"):"call_arg"==w&&"call"==r.parent.parent.type&&"lambda"==r.parent.parent.parent.type&&raise_syntax_error(r,"(:= invalid inside function arguments)"),1==r.tree.length&&"id"==r.tree[0].type){var B=$get_scope(r),k=r.tree[0].value;for(["None","True","False"].indexOf(k)>-1?raise_syntax_error(r,`cannot use assignment expressions with ${k}`):"__debug__"==k&&raise_syntax_error(r,"cannot assign to __debug__");B.comprehension;)B=B.parent_block;return new $AbstractExprCtx(new NamedExprCtx(r),!1)}raise_syntax_error(r);case"if":var E=!1;for(y=r.parent;y;){if(y.comprehension){E=!0;break}if("list_or_tuple"==y.type)break;if("comp_for"==y.type)break;if("comp_if"==y.type){E=!0;break}if("call_arg"==y.type||"sub"==y.type)break;if("expr"==y.type&&"comp_iterable"==y.parent.type){E=!0;break}y=y.parent}if(E)break;for(y=r;y.parent&&("op"==y.parent.type||"not"==y.parent.type||"unary"==y.parent.type||"expr"==y.parent.type&&"operand"==y.parent.name);)y=y.parent;return new $AbstractExprCtx(new $TernaryCtx(y),!1);case"eol":if(2==r.tree.length&&"id"==r.tree[0].type&&["print","exec"].indexOf(r.tree[0].value)>-1){var N=r.tree[0].value;raise_syntax_error_known_range(r,r.position,$token.value,`Missing parentheses in call to '${N}'. Did you mean ${N}(...)?`)}if(-1==["dict_or_set","list_or_tuple","str"].indexOf(r.parent.type)){var j=r.tree[0];"starred"==j.type?($token.value=j.position,$parent_match(r,{type:"del"})&&raise_syntax_error(r,"cannot delete starred"),raise_syntax_error_known_range(r,j.position,last_position(j),"can't use starred expression here")):"call"==j.type&&"starred"==j.func.type&&($token.value=j.func.position,raise_syntax_error(r,"can't use starred expression here"))}}return $transition(r.parent,e)};var $ExprNot=$B.parser.$ExprNot=function(e){this.type="expr_not",this.parent=e,this.tree=[],e.tree[e.tree.length]=this};$ExprNot.prototype.transition=function(e,t){var r=this;if("in"==e){r.parent.tree.pop();for(var n=r.parent;"expr"!==n.type;)n=n.parent;return n.transition("op","not_in")}raise_syntax_error(r)};var $ForExpr=$B.parser.$ForExpr=function(e){e.node&&e.node.parent.is_comp&&(e.node.parent.first_for=this),this.type="for",this.parent=e,this.tree=[],this.position=$token.value,e.tree.push(this),this.scope=$get_scope(this),this.module=this.scope.module};$ForExpr.prototype.ast=function(){var e=this.tree[0].ast(),t=this.tree[1].ast(),r=this.orelse?this.orelse.ast():[],n=ast_body(this.parent);set_ctx_to_store(e);var a=new(this.async?ast.AsyncFor:ast.For)(e,t,n,r,undefined);return set_position(a,this.async?this.async.position:this.position,last_position(this)),a},$ForExpr.prototype.transition=function(e,t){var r=this;switch(e){case"in":return 0==r.tree[0].tree.length&&raise_syntax_error(r,"(missing target between 'for' and 'in')"),check_assignment(r.tree[0]),new $AbstractExprCtx(new $ExprCtx(r,"iterator",!0),!1);case":":return check_assignment(r.tree[0]),(r.tree.length<2||"abstract_expr"==r.tree[1].tree[0].type)&&raise_syntax_error(r),$BodyCtx(r)}if(this.parent.comprehension)switch(e){case"]":if("listcomp"==this.parent.type)return $transition(this.parent,e,t);break;case")":if("genexpr"==this.parent.type)return $transition(this.parent,e,t);break;case"}":if("dictcomp"==this.parent.type||"setcomp"==this.parent.type)return $transition(this.parent,e,t);break;case"for":return new $TargetListCtx(new $ForExpr(this.parent));case"if":var n=new $ConditionCtx(this.parent,"if");return n.in_comp=this.parent,new $AbstractExprCtx(n,!1)}"eol"==e&&($token.value=last_position(r),2==r.tree.length&&raise_syntax_error(r,"expected ':'")),raise_syntax_error(r)};var $FromCtx=$B.parser.$FromCtx=function(e){this.type="from",this.parent=e,this.module="",this.names=[],this.names_position=[],this.position=$token.value,e.tree[e.tree.length]=this,this.expect="module",this.scope=$get_scope(this)};$FromCtx.prototype.ast=function(){for(var e,t=this.module,r=0;t.length>0&&t.startsWith(".");)r++,t=t.substr(1);for(var n={module:t||void 0,names:[],level:r},a=0,s=this.names.length;a<s;a++){var o=this.names[a],i=this.names_position[a];set_position(e=Array.isArray(o)?new ast.alias(o[0],o[1]):new ast.alias(o),i),n.names.push(e)}var _=new ast.ImportFrom(n.module,n.names,n.level);return set_position(_,this.position),_},$FromCtx.prototype.add_name=function(e){this.names.push(e),this.names_position.push($token.value),"*"==e&&(this.scope.blurred=!0),this.end_position=$token.value},$FromCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":if("module"==r.expect)return r.module+=t,r;if("id"==r.expect)return r.add_name(t),r.expect=",",r;if("alias"==r.expect)return r.names[r.names.length-1]=[$B.last(r.names),t],r.expect=",",r;break;case".":if("module"==r.expect)return r.module+="id"==e?t:".",r;break;case"ellipsis":if("module"==r.expect)return r.module+="...",r;break;case"import":if(r.names.length>0&&raise_syntax_error(r,"only one 'import' allowed after 'from'"),"module"==r.expect)return r.expect="id",r;case"op":if("*"==t&&"id"==r.expect&&0==r.names.length)return"module"!==$get_scope(r).ntype&&raise_syntax_error(r,"import * only allowed at module level"),r.add_name("*"),r.expect="eol",r;raise_syntax_error(r);case",":if(","==r.expect)return r.expect="id",r;case"eol":switch(r.expect){case",":case"eol":return $transition(r.parent,e);case"id":raise_syntax_error(r,"trailing comma not allowed without surrounding parentheses");default:raise_syntax_error(r)}case"as":if(","==r.expect||"eol"==r.expect)return r.expect="alias",r;case"(":if("id"==r.expect)return r.expect="id",r;case")":if(","==r.expect||"id"==r.expect)return r.expect="eol",r}raise_syntax_error(r)};var $FuncArgs=$B.parser.$FuncArgs=function(e){this.type="func_args",this.parent=e,this.tree=[],this.names=[],e.tree[e.tree.length]=this,this.expect="id",this.has_default=!1,this.has_star_arg=!1,this.has_kw_arg=!1};$FuncArgs.prototype.ast=function(){var e,t={posonlyargs:[],args:[],kwonlyargs:[],kw_defaults:[],defaults:[]},r="arg";for(var n of this.tree)if("end_positional"==n.type)t.posonlyargs=t.args,t.args=[];else if("func_star_arg"==n.type)r="kwonly","*"==n.op&&"*"!=n.name?(t.vararg=new ast.arg(n.name),void 0===n.position&&(console.log("pas de position",n),alert()),set_position(t.vararg,n.position)):"**"==n.op&&(t.kwarg=new ast.arg(n.name),set_position(t.kwarg,n.position));else{e=!1,n.has_default&&(e=n.tree[0].ast());var a=new ast.arg(n.name);set_position(a,n.position,last_position(n)),n.annotation&&(a.annotation=n.annotation.tree[0].ast()),"kwonly"==r?(t.kwonlyargs.push(a),e?t.kw_defaults.push(e):t.kw_defaults.push(_b_.None)):(t.args.push(a),e&&t.defaults.push(e))}return new ast.arguments(t.posonlyargs,t.args,t.vararg,t.kwonlyargs,t.kw_defaults,t.kwarg,t.defaults)},$FuncArgs.prototype.transition=function(e,t){var r,n=this;function a(){if(0!=n.tree.length){var e=$B.last(n.tree);if(n.has_default&&!e.has_default){if("func_star_arg"==e.type||"end_positional"==e.type)return;if(n.has_star_arg)return;raise_syntax_error(n,"non-default argument follows default argument")}e.has_default&&(n.has_default=!0)}}switch(e){case"id":return n.has_kw_arg&&raise_syntax_error(n,"duplicate keyword argument"),"id"==n.expect&&(n.expect=",",n.names.indexOf(t)>-1&&raise_syntax_error(n,"duplicate argument "+t+" in function definition")),new $FuncArgIdCtx(n,t);case",":if(","==n.expect)return a(),n.expect="id",n;raise_syntax_error(n);case")":return a(),(r=$B.last(n.tree))&&"func_star_arg"==r.type&&"*"==r.name&&raise_syntax_error(n,"named arguments must follow bare *"),$transition(n.parent,e,t);case"op":n.has_kw_arg&&raise_syntax_error(n,"(unpacking after '**' argument)");var s=t;if(n.expect=",","*"==s)return n.has_star_arg&&raise_syntax_error(n,"(only one '*' argument allowed)"),new $FuncStarArgCtx(n,"*");if("**"==s)return new $FuncStarArgCtx(n,"**");if("/"==s)return n.has_end_positional?raise_syntax_error(n,"/ may appear only once"):n.has_star_arg&&raise_syntax_error(n,"/ must be ahead of *"),new $EndOfPositionalCtx(n);raise_syntax_error(n);case":":if("lambda"==n.parent.type)return $transition(n.parent,e)}raise_syntax_error(n)};var $FuncArgIdCtx=$B.parser.$FuncArgIdCtx=function(e,t){this.type="func_arg_id",["None","True","False"].indexOf(t)>-1&&raise_syntax_error(e),"__debug__"==t&&raise_syntax_error(e,"cannot assign to __debug__"),this.name=t,this.parent=e,this.position=$token.value,e.has_star_arg?e.parent.after_star.push(t):e.parent.positional_list.push(t),this.tree=[],e.tree[e.tree.length]=this,this.expect="="};$FuncArgIdCtx.prototype.transition=function(e,t){var r=this;switch(e){case"=":if("="==r.expect){r.has_default=!0;var n=r.parent.parent;return r.parent.has_star_arg?n.default_list.push(n.after_star.pop()):n.default_list.push(n.positional_list.pop()),new $AbstractExprCtx(r,!1)}break;case",":case")":if(!r.parent.has_default||0!=r.tree.length||void 0!==r.parent.has_star_arg)return $transition(r.parent,e);$pos-=r.name.length,raise_syntax_error(r,"non-default argument follows default argument");case":":return"lambda"==r.parent.parent.type?$transition(r.parent.parent,":"):(r.has_default&&raise_syntax_error(r),new $AbstractExprCtx(new $AnnotationCtx(r),!1))}raise_syntax_error(r)};var $FuncStarArgCtx=$B.parser.$FuncStarArgCtx=function(e,t){this.type="func_star_arg",this.op=t,this.parent=e,this.node=$get_node(this),this.position=$token.value,e.has_star_arg="*"==t,e.has_kw_arg="**"==t,e.tree[e.tree.length]=this};$FuncStarArgCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":return void 0===r.name&&r.parent.names.indexOf(t)>-1&&raise_syntax_error(r,"duplicate argument "+t+" in function definition"),["None","True","False"].indexOf(t)>-1&&raise_syntax_error(r),r.set_name(t),r.parent.names.push(t),r;case",":case")":return void 0===r.name&&(r.set_name("*"),r.parent.names.push("*")),$transition(r.parent,e);case":":return"lambda"==r.parent.parent.type?(void 0===r.name&&raise_syntax_error(r,"named arguments must follow bare *"),$transition(r.parent.parent,":")):(void 0===r.name&&raise_syntax_error(r,"(annotation on an unnamed parameter)"),new $AbstractExprCtx(new $AnnotationCtx(r),!1))}raise_syntax_error(r)},$FuncStarArgCtx.prototype.set_name=function(e){"__debug__"==e&&raise_syntax_error_known_range(this,this.position,$token.value,"cannot assign to __debug__"),this.name=e;for(var t=this.parent;void 0!==t.parent&&"def"!=t.type;)t=t.parent;"*"==this.op?t.other_args='"'+e+'"':t.other_kw='"'+e+'"'};var GeneratorExpCtx=function(e){this.type="genexpr",this.tree=[e.tree[0]],this.tree[0].parent=this,this.position=e.position,Comprehension.make_comp(this,e)};GeneratorExpCtx.prototype.ast=function(){var e=new ast.GeneratorExp(this.tree[0].ast(),Comprehension.generators(this.tree.slice(1)));return set_position(e,this.position),e},GeneratorExpCtx.prototype.transition=function(e,t){var r=this;if(")"==e)return"call"==this.parent.type?(r.parent.tree.length>1&&raise_syntax_error_known_range(r,first_position(r),last_position(r),"Generator expression must be parenthesized"),this.parent.parent):this.parent;raise_syntax_error(r)};var $GlobalCtx=$B.parser.$GlobalCtx=function(e){if(this.type="global",this.parent=e,this.tree=[],this.position=$token.value,e.tree[e.tree.length]=this,this.expect="id",this.scope=$get_scope(this),this.module=$get_module(this),"<module>"!==this.module.module)for(;this.module.module!=this.module.id;)this.module=this.module.parent_block;this.$pos=$pos};$GlobalCtx.prototype.ast=function(){var e=new ast.Global(this.tree.map(e=>e.value));return set_position(e,this.position),e},$GlobalCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":if("id"==r.expect)return new $IdCtx(r,t),r.add(t),r.expect=",",r;break;case",":if(","==r.expect)return r.expect="id",r;break;case"eol":if(","==r.expect)return $transition(r.parent,e)}raise_syntax_error(r)},$GlobalCtx.prototype.add=function(e){if("module"!=this.scope.type){var t=this.scope.parent_block;if(this.module.module.startsWith("$exec"))for(;t&&t.parent_block!==this.module;)t._globals=t._globals||new Map,t._globals.set(e,this.module.id),t=t.parent_block}};var $IdCtx=$B.parser.$IdCtx=function(e,t){this.type="id",this.value=t,this.parent=e,this.tree=[],e.tree[e.tree.length]=this,this.position=$token.value;var r=this.scope=$get_scope(this);this.blurred_scope=this.scope.blurred,["def","generator"].indexOf(r.ntype)>-1&&(e instanceof $GlobalCtx||e instanceof $NonlocalCtx||(r.referenced=r.referenced||{},$B.builtins[this.value]||(r.referenced[this.value]=!0))),"call_arg"==e.parent.type&&(this.call_arg=!0)};$IdCtx.prototype.ast=function(){var e;return set_position(e=["True","False","None"].indexOf(this.value)>-1?new ast.Constant(_b_[this.value]):new ast.Name(this.value,this.bound?new ast.Store:new ast.Load),this.position),e},$IdCtx.prototype.transition=function(e,t){var r=this;if("case"==r.value&&"node"==r.parent.parent.type){var n=r.parent.$pos,a=get_first_line($get_module(this).src.substr(n)),s=$get_node(r);if(!0===a||a.text.endsWith(":")){s.parent;if(s.parent&&s.parent.is_match){if(s.parent.irrefutable){var o=s.parent.irrefutable;raise_syntax_error(r,`${c="_"==o?"wildcard":`name capture '${o}'`} makes remaining patterns unreachable`)}}else raise_syntax_error(r,"('case' not inside 'match')");return $transition(new $PatternCtx(new $CaseCtx(r.parent.parent)),e,t)}s.parent&&s.parent.is_match&&($token.value=a.newline_token,raise_syntax_error(r,"expected ':'"))}else if("match"==r.value&&"node"==r.parent.parent.type){n=r.parent.$pos;if(!0===(a=get_first_line($get_module(this).src.substr(n)))||a.text.endsWith(":"))return $transition(new $AbstractExprCtx(new $MatchCtx(r.parent.parent),!0),e,t);try{$B.py2js({src:a.text.substr(5),filename:"<string>"},"fake","fake",$B.builtins_scope)}catch(e){var i=a.text+":\n case _:\n  pass",_=!1;try{$B.py2js({src:i,filename:"<string>"},"fake","fake",$B.builtins_scope),_=!0}catch(e){}_&&($token.value=a.newline_token,raise_syntax_error(r,"expected ':'"))}}switch(e){case"=":return"expr"==r.parent.type&&void 0!==r.parent.parent&&"call_arg"==r.parent.parent.type?new $AbstractExprCtx(new $KwArgCtx(r.parent),!1):$transition(r.parent,e,t);case".":return delete this.bound,$transition(r.parent,e,t);case"op":return $transition(r.parent,e,t);case"id":case"str":case"JoinedStr":case"int":case"float":case"imaginary":if(["print","exec"].indexOf(r.value)>-1)var l=r.value,c=`Missing parentheses in call to '${l}'. Did you mean ${l}(...)?`;else c="invalid syntax. Perhaps you forgot a comma?";$parent_match(r,{type:"call_arg"});raise_syntax_error_known_range(r,this.position,$token.value,c)}return"starred"==this.parent.parent.type&&-1==[".","[","("].indexOf(e)?this.parent.parent.transition(e,t):$transition(r.parent,e,t)};var $ImportCtx=$B.parser.$ImportCtx=function(e){this.type="import",this.parent=e,this.tree=[],this.position=$token.value,e.tree[e.tree.length]=this,this.expect="id"};$ImportCtx.prototype.ast=function(){var e=[];for(var t of this.tree){var r=new ast.alias(t.name);t.alias!=t.name&&(r.asname=t.alias),e.push(r)}var n=new ast.Import(e);return set_position(n,this.position),n},$ImportCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":if("id"==r.expect)return new $ImportedModuleCtx(r,t),r.expect=",",r;if("qual"==r.expect)return r.expect=",",r.tree[r.tree.length-1].name+="."+t,r.tree[r.tree.length-1].alias+="."+t,r;if("alias"==r.expect)return r.expect=",",r.tree[r.tree.length-1].alias=t,r;break;case".":if(","==r.expect)return r.expect="qual",r;break;case",":if(","==r.expect)return r.expect="id",r;break;case"as":if(","==r.expect)return r.expect="alias",r;break;case"eol":if(","==r.expect)return $transition(r.parent,e)}raise_syntax_error(r)};var $ImportedModuleCtx=$B.parser.$ImportedModuleCtx=function(e,t){this.type="imported module",this.parent=e,this.name=t,this.alias=t,e.tree[e.tree.length]=this};$ImportedModuleCtx.prototype.transition=function(e,t){};var JoinedStrCtx=$B.parser.JoinedStrCtx=function(e,t){this.type="JoinedStr",this.parent=e,this.tree=[],this.position=$token.value,this.scope=$get_scope(e);var r=$get_node(e).line_num;for(var n of t)if("string"==typeof n)new $StringCtx(this,"'"+n.replace(new RegExp("'","g"),"\\'")+"'");else{void 0!==n.format&&(n.format=new JoinedStrCtx(this,n.format),this.tree.pop());var a=n.expression.trimStart(),s=$pos,o=$create_root_node(a,this.scope.module,this.scope.id,this.scope.parent_block,r);try{dispatch_tokens(o)}catch(e){e.args[1][1]+=r-1;for(var i=s,_=$get_module(this).src;i-- >0&&"\n"!=_[i];);throw e.args[1][2]+=n.start+s-i,e.lineno+=r-1,e.args[1][3]=$get_module(this).src.split("\n")[r-1],e}$pos=s;var l=o.children[0].C.tree[0];this.tree.push(l),l.parent=this,l.elt=n}e.tree.push(this),this.raw=!1,this.$pos=$pos};JoinedStrCtx.prototype.ast=function(){var e,t={type:"JoinedStr",values:[]};for(var r of this.tree)if(r instanceof $StringCtx){if("string"==e)$B.last(t.values).value+=" + "+r.value;else{var n=new ast.Constant(r.value);set_position(n,r.position),t.values.push(n)}e="string"}else{a=void 0===(a=r.elt.format)?a:a.ast();var a,s=new ast.FormattedValue(r.ast(),{a:97,r:114,s:115}[r.elt.conversion]||-1,a);set_position(s,this.position),void 0!==(a=r.format)&&(s.format=r.format.ast()),t.values.push(s),e="formatted_value"}var o=new ast.JoinedStr(t.values);return set_position(o,this.position),o},JoinedStrCtx.prototype.transition=function(e,t){var r=this;switch(e){case"[":return new $AbstractExprCtx(new $SubCtx(r.parent),!1);case"(":return r.parent.tree[0]=r,new $CallCtx(r.parent);case"str":return r.tree.length>0&&"str"==$B.last(r.tree).type?r.tree[r.tree.length-1].value+=" + "+t:new $StringCtx(this,t),r;case"JoinedStr":var n=new JoinedStrCtx(r.parent,t);return r.parent.tree.pop(),r.tree.length>0&&$B.last(r.tree)instanceof $StringCtx&&n.tree[0]instanceof $StringCtx?($B.last(r.tree).value+=" + "+n.tree[0].value,r.tree=r.tree.concat(n.tree.slice(1))):r.tree=r.tree.concat(n.tree),r}return $transition(r.parent,e,t)};var $JSCode=$B.parser.$JSCode=function(e){this.js=e};$JSCode.prototype.transition=function(e,t){};var KwdCtx=$B.parser.KwdCtx=function(e){this.type="kwd",this.position=e.position,this.parent=e,this.tree=[],e.tree.push(this)};KwdCtx.prototype.ast=function(){var e=new $B.ast.keyword(this.tree[0].ast(),new ast.Load);return set_position(e,this.position),e},KwdCtx.prototype.transition=function(e,t){return $transition(this.parent,e,t)};var $KwArgCtx=$B.parser.$KwArgCtx=function(e){this.type="kwarg",this.parent=e.parent,this.position=first_position(e),this.equal_sign_position=$token.value,this.tree=[e.tree[0]],e.parent.tree.pop(),e.parent.tree.push(this),e.parent.parent.has_kw=!0};$KwArgCtx.prototype.transition=function(e,t){var r=this;return","==e?new $CallArgCtx(r.parent.parent):("for"==e&&raise_syntax_error_known_range(r,r.position,r.equal_sign_position,"invalid syntax. Maybe you meant '==' or ':=' instead of '='?"),$transition(r.parent,e))};var $LambdaCtx=$B.parser.$LambdaCtx=function(e){this.type="lambda",this.parent=e,e.tree[e.tree.length]=this,this.tree=[],this.position=$token.value,this.args_start=$pos+6,this.node=$get_node(this),this.positional_list=[],this.default_list=[],this.other_args=null,this.other_kw=null,this.after_star=[]};$LambdaCtx.prototype.ast=function(){var e;e=0==this.args.length?new ast.arguments([],[],void 0,[],[],void 0,[]):this.args[0].ast();var t=new ast.Lambda(e,this.tree[0].ast());return set_position(t,this.position),t},$LambdaCtx.prototype.transition=function(e,t){var r=this;if(":"==e&&void 0===r.args)return r.args=r.tree,r.tree=[],r.body_start=$pos,new $AbstractExprCtx(r,!1);if(void 0!==r.args)return r.body_end=$pos,$transition(r.parent,e);if(void 0===r.args){if("("!=e)return $transition(new $FuncArgs(r),e,t);raise_syntax_error(r,"Lambda expression parameters cannot be parenthesized")}raise_syntax_error(r)};var ListCompCtx=function(e){this.type="listcomp",this.tree=[e.tree[0]],this.tree[0].parent=this,this.position=$token.value,Comprehension.make_comp(this,e)};ListCompCtx.prototype.ast=function(){var e=new ast.ListComp(this.tree[0].ast(),Comprehension.generators(this.tree.slice(1)));return set_position(e,this.position),e},ListCompCtx.prototype.transition=function(e,t){if("]"==e)return this.parent;raise_syntax_error(this)};var $ListOrTupleCtx=$B.parser.$ListOrTupleCtx=function(e,t){this.type="list_or_tuple",this.start=$pos,this.real=t,this.expect="id",this.closed=!1,this.parent=e,this.tree=[],this.position=$token.value,e.tree[e.tree.length]=this};$ListOrTupleCtx.prototype.ast=function(){var e,t=this.tree.map(e=>e.ast());return"list"==this.real?e=new ast.List(t,new ast.Load):"tuple"==this.real&&(e=new ast.Tuple(t,new ast.Load)),set_position(e,this.position),e},$ListOrTupleCtx.prototype.transition=function(e,t){var r=this;if(r.closed)return"["==e?new $AbstractExprCtx(new $SubCtx(r.parent),!1):"("==e?new $CallCtx(r.parent):$transition(r.parent,e,t);if(","==r.expect){switch(r.real){case"tuple":if(")"==e){if(r.implicit)return $transition(r.parent,e,t);if(r.end_position=$token.value,1==r.tree.length){$parent_match(r,{type:"del"})&&"expr"==r.tree[0].type&&"starred"==r.tree[0].tree[0].type&&raise_syntax_error_known_range(r,r.tree[0].tree[0].position,last_position(r.tree[0]),"cannot use starred expression here");var n=r.parent.parent;return n.tree.pop(),n.tree.push(r.tree[0]),r.tree[0].parent=n,r.tree[0]}return(r.packed||"list_or_tuple"==r.type&&1==r.tree.length&&"expr"==r.tree[0].type&&"starred"==r.tree[0].tree[0].type)&&raise_syntax_error(r,"cannot use starred expression here"),r.close(),"starred"==r.parent.type?r.parent.parent:r.parent}break;case"list":if("]"==e)return r.close(),"starred"==r.parent.type?r.parent.tree.length>0?r.parent.tree[0]:r.parent.parent:r.parent}switch(e){case",":return"tuple"==r.real&&(r.has_comma=!0),r.expect="id",r;case"for":return"list"==r.real?(this.tree.length>1&&raise_syntax_error(r,"did you forget parentheses around the comprehension target?"),new $TargetListCtx(new $ForExpr(new ListCompCtx(r)))):new $TargetListCtx(new $ForExpr(new GeneratorExpCtx(r)))}return $transition(r.parent,e,t)}if("id"!=r.expect)return $transition(r.parent,e,t);switch(r.real){case"tuple":if(")"==e)return r.close(),r.parent;if("eol"==e&&!0===r.implicit)return r.close(),$transition(r.parent,e);break;case"list":if("]"==e)return r.close(),r}switch(e){case"=":if("tuple"==r.real&&!0===r.implicit)return r.close(),r.parent.tree.pop(),(a=new $ExprCtx(r.parent,"tuple",!1)).tree=[r],r.parent=a,$transition(r.parent,e);raise_syntax_error(r,"(unexpected '=' inside list)");break;case")":break;case"]":if("tuple"==r.real&&!0===r.implicit)return $transition(r.parent,e,t);break;case",":raise_syntax_error(r,"(unexpected comma inside list)");case"str":case"JoinedStr":case"int":case"float":case"imaginary":case"ellipsis":case"lambda":case"yield":case"id":case"(":case"[":case"{":case"await":case"not":case":":r.expect=",";var a=new $AbstractExprCtx(r,!1);return $transition(a,e,t);case"op":if("+-~*".indexOf(t)>-1||"**"==t){r.expect=",";a=new $AbstractExprCtx(r,!1);return $transition(a,e,t)}raise_syntax_error(r,`(unexpected operator: ${t})`);default:raise_syntax_error(r)}},$ListOrTupleCtx.prototype.close=function(){this.closed=!0,this.end_position=$token.value,this.src=$get_module(this).src;for(var e=0,t=this.tree.length;e<t;e++){var r=this.tree[e];"expr"==r.type&&"list_or_tuple"==r.tree[0].type&&"tuple"==r.tree[0].real&&1==r.tree[0].tree.length&&","==r.tree[0].expect&&(this.tree[e]=r.tree[0].tree[0],this.tree[e].parent=this)}};var $MatchCtx=$B.parser.$MatchCtx=function(e){this.type="match",this.position=$token.value,e.tree=[this],e.node.is_match=!0,this.parent=e,this.tree=[],this.expect="as",this.token_position=$get_module(this).token_reader.position};$MatchCtx.prototype.ast=function(){var e=new ast.Match(this.tree[0].ast(),ast_body(this.parent));return set_position(e,this.position),e.$line_num=$get_node(this).line_num,e},$MatchCtx.prototype.transition=function(e,t){var r=this;switch(e){case":":switch("list_or_tuple"==this.tree[0].type&&remove_abstract_expr(this.tree[0].tree),r.expect){case"id":case"as":case":":return $BodyCtx(r)}break;case"eol":raise_syntax_error(r,"expected ':'")}raise_syntax_error(r)};var NamedExprCtx=function(e){this.type="named_expr",this.position=e.position,this.target=e.tree[0],e.tree.pop(),e.tree.push(this),this.parent=e,this.target.parent=this,this.tree=[],this.$pos=$pos,"list_or_tuple"==e.parent.type&&"tuple"==e.parent.real&&(this.parenthesized=!0)};NamedExprCtx.prototype.ast=function(){var e=new ast.NamedExpr(this.target.ast(),this.tree[0].ast());return e.target.ctx=new ast.Store,set_position(e,this.position),e},NamedExprCtx.prototype.transition=function(e,t){return $transition(this.parent,e,t)};var $NodeCtx=$B.parser.$NodeCtx=function(e){this.node=e,e.C=this,this.tree=[],this.type="node";for(var t=null,r=e;r.parent&&"module"!=r.parent.type;){var n=!1;switch(r.parent.C.tree[0].type){case"def":case"class":case"generator":t=r.parent,n=!0}if(n)break;r=r.parent}null===t&&(t=r.parent||r),this.scope=t};$NodeCtx.prototype.transition=function(e,t){var r=this;if(this.node.parent&&this.node.parent.C){var n=this.node.parent.C;n.tree&&1==n.tree.length&&"match"==n.tree[0].type&&("eol"==e||"id"===e&&"case"===t||(r.$pos=$pos,raise_syntax_error(r)))}if(0==this.tree.length&&this.node.parent){var a=this.node.parent.children.indexOf(this.node);if(a>0)"try"==(_=this.node.parent.children[a-1]).C.tree[0].type&&-1==["except","finally"].indexOf(e)&&raise_syntax_error(r,"expected 'except' or 'finally' block")}switch(e){case",":r.tree&&0==r.tree.length&&raise_syntax_error(r);var s=r.tree[0];r.tree=[];var o=new $ListOrTupleCtx(r);return o.real="tuple",o.implicit=0,o.tree.push(s),s.parent=o,o;case"[":case"(":case"{":case".":case"bytes":case"float":case"id":case"imaginary":case"int":case"str":case"JoinedStr":case"not":case"lambda":var i=new $AbstractExprCtx(r,!0);return $transition(i,e,t);case"assert":return new $AbstractExprCtx(new $AssertCtx(r),!1,!0);case"async":return new $AsyncCtx(r);case"await":return new $AbstractExprCtx(new $AwaitCtx(r),!0);case"break":return new $BreakCtx(r);case"class":return new $ClassCtx(r);case"continue":return new $ContinueCtx(r);case"def":return new $DefCtx(r);case"del":return new $AbstractExprCtx(new $DelCtx(r),!0);case"elif":try{var _=$previous(r)}catch(e){raise_syntax_error(r,"('elif' does not follow 'if')")}return-1!=["condition"].indexOf(_.type)&&"while"!=_.token||raise_syntax_error(r,`(elif after ${_.type})`),new $AbstractExprCtx(new $ConditionCtx(r,e),!1);case"ellipsis":i=new $AbstractExprCtx(r,!0);return $transition(i,e,t);case"else":_=$previous(r);return-1==["condition","except","for"].indexOf(_.type)&&raise_syntax_error(r,`(else after ${_.type})`),new $SingleKwCtx(r,e);case"except":_=$previous(r);return-1==["try","except"].indexOf(_.type)&&raise_syntax_error(r,`(except after ${_.type})`),new $ExceptCtx(r);case"finally":_=$previous(r);return-1!=["try","except"].indexOf(_.type)||"single_kw"==_.type&&"else"==_.token||raise_syntax_error(r,`finally after ${_.type})`),new $SingleKwCtx(r,e);case"for":return new $TargetListCtx(new $ForExpr(r));case"from":return new $FromCtx(r);case"global":return new $GlobalCtx(r);case"if":case"while":return new $AbstractExprCtx(new $ConditionCtx(r,e),!1);case"import":return new $ImportCtx(r);case"lambda":return new $LambdaCtx(r);case"nonlocal":return new $NonlocalCtx(r);case"op":switch(t){case"*":i=new $AbstractExprCtx(r,!0);return $transition(i,e,t);case"+":case"-":case"~":r.position=$token.value;i=new $ExprCtx(r,"unary",!0);return new $AbstractExprCtx(new $UnaryCtx(i,t),!1);case"@":return new $AbstractExprCtx(new $DecoratorCtx(r),!1)}break;case"pass":return new $PassCtx(r);case"raise":return new $AbstractExprCtx(new $RaiseCtx(r),!1);case"return":return new $AbstractExprCtx(new $ReturnCtx(r),!0);case"try":return new $TryCtx(r);case"with":return new $WithCtx(r);case"yield":return new $AbstractExprCtx(new $YieldCtx(r),!0);case"eol":return 0==r.tree.length?(r.node.parent.children.pop(),r.node.parent.C):r}raise_syntax_error(r)};var $NonlocalCtx=$B.parser.$NonlocalCtx=function(e){this.type="nonlocal",this.parent=e,this.tree=[],this.position=$token.value,this.names={},e.tree[e.tree.length]=this,this.expect="id",this.scope=$get_scope(this),this.scope.nonlocals=this.scope.nonlocals||new Set};$NonlocalCtx.prototype.ast=function(){var e=new ast.Nonlocal(this.tree.map(e=>e.value));return set_position(e,this.position),e},$NonlocalCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":if("id"==r.expect)return new $IdCtx(r,t),this.names[t]=[!1,$pos],r.expect=",",r;break;case",":if(","==r.expect)return r.expect="id",r;break;case"eol":if(","==r.expect)return $transition(r.parent,e)}raise_syntax_error(r)};var $NotCtx=$B.parser.$NotCtx=function(e){this.type="not",this.parent=e,this.tree=[],this.position=$token.value,e.tree[e.tree.length]=this};$NotCtx.prototype.ast=function(){var e=new ast.UnaryOp(new ast.Not,this.tree[0].ast());return set_position(e,this.position),e},$NotCtx.prototype.transition=function(e,t){var r=this;switch(e){case"in":return r.parent.parent.tree.pop(),new $ExprCtx(new $OpCtx(r.parent,"not_in"),"op",!1);case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":var n=new $AbstractExprCtx(r,!1);return $transition(n,e,t);case"op":if("+"==t||"-"==t||"~"==t){n=new $AbstractExprCtx(r,!1);return $transition(n,e,t)}}return $transition(r.parent,e)};var $NumberCtx=$B.parser.$NumberCtx=function(e,t,r){this.type=e,this.value=r,this.parent=t,this.tree=[],this.position=$token.value,t.tree[t.tree.length]=this};$NumberCtx.prototype.ast=function(){var e=new ast.Constant({type:this.type,value:this.value});if("int"==this.type){var t=parseInt(this.value[1],this.value[0]);Number.isSafeInteger(t)||(t=_b_.int.$factory(this.value[1],this.value[0])),e.value=t}else if("float"==this.type)e.value=new Number(this.value);else if("imaginary"==this.type){var r={type:this.value.type,value:this.value.value,position:this.position},n=$NumberCtx.prototype.ast.bind(r)().value;e.value=$B.make_complex(0,+n)}return set_position(e,this.position),e},$NumberCtx.prototype.transition=function(e,t){return"id"==e&&"_"==t&&raise_syntax_error(this,"invalid decimal literal"),$transition(this.parent,e,t)};var $OpCtx=$B.parser.$OpCtx=function(e,t){this.type="op",this.op=t,this.parent=e.parent,this.position=$token.value,this.tree=[e],this.scope=$get_scope(this),"expr"==e.type&&["int","float","str"].indexOf(e.tree[0].type)>-1&&(this.left_type=e.tree[0].type),e.parent.tree.pop(),e.parent.tree.push(this)};$OpCtx.prototype.ast=function(){var e,t=op2ast_class[this.op],r=t[0],n=t[1];if(r===ast.Compare){var a=this.tree[0].ast(),s=[new n];if(this.ops){for(var o of this.ops.slice(1))s.push(new op2ast_class[o][1]);e=new ast.Compare(a,s,this.tree.slice(1).map(e=>e.ast()))}else e=new ast.Compare(a,s,[this.tree[1].ast()])}else if(r===ast.UnaryOp)e=new r(new n,this.tree[1].ast());else if(r===ast.BoolOp){for(var i=[this.tree[1]],_=this.op,l=this;"op"==l.tree[0].type&&l.tree[0].op==_;)i.splice(0,0,l.tree[0].tree[1]),l=l.tree[0];i.splice(0,0,l.tree[0]),e=new r(new n,i.map(e=>e.ast()))}else e=new r(this.tree[0].ast(),new n,this.tree[1].ast());return set_position(e,this.position),e},$OpCtx.prototype.transition=function(e,t){var r=this;switch(void 0===r.op&&(console.log("C has no op",r),raise_syntax_error(r)),e){case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":return $transition(new $AbstractExprCtx(r,!1),e,t);case"op":switch(t){case"+":case"-":case"~":return new $UnaryCtx(r,t)}default:"abstract_expr"==r.tree[r.tree.length-1].type&&raise_syntax_error(r)}return $transition(r.parent,e)};var $PassCtx=$B.parser.$PassCtx=function(e){this.type="pass",this.parent=e,this.tree=[],this.position=$token.value,e.tree[e.tree.length]=this};$PassCtx.prototype.ast=function(){var e=new ast.Pass;return set_position(e,this.position),e},$PassCtx.prototype.transition=function(e,t){if("eol"==e)return this.parent;raise_syntax_error(this)};var $PatternCtx=$B.parser.$PatternCtx=function(e){this.type="pattern",this.parent=e,this.tree=[],e.tree.push(this),this.expect="id"};function as_pattern(e,t,r){if("as"==e.expect)return"as"==t?(e.expect="alias",e):$transition(e.parent,t,r);if("alias"==e.expect){if("id"==t)return"_"==r&&raise_syntax_error(e,"cannot use '_' as a target"),e.bindings().indexOf(r)>-1&&raise_syntax_error(e,`multiple assignments to name '${r}' in pattern`),e.alias=r,e.parent;raise_syntax_error(e,"invalid pattern target")}}$PatternCtx.prototype.transition=function(e,t){var r=this;switch(r.expect){case"id":switch(e){case"str":case"int":case"float":case"imaginary":return r.expect=",",new $PatternLiteralCtx(r,e,t);case"op":switch(t){case"-":case"+":return r.expect=",",new $PatternLiteralCtx(r,{sign:t});case"*":return r.expect="starred_id",r;default:raise_syntax_error(r)}case"id":return r.expect=",",["None","True","False"].indexOf(t)>-1?new $PatternLiteralCtx(r,e,t):new $PatternCaptureCtx(r,t);case"[":return new $PatternCtx(new $PatternSequenceCtx(r.parent,e));case"(":return new $PatternCtx(new $PatternGroupCtx(r.parent,e));case"{":return new $PatternMappingCtx(r.parent,e);case"JoinedStr":raise_syntax_error(r,"patterns may only match literals and attribute lookups")}break;case"starred_id":if("id"==e){var n=new $PatternCaptureCtx(r,t);return n.starred=!0,n}raise_syntax_error(r,"(expected id after '*')");case"number":switch(e){case"int":case"float":case"imaginary":return r.expect=",",new $PatternLiteralCtx(r,e,t,r.sign);default:raise_syntax_error(r)}case",":switch(e){case",":return r.parent instanceof $PatternSequenceCtx?new $PatternCtx(r.parent):new $PatternCtx(new $PatternSequenceCtx(r.parent));case":":return $BodyCtx(r)}}return r.parent.transition(e,t)};var $PatternCaptureCtx=function(e,t){this.type="capture_pattern",this.parent=e.parent,e.parent.tree.pop(),e.parent.tree.push(this),this.tree=[t],this.position=$token.value,this.positions=[this.position],this.expect=".",this.$pos=$pos};$PatternCaptureCtx.prototype.ast=function(){var e;try{if(this.tree.length>1){set_position(n=new ast.Name(this.tree[0],new ast.Load),this.position);for(var t=1;t<this.tree.length;t++)copy_position(n=new ast.Attribute(n,this.tree[t],new ast.Load),n.value);copy_position(n=new ast.MatchValue(n),n.value)}else if(this.starred){var r=this.tree[0];set_position(e="_"==r?new ast.MatchStar:new ast.MatchStar(r),this.position)}else{var n;"string"==typeof(n=this.tree[0])||("group_pattern"==n.type?n=n.ast():(console.log("bizarre",n),n=$NumberCtx.prototype.ast.bind(this)())),"_"==n&&set_position(n=new ast.MatchAs,this.position)}return this.alias?("string"==typeof n&&set_position(n=new ast.MatchAs(void 0,n),this.position),e=new ast.MatchAs(n,this.alias)):this.tree.length>1||n instanceof ast.MatchAs?e=n:"string"==typeof n?e=new ast.MatchAs(void 0,n):this.starred||(e=new ast.MatchAs(void 0,n)),set_position(e,this.position),e}catch(e){throw console.log("error capture ast"),show_line(this),e}},$PatternCaptureCtx.prototype.bindings=function(){var e="_"==this.tree[0]?[]:this.tree.slice();return this.alias&&e.push(this.alias),e},$PatternCaptureCtx.prototype.transition=function(e,t){var r=this;switch(r.expect){case".":return"."==e?(r.type="value_pattern",r.expect="id",r):"("==e?new $PatternCtx(new $PatternClassCtx(r)):r.parent instanceof $PatternMappingCtx?r.parent.transition(e,t):(r.expect="as",r.transition(e,t));case"as":case"alias":return as_pattern(r,e,t);case"id":if("id"==e)return r.tree.push(t),r.positions.push($token.value),r.expect=".",r}return $transition(r.parent,e,t)},$PatternClassCtx=function(e){this.type="class_pattern",this.tree=[],this.parent=e.parent,this.position=$token.value,this.class_id=e.tree.slice(),this.positions=e.positions,e.tree.pop(),this.attrs=e.tree.slice(2),e.parent.tree.pop(),e.parent.tree.push(this),this.expect=",",this.keywords=[],this.positionals=[],this.bound_names=[]},$PatternClassCtx.prototype.ast=function(){if(1==this.class_id.length)var e=new ast.Name(this.class_id[0]);else for(var t=0,r=this.class_id.length;t<r-1;t++){var n=new ast.Name(this.class_id[t],new ast.Load);set_position(n,this.positions[t]),set_position(e=0==t?new ast.Attribute(n,this.class_id[t+1]):new ast.Attribute(e,this.class_id[t+1]),this.positions[t])}set_position(e,this.position),e.ctx=new ast.Load;var a=[],s=[],o=[];for(var i of this.tree)if(i.is_keyword)s.push(i.tree[0]),o.push(i.tree[1].ast());else try{a.push(i.ast())}catch(e){throw console.log("error in class pattern item"),show_line(this),e}var _=new ast.MatchClass(e,a,s,o);return set_position(_,this.position),this.alias&&set_position(_=new ast.MatchAs(_,this.alias),this.position),_},$PatternClassCtx.prototype.bindings=function(){var e=this.bound_names;return this.alias&&e.push(this.alias),e},$PatternClassCtx.prototype.transition=function(e,t){var r=this;function n(){var e,t=$B.last(r.tree);if(t instanceof $PatternCaptureCtx){for(var n of(!t.is_keyword&&r.keywords.length>0&&($token.value=t.position,raise_syntax_error(r,"positional patterns follow keyword patterns")),t.is_keyword?(r.keywords.indexOf(t.tree[0])>-1&&raise_syntax_error(r,`keyword argument repeated: ${t.tree[0]}`),r.keywords.push(t.tree[0]),e=t.tree[1].bindings()):e=t.bindings(),e))r.bound_names.indexOf(n)>-1&&raise_syntax_error(r,`multiple assignments to name '${n}' in pattern`);r.bound_names=r.bound_names.concat(e)}}switch(this.expect){case",":switch(e){case"=":var a=$B.last(this.tree);if(a instanceof $PatternCaptureCtx)return this.keywords.indexOf(a.tree[0])>-1&&raise_syntax_error(r,"attribute name repeated in class pattern: "+a.tree[0]),a.is_keyword=!0,new $PatternCtx(a);raise_syntax_error(this,"'=' after non-capture");case",":return n(),new $PatternCtx(this);case")":return n(),0==$B.last(this.tree).tree.length&&this.tree.pop(),r.expect="as",r;default:raise_syntax_error(r)}case"as":case"alias":return as_pattern(r,e,t)}return $transition(r.parent,e,t)};var $PatternGroupCtx=function(e){this.type="group_pattern",this.parent=e,this.position=$token.value,this.tree=[];e.tree.pop();this.expect=",|",e.tree.push(this)};function remove_empty_pattern(e){var t=$B.last(e.tree);t&&t instanceof $PatternCtx&&0==t.tree.length&&e.tree.pop()}$PatternGroupCtx.prototype.ast=function(){var e;return e=1!=this.tree.length||this.has_comma?$PatternSequenceCtx.prototype.ast.bind(this)():this.tree[0].ast(),this.alias&&(e=new ast.MatchAs(e,this.alias)),set_position(e,this.position),e},$PatternGroupCtx.prototype.bindings=function(){var e=[];for(var t of this.tree)e=e.concat(t.bindings());return this.alias&&e.push(this.alias),e},$PatternGroupCtx.prototype.transition=function(e,t){var r=this;switch(r.expect){case",|":if(")"==e)return remove_empty_pattern(r),r.expect="as",r;if(","==e)return r.expect="id",r.has_comma=!0,r;if("op"==e&&"|"==t){var n=new $PatternOrCtx(r.parent);return n.parenthese=!0,new $PatternCtx(n)}if(void 0===this.token)return $transition(r.parent,e,t);raise_syntax_error(r);case"as":case"alias":return as_pattern(r,e,t);case"id":return")"==e?(remove_empty_pattern(r),r.expect="as",r):(r.expect=",|",$transition(new $PatternCtx(r),e,t))}raise_syntax_error(r)};var $PatternLiteralCtx=function(e,t,r,n){this.type="literal_pattern",this.parent=e.parent,this.position=$token.value,e.parent.tree.pop(),e.parent.tree.push(this),t.sign?(this.tree=[{sign:t.sign}],this.expect="number"):("str"==t?(this.tree=[],new $StringCtx(this,r)):"JoinedStr"==t?raise_syntax_error(this,"patterns cannot include f-strings"):this.tree=[{type:t,value:r,sign:n}],this.expect="op")};$PatternLiteralCtx.prototype.ast=function(){$get_node(this).line_num;try{var e,t=this.tree[0];if("str"==t.type){var r=$StringCtx.prototype.ast.bind(t)();e=new ast.MatchValue(r)}else if("id"==t.type)e=new ast.MatchSingleton(_b_[t.value]);else{t.position=this.position;var n=$NumberCtx.prototype.ast.bind(t)(),a=new ast.MatchValue(n);if(t.sign&&"+"!=t.sign){var s={"+":ast.UAdd,"-":ast.USub,"~":ast.Invert}[t.sign],o=new ast.UnaryOp(new s,a.value);set_position(o,this.position),set_position(a=new ast.MatchValue(o),this.position)}if(1==this.tree.length)e=a;else{this.tree[2].position=this.position;var i=$NumberCtx.prototype.ast.bind(this.tree[2])(),_=new ast.BinOp(a.value,"+"==this.tree[1]?new ast.Add:new ast.Sub,i);set_position(_,this.position),e=new ast.MatchValue(_)}}return set_position(e,this.position),2==this.tree.length&&(e=new ast.MatchValue(new ast.BinOp(this.tree[0].ast(),"+"==C.num_sign?ast.Add:ast.Sub,this.tree[1].ast()))),this.alias&&(e=new ast.MatchAs(e,this.alias)),set_position(e,this.position),e}catch(e){throw show_line(this),e}},$PatternLiteralCtx.prototype.bindings=function(){return this.alias?[this.alias]:[]},$PatternLiteralCtx.prototype.transition=function(e,t){var r=this;switch(r.expect){case"op":if("op"==e)switch(t){case"+":case"-":if(["int","float"].indexOf(r.tree[0].type)>-1)return r.expect="imaginary",this.tree.push(t),r.num_sign=t,r;raise_syntax_error(r,"patterns cannot include operators");default:return $transition(r.parent,e,t)}break;case"number":switch(e){case"int":case"float":case"imaginary":var n=$B.last(r.tree);if(void 0===this.tree.token)return n.type=e,n.value=t,r.expect="op",r;default:raise_syntax_error(r)}case"imaginary":if("imaginary"===e)return r.tree.push({type:e,value:t,sign:r.num_sign}),r.parent;raise_syntax_error(r,"(expected imaginary)");case"as":case"alias":return as_pattern(r,e,t)}return"as"==e&&1==r.tree.length?(r.expect="as",r.transition(e,t)):$transition(r.parent,e,t)};var $PatternMappingCtx=function(e){this.type="mapping_pattern",this.parent=e,this.position=$token.value,e.tree.pop(),this.tree=[],e.tree.push(this),this.expect="key_value_pattern",this.literal_keys=[],this.bound_names=[]};$PatternMappingCtx.prototype.ast=function(){var e=[],t=[];for(var r of this.tree)e.push(r.tree[0].ast().value),r.tree[0]instanceof $PatternLiteralCtx?t.push(r.tree[1].ast()):t.push(r.tree[2].ast());var n=new ast.MatchMapping(e,t);return this.double_star&&(n.rest=this.double_star.tree[0]),set_position(n,this.position),n},$PatternMappingCtx.prototype.bindings=function(){var e=[];for(var t of this.tree)e=e.concat(t.bindings());return this.rest&&(e=e.concat(this.rest.bindings())),this.alias&&e.push(this.alias),e},$PatternMappingCtx.prototype.transition=function(e,t){var r=this;switch(r.expect){case"key_value_pattern":if("}"==e||","==e){if(function(){var e,t=$B.last(r.tree);if(t instanceof $PatternKeyValueCtx){for(var n of(r.double_star&&(r.$pos=r.double_star.$pos,raise_syntax_error(r,"can't use starred name here (consider moving to end)")),e="value_pattern"==t.tree[0].type?t.tree[2].bindings():t.tree[1].bindings()))r.bound_names.indexOf(n)>-1&&raise_syntax_error(r,`multiple assignments to name '${n}' in pattern`);r.bound_names=r.bound_names.concat(e)}}(),r.double_star)r.tree.indexOf(r.double_star)!=r.tree.length-1&&(r.$pos=r.double_star.$pos,raise_syntax_error(r,"can't use starred name here (consider moving to end)")),r.rest=r.tree.pop();return","==e?r:r.parent}if("op"==e&&"**"==t)return r.expect="capture_pattern",r;var n=new $PatternCtx(r);try{var a=n.transition(e,t)}catch(e){raise_syntax_error(r,"mapping pattern keys may only match literals and attribute lookups")}if(r.double_star&&raise_syntax_error(r),a instanceof $PatternLiteralCtx)return r.tree.pop(),new $PatternKeyValueCtx(r,a),a;if(a instanceof $PatternCaptureCtx)return r.has_value_pattern_keys=!0,r.tree.pop(),new $PatternKeyValueCtx(r,a),r.expect=".",this;raise_syntax_error(r,"(expected key or **)");case"capture_pattern":n=new $PatternCtx(r);var s=$transition(n,e,t);if(s instanceof $PatternCaptureCtx)return r.double_star&&(r.$pos=s.$pos,raise_syntax_error(r,"only one double star pattern is accepted")),"_"==t&&raise_syntax_error(r),r.bound_names.indexOf(t)>-1&&raise_syntax_error(r,"duplicate binding: "+t),r.bound_names.push(t),s.double_star=!0,r.double_star=s,r.expect=",",r;raise_syntax_error(r,"(expected identifier)");case",":if(","==e)return r.expect="key_value_pattern",r;if("}"==e)return r.expect="key_value_pattern",r.transition(e,t);raise_syntax_error(r);case".":if(r.tree.length>0){var o=$B.last(r.tree);if(o instanceof $PatternKeyValueCtx)return new $IdCtx(o,o.tree[0].tree[0]),r.expect="key_value_pattern",$transition(o.tree[0],e,t)}raise_syntax_error(r)}return $transition(r.parent,e,t)};var $PatternKeyValueCtx=function(e,t){this.type="pattern_key_value",this.parent=e,this.tree=[t],t.parent=this,this.expect=":",e.tree.push(this)};$PatternKeyValueCtx.prototype.bindings=$PatternMappingCtx.prototype.bindings,$PatternKeyValueCtx.prototype.transition=function(e,t){var r=this;switch(r.expect){case":":if(":"===e){var n=this.tree[0];if(n instanceof $PatternLiteralCtx){var a=$B.AST.$convert(n.tree[0]);_b_.list.__contains__(this.parent.literal_keys,a)&&($pos--,raise_syntax_error(r,`mapping pattern checks duplicate key (${_b_.repr(a)})`)),this.parent.literal_keys.push(a)}return this.expect=",",new $PatternCtx(this)}raise_syntax_error(r,"(expected :)");case",":switch(e){case"}":return $transition(r.parent,e,t);case",":return r.parent.expect="key_value_pattern",$transition(r.parent,e,t);case"op":if("|"==t)return new $PatternCtx(new $PatternOrCtx(r))}raise_syntax_error(r,"(expected ',' or '}')")}return $transition(r.parent,e,t)};var $PatternOrCtx=function(e){this.type="or_pattern",this.parent=e,this.position=$token.value;var t=e.tree.pop();t instanceof $PatternGroupCtx&&"as"!=t.expect&&(t=t.tree[0]),this.tree=[t],t.parent=this,this.expect="|",e.tree.push(this),this.check_reachable()};$PatternOrCtx.prototype.ast=function(){var e=new ast.MatchOr(this.tree.map(e=>e.ast()));return set_position(e,this.position),this.alias&&(e=new ast.MatchAs(e,this.alias)),set_position(e,this.position),e},$PatternOrCtx.prototype.bindings=function(){var e;for(var t of this.tree){void 0===t.bindings&&console.log("no binding",t);var r=t.bindings();if(void 0===e)e=r;else{for(var n of e)-1==r.indexOf(n)&&raise_syntax_error(this,"alternative patterns bind different names");for(var n of r)-1==e.indexOf(n)&&raise_syntax_error(this,"alternative patterns bind different names")}}return this.alias?e.concat(this.alias):e},$PatternOrCtx.prototype.check_reachable=function(){var e,t=$B.last(this.tree);("capture_pattern"==t.type?e=t.tree[0]:"group_pattern"==t.type&&1==t.tree.length&&"capture_pattern"==t.tree[0].type?e=t.tree[0].tree[0]:t instanceof $PatternOrCtx&&t.check_reachable(),e)&&raise_syntax_error(this,`${"_"==e?"wildcard":`name capture '${e}'`} makes remaining patterns unreachable`)},$PatternOrCtx.prototype.transition=function(e,t){function r(){var e=$B.last(n.tree);e.alias&&(n.alias=e.alias,delete e.alias)}var n=this;if(["as","alias"].indexOf(n.expect)>-1)return as_pattern(n,e,t);if("op"==e&&"|"==t){for(var a of n.tree)a.alias&&raise_syntax_error(n,"(no as pattern inside or pattern)");return n.check_reachable(),new $PatternCtx(n)}return")"==e&&n.parenthese?(r(),n.bindings(),delete n.parenthese,n.expect="as",n):(r(),n.bindings(),$transition(n.parent,e,t))};var $PatternSequenceCtx=function(e,t){this.type="sequence_pattern",this.parent=e,this.position=$token.value,this.tree=[],this.bound_names=[];var r=e.tree.pop();void 0===t?(this.bound_names=r.bindings(),this.tree=[r],r.starred&&(this.has_star=!0),r.parent=this):this.token=t,this.expect=",",e.tree.push(this)};$PatternSequenceCtx.prototype.ast=function(){var e=new ast.MatchSequence(this.tree.map(e=>e.ast()));return set_position(e,this.position),this.alias&&set_position(e=new ast.MatchAs(e,this.alias),this.position),e},$PatternSequenceCtx.prototype.bindings=$PatternMappingCtx.prototype.bindings,$PatternSequenceCtx.prototype.transition=function(e,t){function r(){var e=$B.last(n.tree);if(!(e instanceof $PatternCtx)){var t=e.bindings();for(var r of t)n.bound_names.indexOf(r)>-1&&raise_syntax_error(n,`multiple assignments to name '${r}' in pattern`);e.starred&&(n.has_star&&raise_syntax_error(n,"multiple starred names in sequence pattern"),n.has_star=!0),n.bound_names=n.bound_names.concat(t)}}var n=this;if(","==n.expect){if("["==n.token&&"]"==e||"("==n.token&&")"==e){var a=0;for(var s of n.tree)s instanceof $PatternCaptureCtx&&s.starred&&++a>1&&raise_syntax_error(n,"multiple starred names in sequence pattern");return n.expect="as",r(),remove_empty_pattern(n),n}if(","==e)return r(),n.expect="id",n;if("op"==e&&"|"==t)return remove_empty_pattern(n),new $PatternCtx(new $PatternOrCtx(n));if(void 0===this.token)return r(),$transition(n.parent,e,t);raise_syntax_error(n)}else{if("as"==n.expect)return"as"==e?(this.expect="alias",n):$transition(n.parent,e,t);if("alias"==n.expect){if(e="id")return n.alias=t,n.parent;raise_syntax_error(n,"expected alias")}else if("id"==n.expect)return n.expect=",",$transition(new $PatternCtx(n),e,t)}};var $RaiseCtx=$B.parser.$RaiseCtx=function(e){this.type="raise",this.parent=e,this.tree=[],this.position=$token.value,e.tree[e.tree.length]=this,this.scope_type=$get_scope(this).ntype};$RaiseCtx.prototype.ast=function(){var e=new ast.Raise(...this.tree.map(e=>e.ast()));return set_position(e,this.position),e},$RaiseCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":if(0==r.tree.length)return new $IdCtx(new $ExprCtx(r,"exc",!1),t);break;case"from":if(r.tree.length>0)return new $AbstractExprCtx(r,!1);break;case"eol":return remove_abstract_expr(this.tree),$transition(r.parent,e)}raise_syntax_error(r)};var $ReturnCtx=$B.parser.$ReturnCtx=function(e){this.type="return",this.parent=e,this.tree=[],this.position=$token.value,e.tree[e.tree.length]=this,this.scope=$get_scope(this),-1==["def","generator"].indexOf(this.scope.ntype)&&raise_syntax_error(e,"'return' outside function");for(var t=this.node=$get_node(this);t.parent;){if(t.parent.C){var r=t.parent.C.tree[0];if("for"==r.type){r.has_return=!0;break}("try"==r.type||"single_kw"==r.type&&"finally"==r.token)&&(r.has_return=!0)}t=t.parent}};$ReturnCtx.prototype.ast=function(){var e=new ast.Return;return this.tree.length>0&&(e.value=this.tree[0].ast()),set_position(e,this.position),e},$ReturnCtx.prototype.transition=function(e,t){return"eol"==e&&1==this.tree.length&&"abstract_expr"==this.tree[0].type&&this.tree.pop(),$transition(new $AbstractExprCtx(this.parent,!1),e,t)};var SetCompCtx=function(e){this.type="setcomp",this.tree=[e.tree[0]],this.tree[0].parent=this,Comprehension.make_comp(this,e)};SetCompCtx.prototype.ast=function(){var e=new ast.SetComp(this.tree[0].ast(),Comprehension.generators(this.tree.slice(1)));return set_position(e,this.position),e},SetCompCtx.prototype.transition=function(e,t){if("}"==e)return this.parent;raise_syntax_error(this)};var $SingleKwCtx=$B.parser.$SingleKwCtx=function(e,t){if(this.type="single_kw",this.token=t,this.parent=e,this.tree=[],e.tree[e.tree.length]=this,"else"==t){var r=e.node,n=r.parent.children.indexOf(r),a=r.parent.children[n-1].C;if(a.tree[0].orelse=this,a.tree.length>0){var s=a.tree[0];("for"==s.type||"asyncfor"==s.type||"condition"==s.type&&"while"==s.token)&&(s.has_break=!0,s.else_node=$get_node(this))}}};$SingleKwCtx.prototype.ast=function(){return ast_body(this.parent)},$SingleKwCtx.prototype.transition=function(e,t){var r=this;if(":"==e)return $BodyCtx(r);"eol"==e&&raise_syntax_error(r,"expected ':'"),raise_syntax_error(r)};var $SliceCtx=$B.parser.$SliceCtx=function(e){this.type="slice",this.parent=e,this.position=$token.value,this.tree=e.tree.length>0?[e.tree.pop()]:[],e.tree.push(this)};$SliceCtx.prototype.ast=function(){for(var e=new ast.Slice,t=["lower","upper","step"],r=0;r<this.tree.length;r++){var n=this.tree[r];"abstract_expr"!==n.type&&(e[t[r]]=n.ast())}return set_position(e,this.position),e},$SliceCtx.prototype.transition=function(e,t){return":"==e?new $AbstractExprCtx(this,!1):$transition(this.parent,e,t)};var $StarArgCtx=$B.parser.$StarArgCtx=function(e){this.type="star_arg",this.parent=e,this.tree=[],this.position=$token.value,e.tree[e.tree.length]=this};$StarArgCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":return"target_list"==r.parent.type?(r.tree.push(t),r.parent.expect=",",r.parent):$transition(new $AbstractExprCtx(r,!1),e,t);case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case"not":case"lambda":return $transition(new $AbstractExprCtx(r,!1),e,t);case",":case")":return 0==r.tree.length&&raise_syntax_error(r,"(unnamed star argument)"),$transition(r.parent,e);case":":if("lambda"==r.parent.parent.type)return $transition(r.parent.parent,e)}raise_syntax_error(r)};var $StarredCtx=$B.parser.$StarredCtx=function(e){if(this.type="starred",this.position=e.position,"list_or_tuple"==e.parent.type&&"node"==e.parent.parent.type)for(var t=0;t<e.parent.tree.length;t++){var r=e.parent.tree[t];"expr"==r.type&&r.tree.length>0&&"starred"==r.tree[0].type&&raise_syntax_error(e,"two starred expressions in assignment")}this.parent=e,this.tree=[],e.tree[e.tree.length]=this};$StarredCtx.prototype.ast=function(){var e=new ast.Starred(this.tree[0].ast(),new ast.Load);return set_position(e,this.position),e},$StarredCtx.prototype.transition=function(e,t){return $transition(this.parent,e,t)};var $StringCtx=$B.parser.$StringCtx=function(e,t){this.type="str",this.parent=e,this.position=this.end_position=$token.value,this.is_bytes="b"==t.charAt(0),this.is_bytes?this.value=function(e){return(e=e.replace(/\n/g,"\\n\\\n")).replace(/\r/g,"\\r\\\r")}(t.substr(1)):this.value=t,e.tree.push(this),this.tree=[this.value],this.raw=!1,this.$pos=$pos};$StringCtx.prototype.ast=function(){var value=this.value;this.is_bytes&&(value=_b_.bytes.$new(_b_.bytes,eval(this.value),"ISO-8859-1"));var ast_obj=new ast.Constant(value);return set_position(ast_obj,this.position),ast_obj},$StringCtx.prototype.transition=function(e,t){var r=this;switch(e){case"[":return new $AbstractExprCtx(new $SubCtx(r.parent),!1);case"(":return r.parent.tree[0]=r,new $CallCtx(r.parent);case"str":return(this.is_bytes&&!t.startsWith("b")||!this.is_bytes&&t.startsWith("b"))&&(r.$pos=$pos,raise_syntax_error(r,"cannot mix bytes and nonbytes literals")),r.value+=" + "+(this.is_bytes?t.substr(1):t),r;case"JoinedStr":r.parent.tree.pop();var n=new JoinedStrCtx(r.parent,t);return"string"==typeof n.tree[0].value?n.tree[0].value=this.value+" + "+n.tree[0].value:n.tree.splice(0,0,this),n}return $transition(r.parent,e,t)};var $SubCtx=$B.parser.$SubCtx=function(e){this.type="sub",this.func="getitem",this.value=e.tree[0],this.position=$token.value,e.tree.pop(),e.tree[e.tree.length]=this,this.parent=e,this.tree=[]};$SubCtx.prototype.ast=function(){var e;if(this.tree.length>1){var t=this.tree.map(e=>e.ast());set_position(e=new ast.Tuple(t),this.position,this.end_position)}else e=this.tree[0].ast();e.ctx=new ast.Load;var r=this.value.ast();r.ctx&&(r.ctx=new ast.Load);var n=new ast.Subscript(r,e,new ast.Load);return n.lineno=r.lineno,n.col_offset=r.col_offset,n.end_lineno=e.end_lineno,n.end_col_offset=e.end_col_offset,n},$SubCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":case"imaginary":case"int":case"float":case"str":case"JoinedStr":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":var n=new $AbstractExprCtx(r,!1);return $transition(n,e,t);case"]":if(r.end_position=$token.value,r.parent.packed)return r.parent;if(r.tree[0].tree.length>0)return r.parent;break;case":":return new $AbstractExprCtx(new $SliceCtx(r),!1);case",":return new $AbstractExprCtx(r,!1)}raise_syntax_error(r)};var $TargetListCtx=$B.parser.$TargetListCtx=function(e){this.type="target_list",this.parent=e,this.tree=[],this.position=$token.value,this.expect="id",this.nb_packed=0,e.tree[e.tree.length]=this};$TargetListCtx.prototype.ast=function(){if(1!=this.tree.length||this.implicit_tuple){var e=[];for(var t of this.tree)(t=t.ast()).hasOwnProperty("ctx")&&(t.ctx=new ast.Store),e.push(t);var r=new ast.Tuple(e,new ast.Store);return set_position(r,this.position),r}if((t=this.tree[0].ast()).ctx=new ast.Store,t instanceof ast.Tuple)for(var n of t.elts)n.ctx=new ast.Store;return t},$TargetListCtx.prototype.transition=function(e,t){var r=this;switch(e){case"id":if("id"==r.expect)return r.expect=",",new $IdCtx(new $ExprCtx(r,"target",!1),t);case"op":if("id"==r.expect&&"*"==t)return this.nb_packed++,r.expect=",",new $AbstractExprCtx(new $StarredCtx(r),!1);case"(":case"[":if("id"==r.expect)return r.expect=",",new $ListOrTupleCtx(r,"("==e?"tuple":"list");case")":case"]":if(","==r.expect)return r.parent;case",":if(","==r.expect)return r.expect="id",r.implicit_tuple=!0,r}return","==r.expect||"in"==e?$transition(r.parent,e,t):(console.log("unexpected token for target list",e,t),console.log(r),void raise_syntax_error(r))};var $TernaryCtx=$B.parser.$TernaryCtx=function(e){this.type="ternary",this.position=e.position,e.parent.tree.pop();var t=new $ExprCtx(e.parent,"ternary",!1);t.tree.push(this),this.parent=t,this.tree=[e],e.parent=this};$TernaryCtx.prototype.ast=function(){var e=new ast.IfExp(this.tree[1].ast(),this.tree[0].ast(),this.tree[2].ast());return set_position(e,this.position),e},$TernaryCtx.prototype.transition=function(e,t){var r=this;if("else"==e)return r.in_else=!0,new $AbstractExprCtx(r,!1);if(r.in_else){if(","==e&&["assign","augm_assign","node","return"].indexOf(r.parent.type)>-1){r.parent.tree.pop();var n=new $ListOrTupleCtx(r.parent,"tuple");return n.implicit=!0,n.tree[0]=r,r.parent=n,n.expect="id",n}}else":"==e&&raise_syntax_error(r),raise_syntax_error_known_range(r,r.position,last_position(r),"expected 'else' after 'if' expression");return $transition(r.parent,e,t)};var $TryCtx=$B.parser.$TryCtx=function(e){this.type="try",this.parent=e,this.position=$token.value,e.tree[e.tree.length]=this};$TryCtx.prototype.ast=function(){var e=this.parent.node,t={body:ast_body(this.parent),handlers:[],orelse:[],finalbody:[]},r=e.parent.children.indexOf(e);for(var n of e.parent.children.slice(r+1)){var a=n.C.tree[0],s=a.type;if("single_kw"==s&&(s=a.token),"except"==s)t.handlers.push(a.ast());else if("else"==s)t.orelse=ast_body(n.C);else{if("finally"!=s)break;t.finalbody=ast_body(n.C)}}return 0==t.handlers.length&&0==t.finalbody.length&&raise_syntax_error(this,"expected 'except' or 'finally' block"),set_position(t=new ast.Try(t.body,t.handlers,t.orelse,t.finalbody),this.position),t},$TryCtx.prototype.transition=function(e,t){if(":"==e)return $BodyCtx(this);raise_syntax_error(this,"expected ':'")};var $UnaryCtx=$B.parser.$UnaryCtx=function(e,t){this.type="unary",this.op=t,this.parent=e,this.tree=[],this.position=$token.value,e.tree.push(this)};$UnaryCtx.prototype.ast=function(){var e={"+":ast.UAdd,"-":ast.USub,"~":ast.Invert}[this.op],t=new ast.UnaryOp(new e,this.tree[0].ast());return set_position(t,this.position),t},$UnaryCtx.prototype.transition=function(e,t){var r=this;switch(e){case"op":if("+"==t||"-"==t)return r.op===t?r.op="+":r.op="-",r;case"int":case"float":case"imaginary":return"starred"==r.parent.type&&raise_syntax_error(r,"can't use starred expression here"),new $NumberCtx(e,r,t);case"id":return $transition(new $AbstractExprCtx(r,!1),e,t)}return 0!=this.tree.length&&"abstract_expr"!=this.tree[0].type||raise_syntax_error(r),$transition(r.parent,e,t)};var $WithCtx=$B.parser.$WithCtx=function(e){this.type="with",this.parent=e,this.position=$token.value,e.tree[e.tree.length]=this,this.tree=[],this.expect="expr",this.scope=$get_scope(this)};$WithCtx.prototype.ast=function(){var e=[];for(var t of this.tree)e.push(t.ast());var r=new(this.async?ast.AsyncWith:ast.With)(e,ast_body(this.parent));return set_position(r,this.async?this.async.position:this.position,last_position(this)),r},$WithCtx.prototype.transition=function(e,t){var r=this;function n(){var e=$B.last(r.tree);if(e.tree.length>1){var t=e.tree[1];0==t.tree.length&&raise_syntax_error(r,"expected ':'"),check_assignment(t)}}switch(e){case"(":case"[":if("expr"==this.expect&&0==this.tree.length)return r.parenth=e,r;raise_syntax_error(r);break;case"id":if("expr"==r.expect)return r.expect=",",$transition(new $AbstractExprCtx(new withitem(r),!1),e,t);raise_syntax_error(r);case":":return r.parenth&&"implicit"!=r.parenth||n(),$BodyCtx(r);case")":case"]":if(r.parenth==opening[e]&&(","==r.expect||"expr"==r.expect))return n(),r.expect=":",r;break;case",":if(","==r.expect)return r.parenth||(r.parenth="implicit"),n(),r.expect="expr",r;break;case"eol":raise_syntax_error(r,"expected ':'")}raise_syntax_error(r)},$WithCtx.prototype.set_alias=function(e){var t=[];if("id"==e.type)t=[e];else if("list_or_tuple"==e.type)for(var r of e.tree)"expr"==r.type&&"id"==r.tree[0].type&&t.push(r.tree[0])};var withitem=function(e){this.type="withitem",this.parent=e,e.tree.push(this),this.tree=[],this.expect="as",this.position=$token.value};withitem.prototype.ast=function(){var e=new ast.withitem(this.tree[0].ast());if(this.tree[1])if(e.optional_vars=this.tree[1].tree[0].ast(),e.optional_vars.elts)for(var t of e.optional_vars.elts)t.ctx=new ast.Store;else e.optional_vars.ctx=new ast.Store;return set_position(e,this.position),e},withitem.prototype.transition=function(e,t){var r=this;return"as"==e&&"as"==r.expect?(r.expect="star_target",new $AbstractExprCtx(r,!1)):$transition(r.parent,e,t)};var $YieldCtx=$B.parser.$YieldCtx=function(e,t){this.type="yield",this.parent=e,this.tree=[],this.is_await=t,this.position=$token.value,e.tree[e.tree.length]=this,"list_or_tuple"==e.type&&e.tree.length>1&&raise_syntax_error(e,"(non-parenthesized yield)"),$parent_match(e,{type:"annotation"})&&raise_syntax_error(e,"'yield' outside function");for(var r=this;;){var n=$parent_match(r,{type:"list_or_tuple"});if(!n)break;n.yields=n.yields||[],n.yields.push([this,$pos]),r=n}for(r=this;;){var a=$parent_match(r,{type:"dict_or_set"});if(!a)break;a.yields=a.yields||[],a.yields.push([this,$pos]),r=a}var s=$get_module(this);s.yields_func_check=s.yields_func_check||[],s.yields_func_check.push([this,$pos]);var o=this.scope=$get_scope(this,!0),i=$get_node(this);i.has_yield=this;var _=$parent_match(this,{type:"comprehension"});if($get_scope(this).id.startsWith("lc"+$B.lambda_magic)&&delete i.has_yield,_){var l=_.tree[0].tree[1];for(r=e;r&&r!==l;)r=r.parent;r||raise_syntax_error(e,"'yield' inside list comprehension")}var c=!1;for(r=e;r;){if("lambda"==r.type){c=!0,this.in_lambda=!0;break}r=r.parent}for(r=i.parent;r;){if(r.C&&r.C.tree.length>0&&"with"==r.C.tree[0].type){o.C.tree[0].$has_yield_in_cm=!0;break}r=r.parent}if(!c)switch(e.type){case"node":case"assign":case"list_or_tuple":break;default:raise_syntax_error(e,"(non-parenthesized yield)")}};function $parent_match(e,t){for(var r;e.parent;){for(var n in r=!0,t)if(e.parent[n]!=t[n]){r=!1;break}if(r)return e.parent;e=e.parent}return!1}$YieldCtx.prototype.ast=function(){var e;return set_position(e=this.from?new ast.YieldFrom(this.tree[0].ast()):1==this.tree.length?new ast.Yield(this.tree[0].ast()):new ast.Yield,this.position),e},$YieldCtx.prototype.transition=function(e,t){var r=this;return"from"==e?("abstract_expr"!=r.tree[0].type&&raise_syntax_error(r,"('from' must follow 'yield')"),r.from=!0,r.from_num=$B.UUID(),r.tree[0]):(remove_abstract_expr(r.tree),$transition(r.parent,e))},$YieldCtx.prototype.check_in_function=function(){if(!this.in_lambda){var e=$get_scope(this),t=e.is_function,r=e;if(!t&&e.comprehension){for(var n=e.parent_block;n.comprehension;)n=parent_block;t=n.is_function,r=n}if(t){var a=r.C.tree[0];this.is_await||(a.type="generator")}else raise_syntax_error(this.parent,"'yield' outside function")}};var $previous=$B.parser.$previous=function(e){var t=e.node.parent.children[e.node.parent.children.length-2];return t&&t.C||raise_syntax_error(e,"(keyword not following correct keyword)"),t.C.tree[0]},$get_docstring=$B.parser.$get_docstring=function(node){var doc_string=_b_.None;if(node.body.length>0){var firstchild=node.body[0];firstchild instanceof $B.ast.Constant&&"string"==typeof firstchild.value&&(doc_string=eval(firstchild.value))}return doc_string},$get_scope=$B.parser.$get_scope=function(e,t){for(var r=e.parent;"node"!==r.type;){if(r.comprehension)return r;r=r.parent}for(var n=r.node,a=null;n.parent&&"module"!==n.parent.type;){var s=n.parent.C.tree[0].type;switch(s){case"def":case"class":case"generator":return(a=n.parent).ntype=s,a.is_function="class"!=s,a}n=n.parent}return(a=n.parent||n).ntype="module",a},$get_module=$B.parser.$get_module=function(e){for(var t=e instanceof $NodeCtx?e:e.parent;"node"!==t.type;)t=t.parent;var r=t.node;if("module"==r.ntype)return r;for(var n=null;"module"!=r.parent.type;)r=r.parent;return(n=r.parent).ntype="module",n},$get_node=$B.parser.$get_node=function(e){for(var t=e;t.parent;)t=t.parent;return t.node},$mangle=$B.parser.$mangle=function(e,t){if("__"!=e.substr(0,2)||"__"===e.substr(e.length-2))return e;for(var r=$get_scope(t);;){if("module"==r.ntype)return e;if("class"==r.ntype){for(var n=r.C.tree[0].name;"_"==n.charAt(0);)n=n.substr(1);return"_"+n+e}if(!r.parent||!r.parent.C)return e;r=$get_scope(r.C.tree[0])}};$B.nb_debug_lines=0;var $transition=$B.parser.$transition=function(e,t,r){return $B.nb_debug_lines>100&&(alert("too many debug lines"),$B.nb_debug_lines=0),$B.track_transitions&&(console.log("C",e,"token",t,r),$B.nb_debug_lines++),e.transition(t,r)};$B.forbidden=[],$B.aliased_names=Object.create(null);for(var s_escaped="abfnrtvxuU\"0123456789'\\",is_escaped={},i=0;i<s_escaped.length;i++)is_escaped[s_escaped.charAt(i)]=!0;function SurrogatePair(e){return e-=65536,String.fromCharCode(55296|e>>10)+String.fromCharCode(56320|1023&e)}function test_num(e){var t=e.length,r=0,n=null,a={b:"binary",o:"octal",x:"hexadecimal"},s=/[_\d]/;function o(e){throw SyntaxError(e)}function i(e){if(0==e.value.length){o("invalid "+(a[e.subtype]||"decimal")+" literal")}else{if(!e.value[e.value.length-1].match(/[\-+_]/))return e.value=e.value.replace(/_/g,""),e.length=r,e;o("invalid "+(a[e.subtype]||"decimal")+" literal")}}for(;r<t;){var _;if((_=e[r]).match(s))null===n?n={value:_}:("_"==_&&n.value.match(/[._+\-]$/)?o("consecutive _ at "+r):"_"==_&&"float"==n.subtype&&n.value.match(/e$/i)?o("syntax error"):"b"!=n.subtype||_.match(/[01_]/)?"o"!=n.subtype||_.match(/[0-7_]/)?void 0===n.subtype&&n.value.startsWith("0")&&!_.match(/[0_]/)&&o("leading zeros in decimal integer literals are not permitted; use an 0o prefix for octal integers"):o(`invalid digit '${_}' in octal literal`):o(`invalid digit '${_}' in binary literal`),n.value+=_),r++;else if(_.match(/[oxb]/i))"0"==n.value?(n.subtype=_.toLowerCase(),"x"==n.subtype&&(s=/[_\da-fA-F]/),n.value="",r++):o("invalid char "+_);else if("."==_)if(null===n)o("invalid char in "+e+" pos "+r+": "+_);else{if(void 0!==n.subtype)return i(n);n.subtype="float",n.value.endsWith("_")&&o("invalid decimal literal"),n.value=n.value.replace(/_/g,"")+_,r++}else if(_.match(/e/i))if(void 0===e[r+1])o("nothing after e");else if(n&&void 0!==a[n.subtype])o("syntax error");else if(n&&n.value.endsWith("_"))o("syntax error");else{if(!e[r+1].match(/[+\-0-9_]/))return i(n);if(n&&n.value){if(n.exp)return n.length=r,n;n.subtype="float",n.value+=_,n.exp=!0,r++}else o("unexpected e")}else if(_.match(/[\+\-]/i))if(null===n)n={value:_},r++;else{if(!(n.value.search(/e$/i)>-1))return i(n);n.value+=_,r++}else{if(!_.match(/j/i))break;if(n&&(!n.subtype||"float"==n.subtype))return n.imaginary=!0,i(n),n.length++,n;o("invalid syntax")}}return i(n)}var opening={")":"(","}":"{","]":"["};function get_first_line(e){for(var t=[],r=new $B.TokenReader(e);;){var n=r.read();if(!n)return{line:e};if("OP"==n.type&&":"==n.string&&0==t.length)return!0;if("OP"==n.type){if("([{".indexOf(n.string)>-1)t.push(n);else if(")]}".indexOf(n.string)>-1){var a;if(0==t.length)throw(a=SyntaxError(`unmatched '${n.string}'`)).offset=n.start[1],a;if($B.last(t).string!=opening[n.string])throw(a=SyntaxError(`closing parenthesis '${n.string}' does not match opening parenthesis '${$B.last(t).string}'`)).offset=n.start[1],a;t.pop()}}else if("NEWLINE"==n.type){var s=n.end,o=e.split("\n"),i=o.slice(0,s[0]-1);return i.push(o[s[0]-1].substr(0,s[1])),{text:i.join("\n"),newline_token:n}}}return!1}function prepare_number(e){return(e=e.replace(/_/g,"")).startsWith(".")?e.endsWith("j")?{type:"imaginary",value:prepare_number(e.substr(0,e.length-1))}:{type:"float",value:e}:e.startsWith("0")&&"0"!=e?(t=test_num(e)).imaginary?{type:"imaginary",value:prepare_number(t.value)}:"float"==t.subtype?{type:t.subtype,value:t.value}:void 0!==(r=void 0===t.subtype?10:{b:2,o:8,x:16}[t.subtype])?{type:"int",value:[r,t.value]}:void 0:"float"==(t=test_num(e)).subtype?t.imaginary?{type:"imaginary",value:prepare_number(t.value)}:{type:"float",value:t.value}:t.imaginary?{type:"imaginary",value:prepare_number(t.value)}:{type:"int",value:[10,t.value]};var t,r}function test_escape(e,t,r,n){var a;if(s=/^[0-7]{1,3}/.exec(t.substr(n+1)))return[String.fromCharCode(parseInt(s[0],8)),1+s[0].length];switch(t[n+1]){case"x":if(2==(s=/^[0-9A-F]{0,2}/i.exec(t.substr(n+2)))[0].length)return[String.fromCharCode(parseInt(s[0],16)),2+s[0].length];a=n+s[0].length+1,$token.value.start[1]=a,raise_syntax_error(e,`(unicode error) 'unicodeescape' codec can't decode bytes in position ${n}-${a}: truncated \\xXX escape`);case"u":if(4==(s=/^[0-9A-F]{0,4}/i.exec(t.substr(n+2)))[0].length)return[String.fromCharCode(parseInt(s[0],16)),2+s[0].length];a=n+s[0].length+1,$token.value.start[1]=a,raise_syntax_error(e,`(unicode error) 'unicodeescape' codec can't decode bytes in position ${n}-${a}: truncated \\uXXXX escape`);case"U":var s;if(8!=(s=/^[0-9A-F]{0,8}/i.exec(t.substr(n+2)))[0].length)a=n+s[0].length+1,$token.value.start[1]=a,raise_syntax_error(e,`(unicode error) 'unicodeescape' codec can't decode bytes in position ${n}-${a}: truncated \\uXXXX escape`);else{var o=parseInt(s[0],16);if(!(o>1114111))return o>=65536?[SurrogatePair(o),2+s[0].length]:[String.fromCharCode(o),2+s[0].length];raise_syntax_error(e,"invalid unicode escape "+s[0])}}}function prepare_string(C,s,position){for(var len=s.length,pos=0,string_modifier,_type="string";pos<len;){if('"'==s[pos]||"'"==s[pos]){quote=s[pos],string_modifier=s.substr(0,pos),s.substr(pos,3)==quote.repeat(3)?(_type="triple_string",inner=s.substring(pos+3,s.length-3)):inner=s.substring(pos+quote.length,len-quote.length);break}pos++}var result={quote:quote},mods={r:"raw",f:"fstring",b:"bytes"};for(var mod of string_modifier)result[mods[mod]]=!0;var raw="str"==C.type&&C.raw,string_start=$pos+pos+1,bytes=!1,fstring=!1,sm_length,end=null;if(string_modifier){switch(string_modifier){case"r":raw=!0;break;case"u":break;case"b":bytes=!0;break;case"rb":case"br":bytes=!0,raw=!0;break;case"f":fstring=!0,sm_length=1;break;case"fr":case"rf":fstring=!0,sm_length=2,raw=!0}string_modifier=!1}for(var escaped=!1,zone="",end=0,src=inner;end<src.length;)if(escaped)"a"!=src.charAt(end)||raw?(zone+=src.charAt(end),raw&&"\\"==src.charAt(end)&&(zone+="\\")):zone=zone.substr(0,zone.length-1)+"",escaped=!1,end++;else if("\\"==src.charAt(end))if(raw)end<src.length-1&&src.charAt(end+1)==quote?(zone+="\\\\"+quote,end+=2):(zone+="\\\\",end++),escaped=!0;else if("\n"==src.charAt(end+1))end+=2;else if("N{"==src.substr(end+1,2)){var end_lit=end+3,re=new RegExp("[-a-zA-Z0-9 ]+"),search=re.exec(src.substr(end_lit));null===search&&raise_syntax_error(C," (unicode error) malformed \\N character escape",pos);var end_lit=end_lit+search[0].length;"}"!=src.charAt(end_lit)&&raise_syntax_error(C," (unicode error) malformed \\N character escape");var description=search[0].toUpperCase();if(void 0===$B.unicodedb){var xhr=new XMLHttpRequest;xhr.open("GET",$B.brython_path+"unicode.txt",!1),xhr.onreadystatechange=function(){4==this.readyState&&(200==this.status?$B.unicodedb=this.responseText:console.log("Warning - could not load unicode.txt"))},xhr.send()}if(void 0!==$B.unicodedb){var re=new RegExp("^([0-9A-F]+);"+description+";.*$","m");search=re.exec($B.unicodedb),null===search&&raise_syntax_error(C," (unicode error) unknown Unicode character name");var cp="0x"+search[1];zone+=String.fromCodePoint(eval(cp)),end=end_lit+1}else end++}else{var esc=test_escape(C,src,string_start,end);esc?("\\"==esc[0]?zone+="\\\\":zone+=esc[0],end+=esc[1]):(end<src.length-1&&void 0===is_escaped[src.charAt(end+1)]&&(zone+="\\"),zone+="\\",escaped=!0,end++)}else"\n"==src.charAt(end)&&"triple_string"!=_type?raise_syntax_error(C,"EOL while scanning string literal"):(zone+=src.charAt(end),end++);for(var $string=zone,string="",i=0;i<$string.length;i++){var $car=$string.charAt(i);if($car==quote)if(raw||0==i||"\\"!=$string.charAt(i-1))string+="\\";else if("triple_string"==_type){for(var j=i-1;"\\"==$string.charAt(j);)j--;(i-j-1)%2==0&&(string+="\\")}string+=$car}if(fstring)try{var re=new RegExp("\\\\"+quote,"g"),string_no_bs=string.replace(re,quote),elts=$B.parse_fstring(string_no_bs)}catch(e){e.position&&($pos+=e.position),raise_syntax_error(C,e.message)}return result.value=bytes?"b"+quote+string+quote:fstring?elts:quote+string+quote,C.raw=raw,result}function unindent(e){for(var t,r,n,a=e.split("\n"),s=[],o=0,i=a.length;o<i;o++)if((n=(t=a[o]).match(/^\s*/)[0])!=t)if(void 0===r){if(0==n.length)return e;var _=(r=n).length;s.push(t.substr(_))}else{if(!t.startsWith(r))throw SyntaxError(`first line starts at column ${_}, line ${o} at column `+t.match(/\s*/).length+"\n    "+t);s.push(t.substr(_))}else s.push("");return s.join("\n")}function handle_errortoken(e,t,r){if("'"==t.string||'"'==t.string)raise_syntax_error(e,`unterminated string literal (detected at line ${t.start[0]})`);else if("\\"==t.string){var n=r.read();n&&"NEWLINE"!=n.type?raise_syntax_error_known_range(e,n,n,"unexpected character after line continuation character"):raise_syntax_error(e,"unexpected EOF while parsing")}else if(-1==" `$".indexOf(t.string)){var a=t.string.codePointAt(0).toString(16).toUpperCase();a="U+"+"0".repeat(4-a.length)+a,raise_syntax_error(e,`invalid character '${t.string}' (${a})`)}raise_syntax_error(e)}var python_keywords=["class","return","break","for","lambda","try","finally","raise","def","from","nonlocal","while","del","global","with","as","elif","else","if","yield","assert","import","except","raise","in","pass","with","continue","async","await"],$token={},dispatch_tokens=$B.parser.dispatch_tokens=function(e){var t=e.src;e.token_reader=new $B.TokenReader(t);var r={")":"(","]":"[","}":"{"},n=[],a=[],s=e.module,o=void 0===e.line_num?1:e.line_num,i=new $Node;i.line_num=o,e.add(i);for(var _=null,l=!1,c=0,u={0:0,1:0},f=1,p=0,d=t.length;p<d;p++)"\n"==t[p]&&(u[++f]=p+1);for(;;){try{var h=e.token_reader.read()}catch(t){if(_=_||new $NodeCtx(i),"IndentationError"==t.type)$pos=u[t.line_num],raise_indentation_error(_,t.message);else if(t instanceof SyntaxError){if(n.length>0){(v=$B.last(n)).start;$token.value=v,raise_syntax_error(_,`'${v.string}' was never closed`)}var $=t.message;"EOF in multi-line statement"==$&&($="unexpected EOF while parsing"),t.lineno?raise_error_known_location(_b_.SyntaxError,e.filename,t.lineno,t.col_offset,t.end_lineno,t.end_col_offset,t.line,t.message):raise_syntax_error(_,$)}throw t}if(!h)throw Error("token done without ENDMARKER.");switch($token.value=h,void 0===h[2]&&(console.log("token incomplet",h,"module",s,e),console.log("src",t)),void 0===h.start&&console.log("no start",h),o=h.start[0],$pos=u[o]+h.start[1],l&&-1==["INDENT","COMMENT","NL"].indexOf(h.type)&&raise_indentation_error(_=_||new $NodeCtx(i),"expected an indented block",l),h.type){case"ENDMARKER":if(e.yields_func_check){var m=$pos;for(const t of e.yields_func_check)$token.value=t[0].position,t[0].check_in_function();$pos=m}return 0!=c&&raise_indentation_error(i.C,"expected an indented block"),void(void 0!==i.C&&0!=i.C.tree.length||i.parent.children.pop());case"ENCODING":case"TYPE_COMMENT":continue;case"NL":i.C&&0!=i.C.tree.length||i.line_num++;continue;case"COMMENT":var b=u[h.end[0]]+h.end[1];e.comments.push([$pos,b-$pos]);continue;case"ERRORTOKEN":_=_||new $NodeCtx(i)," "!=h.string&&handle_errortoken(_,h,e.token_reader);continue}switch(h[0]){case"NAME":case"NUMBER":case"OP":case"STRING":_=_||new $NodeCtx(i)}switch(h[0]){case"NAME":var g=h[1];python_keywords.indexOf(g)>-1?(a.indexOf(g)>-1&&raise_syntax_error(_,"(Unsupported Python keyword '"+g+"')"),_=$transition(_,g)):_="not"==g?$transition(_,"not"):"string"==typeof $operators[g]?$transition(_,"op",g):$transition(_,"id",g);continue;case"OP":var y=h[1];if(1==y.length&&"()[]{}.,=".indexOf(y)>-1||[":="].indexOf(y)>-1){if("([{".indexOf(y)>-1)n.push(h);else if(r[y]){var v;if(0==n.length)raise_syntax_error(_,"(unmatched '"+y+"')");else(v=$B.last(n)).string==r[y]?n.pop():raise_syntax_error(_,`closing parenthesis '${y}' does not match opening parenthesis '${v.string}'`)}_=$transition(_,h[1])}else if(":"==y)(_=$transition(_,":")).node&&_.node.is_body_node&&(i=_.node);else if("..."==y)_=$transition(_,"ellipsis");else if("->"==y)_=$transition(_,"annotation");else if(";"==y){"node"==_.type&&0==_.tree.length&&raise_syntax_error(_,"(statement cannot start with ;)"),$transition(_,"eol"),(w=new $Node).line_num=h[2][0]+1,_=new $NodeCtx(w),i.parent.add(w),i=w}else _=$augmented_assigns[y]?$transition(_,"augm_assign",y):$transition(_,"op",y);continue;case"STRING":_=(x=prepare_string(_,h[1],h[2])).value instanceof Array?$transition(_,"JoinedStr",x.value):$transition(_,"str",x.value);continue;case"NUMBER":try{var x=prepare_number(h[1])}catch(e){raise_syntax_error(_,e.message)}_=$transition(_,x.type,x.value);continue;case"NEWLINE":var w;_&&_.node&&_.node.is_body_node&&(l=_.node.parent),_=_||new $NodeCtx(i),$transition(_,"eol"),(w=new $Node).line_num=h[2][0]+1,i.parent.children.length>0&&i.parent.children[0].is_body_node?i.parent.parent.add(w):i.parent.add(w),_=new $NodeCtx(w),i=w;continue;case"DEDENT":c--,B||(i.parent.children.pop(),i.parent.parent.add(i),_=new $NodeCtx(i));continue;case"INDENT":c++;var B=!1;l||("\\"==h.line.trim()?B=!0:raise_indentation_error(_=_||new $NodeCtx(i),"unexpected indent")),l=!1;continue}}},$create_root_node=$B.parser.$create_root_node=function(e,t,r,n,a){var s=new $Node("module");return s.module=t,s.id=r,s.parent_block=n,s.line_num=a,s.indent=-1,s.comments=[],s.imports={},"object"==typeof e&&(s.is_comp=e.is_comp,s.filename=e.filename,e=e.src),e=e.replace(/\r\n/gm,"\n"),s.src=e,s};if($B.py2js=function(e,t,r,n){if($pos=0,"object"==typeof t){t.__package__;t=t.__name__}else;n=n||$B.builtins_scope;Date.now();if("object"==typeof e){e.ix;var a=e.filename;e=e.src}if(Array.isArray(r)&&(r=r[0]),$B.parser_to_ast)var s=new $B.Parser(e,a).parse("file");else{var o=$create_root_node({src:e,filename:a},t,r,n);dispatch_tokens(o);s=o.ast()}var i=$B.future_features(s,a),_=$B._PySymtable_Build(s,a,i),l=$B.js_from_root(s,_,a),c=l.js;return{_ast:s,imports:l.imports,to_js:function(){return c}}},$B.set_import_paths=function(){var e=[],t=[];$B.use_VFS&&e.push($B.finders.VFS),!1!==$B.$options.static_stdlib_import&&"file"!=$B.protocol&&(e.push($B.finders.stdlib_static),$B.path.length>3&&($B.path.shift(),$B.path.shift())),"file"!==$B.protocol&&(e.push($B.finders.path),t.push($B.url_hook)),$B.$options.cpython_import&&("replace"==$B.$options.cpython_import&&$B.path.pop(),e.push($B.finders.CPython)),$B.meta_path=e,$B.path_hooks=t},$B.parse_options=function(e){void 0===e?e={debug:1}:"number"==typeof e?e={debug:e}:"object"!=typeof e&&(console.warn("ignoring invalid argument passed to brython():",e),e={debug:1}),void 0===e.debug&&(e.debug=1),$B.debug=e.debug,_b_.__debug__=$B.debug>0,$B.compile_time=0,void 0===e.profile&&(e.profile=0),$B.profile=e.profile,void 0===e.indexedDB&&(e.indexedDB=!0),void 0===e.static_stdlib_import&&(e.static_stdlib_import=!0),$B.static_stdlib_import=e.static_stdlib_import,$B.$options=e,$B.set_import_paths();var t=($B.script_path=_window.location.href.split("#")[0]).split("/");if(t.pop(),($B.isWebWorker||$B.isNode)&&t.pop(),$B.curdir=t.join("/"),void 0!==e.pythonpath&&($B.path=e.pythonpath,$B.$options.static_stdlib_import=!1),e.python_extension=e.python_extension||".py",e.python_paths)for(var r of e.python_paths){var n,a;"string"!=typeof r&&(n=r.lang,a=r.prefetch,r=r.path),$B.path.push(r),".vfs.js"!=r.slice(-7).toLowerCase()||void 0!==a&&!0!==a||($B.path_importer_cache[r+"/"]=$B.imported._importlib.VFSPathFinder(r)),n&&i.optimize_import_for_path(r,n)}if(!$B.isWebWorker&&!$B.isNode)for(var s,o=document.querySelectorAll("head link[rel~=pythonpath]"),i=$B.imported._importlib,_=0;s=o[_];++_){var l=s.href;-1!=(" "+s.rel+" ").indexOf(" prepend ")?$B.path.unshift(l):$B.path.push(l);var c=s.hreflang;c&&("x-"==c.slice(0,2)&&(c=c.slice(2)),i.optimize_import_for_path(s.href,c))}return $B.$options.args?$B.__ARGV=$B.$options.args:$B.__ARGV=_b_.list.$factory([]),$B.options_parsed=!0,e},!$B.isWebWorker&&!$B.isNode){var observer=new MutationObserver(function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e[t].addedNodes.length;r++)checkPythonScripts(e[t].addedNodes[r])});observer.observe(document.documentElement,{childList:!0,subtree:!0})}function checkPythonScripts(e){if("SCRIPT"==e.tagName&&"text/python"==e.type){var t={};for(var r of e.attributes)"type"!=r.nodeName&&("debug"==r.nodeName?t[r.nodeName]=parseInt(r.nodeValue):t[r.nodeName]=r.nodeValue)}}var brython=$B.parser.brython=function(options){if(options=$B.parse_options(options),!$B.isWebWorker&&!$B.isNode){observer.disconnect(),void 0===options&&(options={});var kk=Object.keys(_window),defined_ids={},$elts=[],webworkers=[],ids=options.ids||options.ipy_id;if(void 0!==ids){if(!Array.isArray(ids))throw _b_.ValueError.$factory("ids is not a list");var scripts=[];for(var id of options.ids){var elt=document.getElementById(id);if(null===elt)throw _b_.KeyError.$factory(`no script with id '${id}'`);if("SCRIPT"!==elt.tagName)throw _b_.KeyError.$factory(`element ${id} is not a script`);scripts.push(elt)}}else var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){var script=scripts[i];if("text/python"==script.type||"text/python3"==script.type)if("webworker"==script.className){if(void 0===script.id)throw _b_.AttributeError.$factory("webworker script has no attribute 'id'");webworkers.push(script)}else $elts.push(script)}var first_script=!0,module_name;if(void 0!==options.ipy_id){module_name="__main__";var $src="",js,root;for(var elt of $elts)$src+=elt.innerHTML||elt.textContent;try{var root=$B.py2js($src,module_name,module_name);js=root.to_js(),$B.debug>1&&$log(js),eval(js),$B.clear_ns(module_name),root=null,js=null}catch(e){if(root=null,js=null,console.log(e),$B.debug>1)for(var attr in console.log(e),e)console.log(attr+" : ",e[attr]);void 0===e.$py_error&&(console.log("Javascript error",e),e=_b_.RuntimeError.$factory(e+""));var $trace=$B.$getattr(e,"info")+"\n"+e.__name__+": "+e.args;try{$B.$getattr($B.stderr,"write")($trace)}catch(e){console.log($trace)}throw e}}else{$elts.length>0&&options.indexedDB&&$B.has_indexedDB&&$B.hasOwnProperty("VFS")&&$B.tasks.push([$B.idb_open]);for(var i=0;i<$elts.length;i++){var elt=$elts[i];if(elt.id){if(defined_ids[elt.id])throw Error("Brython error : Found 2 scripts with the same id '"+elt.id+"'");defined_ids[elt.id]=!0}}for(var src,i=0,len=webworkers.length;i<len;i++){var worker=webworkers[i];if(worker.src)$B.tasks.push([$B.ajax_load_script,{name:worker.id,url:worker.src,is_ww:!0}]);else{src=worker.innerHTML||worker.textContent,src=unindent(src),src=src.replace(/^\n/,""),$B.webworkers[worker.id]=src;var filename=$B.script_path+"#"+worker.id;$B.url2name[filename]=worker.id,$B.file_cache[filename]=src}}for(var i=0;i<$elts.length;i++){var elt=$elts[i];if("text/python"==elt.type||"text/python3"==elt.type){if(elt.id)module_name=elt.id;else for(first_script?(module_name="__main__",first_script=!1):module_name="__main__"+$B.UUID();void 0!==defined_ids[module_name];)module_name="__main__"+$B.UUID();if(elt.src)$B.tasks.push([$B.ajax_load_script,{name:module_name,url:elt.src,id:elt.id}]);else{src=elt.innerHTML||elt.textContent,src=unindent(src),src=src.replace(/^\n/,""),src.endsWith("\n")&&(src=src.substr(0,src.length-1));var filename=$B.script_path+"#"+module_name;$B.file_cache[filename]=src,$B.url2name[filename]=module_name,$B.tasks.push([$B.run_script,src,module_name,filename,!0])}}}}void 0===options.ipy_id&&$B.loop()}};$B.run_script=function(e,t,r,n){$B.file_cache[r]=e,$B.url2name[r]=t;try{var a=$B.py2js({src:e,filename:r},t,t),s=a.to_js(),o={__doc__:$get_docstring(a._ast),js:s,__name__:t,__file__:r};$B.debug>1&&console.log($B.format_indent(s,0))}catch(e){return $B.handle_error(e)}if($B.hasOwnProperty("VFS")&&$B.has_indexedDB){var i=Object.keys(a.imports).slice().filter(function(e){return $B.VFS.hasOwnProperty(e)});for(var t of Object.keys(i))if($B.VFS.hasOwnProperty(t)){var _=$B.VFS[t],l=_[0];if(".py"==l){e=_[1];var c=_[2];_.length;for(var u of(".py"==l&&required_stdlib_imports(c),c))-1==i.indexOf(u)&&i.push(u)}}for(var f=0;f<i.length;f++)$B.tasks.push([$B.inImported,i[f]]);a=null}$B.tasks.push(["execute",o]),n&&$B.loop()};var $log=$B.$log=function(e){e.split("\n").forEach(function(e,t){console.log(t+1,":",e)})};$B.$operators=$operators,$B.$Node=$Node,$B.brython=brython}(__BRYTHON__);var brython=__BRYTHON__.brython;__BRYTHON__.isNode&&(global.__BRYTHON__=__BRYTHON__,module.exports={__BRYTHON__:__BRYTHON__}),function(e){var t=e.builtins;function r(t){var s=e.idb_cx.result.transaction("modules","readonly");try{var o=s.objectStore("modules");req=o.get(t),req.onsuccess=function(s){!function(t,s){var o=t.target.result;if(e.timestamp,void 0===o||o.timestamp!=e.timestamp||e.VFS[s]&&o.source_ts!==e.VFS[s].timestamp){if(void 0!==e.VFS[s]){var i=(m=e.VFS[s])[0],_=m[1];if(".py"==i){m[2];var l,c=4==m.length;if(m.timestamp,c)l=s;else{var u=s.split(".");u.pop(),l=u.join(".")}e.imported[s]=e.module.$factory(s,"",l),e.url2name[s]=s;try{e.py2js({src:_,filename:s},s,s).to_js()}catch(t){e.handle_error(t)}delete e.imported[s],e.debug>1&&console.log("precompile",s)}else console.log("bizarre",s,i)}}else if(o.is_package?e.precompiled[s]=[o.content]:e.precompiled[s]=o.content,o.imports.length>0){e.debug>1&&console.log(s,"imports",o.imports);for(var f=o.imports.split(","),p=0;p<f.length;p++){var d=f[p];if(d.startsWith(".")){for(var h=s.split("."),$=0;d.startsWith(".");)$++,d=d.substr(1);var m=h.slice(0,$);d&&(m=m.concat([d])),d=m.join(".")}if(!e.imported.hasOwnProperty(d)&&!e.precompiled.hasOwnProperty(d)&&e.VFS.hasOwnProperty(d)){var b=e.VFS[d];i=b[0],_=b[1],".py"==b[0]?e.tasks.splice(0,0,[r,d]):n(d,_)}}}a()}(s,t)}}catch(e){console.info("error",e)}}function n(t,r){r+="\nvar $locals_"+t.replace(/\./g,"_")+" = $module",e.precompiled[t]=r}e.VFS_timestamp&&e.VFS_timestamp>e.timestamp&&(e.timestamp=e.VFS_timestamp),e.idb_open=function(t){e.idb_name="brython-cache";var r=e.idb_cx=indexedDB.open(e.idb_name);r.onsuccess=function(){var t=r.result;if(t.objectStoreNames.contains("modules")){e.debug>1&&console.info("using indexedDB for stdlib modules cache");var n,s=t.transaction("modules","readwrite").objectStore("modules"),o=[],i=s.openCursor();i.onerror=function(e){console.log("open cursor error",e)},i.onsuccess=function(t){cursor=t.target.result,cursor?((n=cursor.value).timestamp==e.timestamp?e.VFS&&e.VFS[n.name]&&e.VFS[n.name].timestamp!=n.source_ts?o.push(n.name):(n.is_package?e.precompiled[n.name]=[n.content]:e.precompiled[n.name]=n.content,e.debug>1&&console.info("load from cache",n.name)):o.push(n.name),cursor.continue()):(e.debug>1&&console.log("done"),e.outdated=o,a())}}else{var _=t.version;t.close(),console.info("create object store",_),(r=indexedDB.open(e.idb_name,_+1)).onupgradeneeded=function(){console.info("upgrade needed"),e.idb_cx.result.createObjectStore("modules",{keyPath:"name"}).onsuccess=a},r.onversionchanged=function(){console.log("version changed")},r.onsuccess=function(){console.info("db opened",r),r.result.createObjectStore("modules",{keyPath:"name"}).onsuccess=a}}},r.onupgradeneeded=function(){console.info("upgrade needed"),r.result.createObjectStore("modules",{keyPath:"name"}).onsuccess=a},r.onerror=function(){console.info("could not open indexedDB database"),e.idb_cx=null,e.idb_name=null,e.$options.indexedDB=!1,a()}},e.ajax_load_script=function(r){var n=r.url,s=r.name,o=n.substr(e.script_dir.length+1);if(e.files&&e.files.hasOwnProperty(o))e.tasks.splice(0,0,[e.run_script,atob(e.files[o].content),s,n,!0]),a();else{if("file"==e.protocol)throw t.IOError.$factory("can't load external script at "+r.url+" (Ajax calls not supported with protocol file:///)");var i=new XMLHttpRequest,_=e.$options.cache?"":(n.search(/\?/)>-1?"&":"?")+Date.now();i.open("GET",n+_,!0),i.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){var t=this.responseText;r.is_ww?e.webworkers[s]=t:e.tasks.splice(0,0,[e.run_script,t,s,n,!0]),a()}else if(404==this.status)throw Error(n+" not found")},i.send()}};e.inImported=function(t){if(e.imported.hasOwnProperty(t));else if(__BRYTHON__.VFS&&__BRYTHON__.VFS.hasOwnProperty(t)){var s=__BRYTHON__.VFS[t];void 0===s&&console.log("bizarre",t);var o=s[0],i=s[1];s.length;".py"==o?e.idb_cx&&!e.idb_cx.$closed&&e.tasks.splice(0,0,[r,t]):n(t,i)}else console.log("bizarre",t);a()};var a=e.loop=function(){if(0!=e.tasks.length){var r=e.tasks.shift(),n=r[0],s=r.slice(1);if("execute"==n){try{var o=r[1],i=o.__name__.replace(/\./g,"_");(f=e.module.$factory(o.__name__)).__file__=o.__file__,f.__doc__=o.__doc__,e.imported[i]=f;f=new Function(o.js+"\nreturn locals")();for(var _ in f)_.startsWith("$")||(e.imported[i][_]=f[_])}catch(r){if(void 0===r.__class__){console.log("Javascript error",r,r.$stack);var l=e.frames_stack.slice(),c=r.lineNumber;void 0!==c&&(console.log("around line",c),console.log(o.js.split("\n").slice(c-4,c).join("\n")),console.log("script\n",o.js)),e.print_stack(),(r=t.RuntimeError.$factory(r+"")).$stack=l}e.handle_error(r)}a()}else try{n.apply(null,s)}catch(t){e.handle_error(t)}}else{if(e.idb_cx&&!e.idb_cx.$closed){for(var u=e.idb_cx.result.transaction("modules","readwrite").objectStore("modules");e.outdated.length>0;){var f=e.outdated.pop();u.delete(f).onsuccess=function(t){return function(r){e.debug>1&&console.info("delete outdated",t),document.dispatchEvent(new CustomEvent("precompile",{detail:"remove outdated "+t+" from cache"}))}}(f)}document.dispatchEvent(new CustomEvent("precompile",{detail:"close"})),e.idb_cx.result.close(),e.idb_cx.$closed=!0}document.dispatchEvent(new CustomEvent("brython_done",{detail:e.obj_dict(e.$options)}))}};e.tasks=[],e.has_indexedDB=void 0!==self.indexedDB}(__BRYTHON__),__BRYTHON__.builtins.object=function(e){var t=e.builtins,r={$infos:{__name__:"object"},$is_class:!0,$native:!0};function n(t){return e.$getattr(t,"__new__").apply(null,arguments)}return r.__delattr__=function(r,n){if(r.__dict__&&r.__dict__.$string_dict&&void 0!==r.__dict__.$string_dict[n])return delete r.__dict__.$string_dict[n],t.None;if(void 0===r.__dict__&&void 0!==r[n])return delete r[n],t.None;var a=r.__class__;if(a){var s=e.$getattr(a,n);if(s.__class__===t.property&&void 0!==s.__delete__)return s.__delete__(r),t.None}throw e.attr_error(n,r)},r.__dir__=function(r){var n;if(r.$is_class)n=[r].concat(r.__mro__);else{var a=r.__class__||e.get_class(r);n=[r,a].concat(a.__mro__)}for(var s=[],o=0,i=n.length;o<i;o++)for(var _ in n[o])"$"!=_.charAt(0)?isNaN(parseInt(_.charAt(0)))&&"__mro__"!=_&&s.push(_):"$"==_.charAt(1)&&s.push(_.substr(2));if(r.__dict__)for(var _ in r.__dict__.$string_dict)"$"!=_.charAt(0)&&s.push(_);return s=t.list.$factory(t.set.$factory(s)),t.list.sort(s),s},r.__eq__=function(e,r){return e===r||t.NotImplemented},r.__format__=function(){var r=e.args("__format__",2,{self:null,spec:null},["self","spec"],arguments,{},null,null);if(""!==r.spec)throw t.TypeError.$factory("non-empty format string passed to object.__format__");return t.getattr(r.self,"__str__")()},r.__ge__=function(){return t.NotImplemented},r.__getattribute__=function(r,n){var a=r.__class__||e.get_class(r),s=!1,o=!1;if("__class__"===n)return a;var i=r[n];if(Array.isArray(r)&&void 0!==Array.prototype[n]&&(i=void 0),void 0===i&&r.__dict__){var _=r.__dict__;if(_.__class__===e.getset_descriptor)return _.cls[n];if(_.$string_dict.hasOwnProperty(n))return _.$string_dict[n][0]}if(void 0===i){function l(e,t,r){var n=t[r];if(void 0!==n)return n}if(void 0===(i=l(0,a,n))){for(var c=a.__mro__,u=0,f=c.length;u<f;u++)if(void 0!==(i=l(0,c[u],n))){o;break}}else i.__class__!==e.method&&void 0===i.__get__&&(s=!0)}else if(void 0===i.__set__)return i;if(void 0!==i){if(i.__class__&&t.issubclass(i.__class__,t.property))return e.$getattr(i,"__get__")(r,a);if(i.__class__===e.method)return i.$infos.__self__?i:i.__get__(r,a);if(void 0===(p=i.__get__)&&i.__class__){var p=i.__class__.__get__;for(u=0;u<i.__class__.__mro__.length&&void 0===p;u++)p=i.__class__.__mro__[u].__get__}o;var d=void 0===p?null:e.$getattr(i,"__get__",null);if(null!==d)try{return d.apply(null,[r,a])}catch(b){throw b}if("object"==typeof i&&d&&"function"==typeof d&&(get_func=function(e,t){return d.apply(e,[t,a.$factory])}),null===d&&"function"==typeof i&&(d=function(e){return e}),null!==d){i.__name__=n,"__new__"!=n&&i.__class__!==e.builtin_function||(i.$type="staticmethod");var h=d.apply(null,[i,r,a]);if("function"==typeof h){if(h.__class__===e.method)return i;if("staticmethod"==i.$type)return i;var $=i.__class__===e.method?a:r,m=function(){for(var e=[$],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);return i.apply(this,e)};return m.__class__=e.method,(m.__get__=function(t,r){var n=i.bind(null,r);return n.__class__=e.method,n.$infos={__self__:r,__func__:i,__name__:i.$infos.__name__,__qualname__:r.$infos.__name__+"."+i.$infos.__name__},n}).__class__=e.method_wrapper,m.__get__.$infos=i.$infos,void 0===a.$infos&&(console.log("no $infos",a),console.log(e.last(e.frames_stack))),m.$infos={__self__:$,__func__:i,__name__:n,__qualname__:a.$infos.__name__+"."+n},s&&(r.$method_cache=r.$method_cache||{},r.$method_cache[n]=[m,i]),m}return h}return i}throw e.attr_error(n,r)},r.__gt__=function(){return t.NotImplemented},r.__hash__=function(t){var r=t.__hashvalue__;return void 0!==r?r:t.__hashvalue__=e.$py_next_hash--},r.__init__=function(){if(0==arguments.length)throw t.TypeError.$factory("descriptor '__init__' of 'object' object needs an argument");return t.None},r.__init_subclass__=function(){e.args("__init_subclass__",0,{},[],arguments,{},null,null);return t.None},r.__init_subclass__.$type="staticmethod",r.__le__=function(){return t.NotImplemented},r.__lt__=function(){return t.NotImplemented},r.__mro__=[],r.__new__=function(n,...a){if(void 0===n)throw t.TypeError.$factory("object.__new__(): not enough arguments");if(e.$getattr(n,"__init__")===r.__init__&&a.length>0)throw t.TypeError.$factory("object() takes no parameters");var s=Object.create(null);return e.update_obj(s,{__class__:n,__dict__:e.empty_dict()}),s},r.__ne__=function(r,n){if(r===n)return!1;var a=e.$getattr(r.__class__||e.get_class(r),"__eq__",null);if(null!==a){var s=e.$call(a)(r,n);return s===t.NotImplemented?s:!e.$bool(s)}return t.NotImplemented},r.__reduce__=function(r){function n(t){return e.$call(t)()}n.$infos={__qualname__:"_reconstructor"};var a=[n];a.push(t.tuple.$factory([r.__class__].concat(r.__class__.__mro__)));var s=e.empty_dict();for(var o in r.__dict__.$string_dict)t.dict.$setitem(s.$string_dict,o,r.__dict__.$string_dict[o][0]);return console.log("object.__reduce__, d",s),a.push(s),t.tuple.$factory(a)},n.$infos={__name__:"__newobj__",__qualname__:"__newobj__"},t.__newobj__=n,r.__reduce_ex__=function(r){var a=[n],s=t.tuple.$factory([r.__class__]);Array.isArray(r)&&r.forEach(function(e){s.push(e)}),a.push(s);var o=e.empty_dict(),i=0;if(void 0===r.__dict__)throw t.TypeError.$factory("cannot pickle '"+e.class_name(r)+"' object");for(var _ in r.__dict__.$string_dict)"__class__"==_||_.startsWith("$")||(t.dict.$setitem(o,_,r.__dict__.$string_dict[_][0]),i++);return 0==i&&(o=t.None),a.push(o),a.push(t.None),t.tuple.$factory(a)},r.__repr__=function(n){if(n===r)return"<class 'object'>";if(n.__class__===t.type)return"<class '"+n.__name__+"'>";var a=n.__class__.$infos.__module__;return void 0===a||a.startsWith("$")||"builtins"===a?"<"+e.class_name(n)+" object>":"<"+n.__class__.$infos.__module__+"."+e.class_name(n)+" object>"},r.__setattr__=function(n,a,s){if(void 0===s)throw t.TypeError.$factory("can't set attributes of built-in/extension type 'object'");if(n.__class__===r)throw void 0===r[a]?e.attr_error(a,n):t.AttributeError.$factory("'object' object attribute '"+a+"' is read-only");return n.__dict__?t.dict.$setitem(n.__dict__,a,s):n[a]=s,t.None},r.__setattr__.__get__=function(e){return function(t,n){r.__setattr__(e,t,n)}},r.__setattr__.__str__=function(){return"method object.setattr"},r.__str__=function(n){var a=arguments.length;if(0==a)throw t.TypeError.$factory("descriptor '__str__' of 'object' object needs an argument");if(a>1)throw t.TypeError.$factory("descriptor '__str__' of 'object' expects 1 argument, got "+a);if("kw"==n.$nat)throw t.TypeError.$factory("descriptor '__str__' of 'object' doesn't accept keyword arguments");if(!n.$is_class&&!n.$factory){var s=e.$getattr(n,"__repr__");return e.$call(s)()}var o=e.$getattr(n.__class__||e.get_class(n),"__str__",null);if(null!==o&&o!==r.__str__)return o(n);var i=e.$getattr(n.__class__||e.get_class(n),"__repr__",null);return null!==i&&i!==r.__repr__?i(n):void 0},r.__subclasshook__=function(){return t.NotImplemented},r.$factory=function(){var e={__class__:r},t=[e].concat(Array.prototype.slice.call(arguments));return r.__init__.apply(null,t),e},e.set_func_names(r,"builtins"),e.make_class=function(n,a){var s={__class__:t.type,__mro__:[r],$infos:{__qualname__:n,__name__:e.last(n.split("."))},$is_class:!0};return s.$factory=a,s},r}(__BRYTHON__),function(e){var t=e.builtins;function r(r,n,a){var s;if(a&&a.length>0){if(void 0===(s=a[0].__class__)){if("function"!=typeof a[0])throw t.TypeError.$factory("Argument of "+r+"is not a class (type '"+e.class_name(a[0])+"')");if(1!=a.length)throw t.TypeError.$factory("A Brython class can inherit at most 1 Javascript constructor");s=a[0].__class__=e.JSMeta,e.set_func_names(a[0],n)}for(var o=1;o<a.length;o++){var i=a[o].__class__;if(i===s||t.issubclass(s,i));else if(t.issubclass(i,s))s=i;else if(s.__bases__&&-1==s.__bases__.indexOf(i))throw t.TypeError.$factory("metaclass conflict: the metaclass of a derived class must be a (non-strict) subclass of the metaclasses of all its bases")}}else s=t.type;return s}e.$class_constructor=function(n,a,s,o,i){var _;s=s||[];var l=a.__module__;void 0===l&&(l=a.__module__=e.last(e.frames_stack)[2]);for(var c=0;c<s.length;c++){if(void 0===s[c])throw e.line_info=a.$def_line,e.name_error(o[c]);if(s[c]===t.bool)throw t.TypeError.$factory("type 'bool' is not an acceptable base type")}var u={},f={};if(i)for(c=0;c<i.length;c++){var p=i[c][0],d=i[c][1];"metaclass"==p?_=d:u[p]=d,f[p]=d}var h=a;void 0!==a.__eq__&&void 0===a.__hash__&&(a.__hash__=t.None);var $=s.slice(),m=!1;for(c=0;c<s.length;c++)if(void 0===s[c]||void 0===s[c].__mro__){var b=e.$getattr(s[c],"__mro_entries__",t.None);if(b!==t.None){var g=t.list.$factory(b(s));s.splice(c,1,...g),m=!0,c--;continue}}void 0===_&&(_=r(n,l,s));var y=e.$getattr(_,"__prepare__",t.None),v=e.$call(y)(n,s);if(v.__class__!==t.dict)var x=e.$getattr(v,"__setitem__");else x=function(e,t){v.$string_dict[e]=[t,v.$order++]};for(var w in x("__qualname__",n),a)if("__annotations__"==w)for(var p in void 0===v.$string_dict[w]&&(v.$string_dict[w]=[e.empty_dict(),v.$order++]),a[w].$string_dict)e.$setitem(v.$string_dict[w][0],p,a[w].$string_dict[p][0]);else"$"!=w.charAt(0)&&x(w,a[w]);m&&x("__orig_bases__",t.tuple.$factory($));var B={__bases__:s,__class__:_,__dict__:v};if(v.__class__===t.dict)for(var p in v.$string_dict)B[p]=v.$string_dict[p][0];else for(var k=e.$getattr(v,"__getitem__"),E=t.iter(v);;)try{B[p=t.next(E)]=k(p)}catch(e){break}B.__mro__=t.type.mro(B).slice(1);var N=!0,j={},S={},C=[B].concat(B.__mro__);for(c=0;c<C.length;c++){var I=0==c?h:C[c];for(var w in I)if(!j[w]){var T=I[w];"function"==typeof T&&(!0===T.__isabstractmethod__||T.$attrs&&T.$attrs.__isabstractmethod__)?(N=!1,S[w]=!0):j[w]=!0}}var A=a.__slots__;void 0!==A&&(A="string"==typeof A?[A]:t.list.$factory(A),v.__slots__=A);for(c=0;c<C.length-1;c++)for(var w in C[c]){if("__setattr__"==w){v.$has_setattr=!0;break}if(C[c][w]&&(C[c][w].__get__||C[c][w].__class__&&C[c][w].__class__.__get__)){v.$has_setattr=!0;break}}var O=t.type.__getattribute__(_,"__new__")(_,n,s,v,{$nat:"kw",kw:u});for(var w in O.__module__=l,O.$infos={__module__:l,__name__:n,__qualname__:a.$qualname},O.$subclasses=[],void 0!==O.__bases__&&0!=O.__bases__.length||(O.__bases__=e.fast_tuple([t.object])),a)"$"!=w.charAt(0)&&"function"==typeof a[w]&&(a[w].$infos.$class=O);O.__class__===_&&t.type.__getattribute__(_,"__init__")(O,n,s,v);for(c=0;c<s.length;c++)s[c].$subclasses=s[c].$subclasses||[],s[c].$subclasses.push(O);if(!N){O.$factory=function(){throw t.TypeError.$factory("Can't instantiate abstract class interface with abstract methods "+Object.keys(S).join(", "))}}return O};var n=e.make_class("type",function(a,s,o){var i={},_=e.args("type",3,{obj:null,bases:null,cl_dict:null},["obj","bases","cl_dict"],arguments,{bases:i,cl_dict:i},null,null);a=_.obj,s=_.bases;if((o=_.cl_dict)===i){if(s!==i)throw t.TypeError.$factory("type() takes 1 or 3 arguments");return a.__class__||e.get_class(a)}var l=r(a,e.last(e.frames_stack)[2],s);return n.__new__(l,a,s,o)});n.__call__=function(){for(var r=[],n=arguments[0],a=1,s=arguments.length;a<s;a++)r.push(arguments[a]);var o=t.type.__getattribute__(n,"__new__").apply(null,arguments);if((o.__class__||e.get_class(o))===n){var i=t.type.__getattribute__(n,"__init__");if(i!==t.object.__init__){var _=[o].concat(r);i.apply(null,_)}}return o},n.__class__=n,n.__format__=function(e,r){return t.str.$factory(e)},n.__getattribute__=function(r,n){switch(n){case"__bases__":return e.fast_tuple(r.__bases__||[t.object]);case"__class__":return r.__class__;case"__doc__":return r.__doc__||t.None;case"__setattr__":if(void 0!==r.__setattr__)var a=r.__setattr__;else a=function(e,t,r){e[t]=r};return s.$factory(n,r,a);case"__delattr__":return void 0!==r.__delattr__?r.__delattr__:s.$factory(n,r,function(e){delete r[e]})}if(void 0===(p=r[n])&&r.__slots__&&r.__slots__.indexOf(n)>-1)return o.$factory(n,r);if(r.__class__&&r.__class__[n]&&r.__class__[n].__get__&&r.__class__[n].__set__)return r.__class__[n].__get__(r);if(void 0===p){if(void 0===(c=r[n])){var _=r.__mro__;void 0===_&&console.log("pas de mro pour",r);for(var l=0;l<_.length;l++){var c;if(void 0!==(c=_[l][n])){p=c;break}}}else p=c;if(void 0===p){var u=r.__class__||e.get_class(r);if(void 0===(p=u[n])){var f=u.__mro__;for(l=0;l<f.length;l++){var p;if(void 0!==(p=f[l][n]))break}}if(void 0!==p){if(p.__class__===t.property)return p.fget(r);if("function"==typeof p){var d=p.bind(null,r);return d.__class__=e.method,d.$infos={__self__:r,__func__:p,__name__:n,__qualname__:r.$infos.__name__+"."+n,__module__:p.$infos?p.$infos.__module__:""},d}}if(void 0===p){var h=u.__getattr__;if(void 0===h)for(l=0;l<f.length;l++)if(void 0!==f[l].__getattr__){h=f[l].__getattr__;break}if(void 0!==h)return h(r,n)}}}if(void 0!==p){if(p.__class__===t.property)return p;if(p.__get__){if(p.__class__===i){if(p.$infos.__self__)return p;var $=p.__get__(p.__func__,r);$.$infos={__func__:p,__name__:p.$infos.__name__,__qualname__:r.$infos.__name__+"."+p.$infos.__name__,__self__:r}}else $=p.__get__(r);return $}return!p.__class__||!p.__class__.__get__||n.startsWith("__")&&n.endsWith("__")?"function"==typeof p?(void 0===p.$infos&&e.debug>1&&console.log("warning: no attribute $infos for",p,"klass",r,"attr",n),"__new__"!=n&&p.__class__!==e.builtin_function||(p.$type="staticmethod"),"__class_getitem__"==n&&p.__class__!==e.method&&(p=t.classmethod.$factory(p)),"__init_subclass__"==n&&(p=t.classmethod.$factory(p)),p.__class__===e.method?p.__get__(null,r):p):p:p.__class__.__get__(p,t.None,r)}},n.__hash__=function(e){return t.hash(e)},n.__init__=function(){if(0==arguments.length)throw t.TypeError.$factory("descriptor '__init__' of 'type' object needs an argument")},n.__init_subclass__=function(){var r=e.args("__init_subclass__",1,{},[],arguments,{},"args","kwargs");if(void 0!==r.kwargs&&(r.kwargs.__class__!==t.dict||Object.keys(r.kwargs.$string_dict).length>0))throw t.TypeError.$factory("__init_subclass__() takes no keyword arguments");return t.None},n.__instancecheck__=function(t,r){var n=r.__class__||e.get_class(r);if(n===t)return!0;for(var a=0;a<n.__mro__.length;a++)if(n.__mro__[a]===t)return!0;return!1},n.__instancecheck__.$type="staticmethod",n.__name__={__get__:function(e){return e.$infos.__name__},__set__:function(e,t){e.$infos.__name__=t},__str__:function(e){return"type"},__eq__:function(e,t){return e.$infos.__name__==t}},n.__new__=function(r,a,s,o,i){i=void 0===i?{$nat:"kw",kw:{}}:i;var _=o.$string_dict.__module__,l={__class__:r,__bases__:s,__dict__:o,$infos:{__name__:a,__module__:_=_?_[0]:e.last(e.frames_stack)[2],__qualname__:a},$is_class:!0,$has_setattr:o.$has_setattr};l.__mro__=n.mro(l).slice(1);for(var c=e.dict_to_list(o),u=0;u<c.length;u++){var f=c[u][0],p=c[u][1];if("__module__"!==f&&("__class__"!==f&&void 0!==p)){if(l[f]=p,p.__class__){var d=e.$getattr(p.__class__,"__set_name__",t.None);d!==t.None&&d(p,l,f)}if("function"==typeof p)if(void 0===p.$infos)console.log("type new",p,p+""),console.log(e.frames_stack.slice());else if(p.$infos.$class=l,p.$infos.__qualname__=a+"."+p.$infos.__name__,p.$infos.$defaults){var h=p.$infos.$defaults;e.Function.__setattr__(p,"__defaults__",h)}}}var $=t.super.$factory(l,l);return t.super.__getattribute__($,"__init_subclass__")(i),l},n.__or__=function(){var r=e.args("__or__",2,{cls:null,other:null},["cls","other"],arguments,{},null,null),a=r.cls,s=r.other;return s===t.None||t.isinstance(s,n)?e.UnionType.$factory([a,s]):t.NotImplemented},n.__prepare__=function(){return e.empty_dict()},n.__qualname__={__get__:function(e){return e.$infos.__qualname__||e.$infos.__name__},__set__:function(e,t){e.$infos.__qualname__=t},__str__:function(e){console.log("type.__qualname__")},__eq__:function(e,t){return e.$infos.__qualname__==t}},n.__repr__=function(t){e.builtins_repr_check(n,arguments),void 0===t.$infos&&console.log("no $infos",t);var r=t.$infos.__qualname__;return t.$infos.__module__&&"builtins"!=t.$infos.__module__&&!t.$infos.__module__.startsWith("$")&&(r=t.$infos.__module__+"."+r),"<class '"+r+"'>"},n.__ror__=function(){var e=arguments.length;if(1!=e)throw t.TypeError.$factory(`expected 1 argument, got ${e}`);return t.NotImplemented},n.mro=function(e){if(void 0===e)throw t.TypeError.$factory("unbound method type.mro() needs an argument");for(var r=e.__bases__,n=[],a=0,s=0;s<r.length;s++){var o=[],i=0;if(void 0===r[s]||void 0===r[s].__mro__){if(void 0===r[s].__class__)return[t.object];throw t.TypeError.$factory("Object passed as base class is not a class")}o[i++]=r[s];var _=r[s].__mro__;_[0]===r[s]&&_.splice(0,1);for(var l=0;l<_.length;l++)o[i++]=_[l];n[a++]=o}n[a++]=r.slice();for(var c=[e],u=1;;){var f=[];for(i=0,s=0;s<n.length;s++)n[s].length>0&&(f[i++]=n[s]);if(0==f.length)break;for(s=0;s<f.length;s++){for(var p=f[s][0],d=[],h=(i=0,0);h<f.length;h++){var $=f[h];$.slice(1).indexOf(p)>-1&&(d[i++]=$)}if(!(d.length>0))break;p=null}if(null===p)throw t.TypeError.$factory("inconsistent hierarchy, no C3 MRO is possible");c[u++]=p;for(s=0;s<n.length;s++){n[s][0]===p&&n[s].shift()}}return c[c.length-1]!==t.object&&(c[u++]=t.object),c},n.__subclasscheck__=function(r,n){var a=r;return a===t.str?a=e.StringSubclass:a===t.float&&(a=e.FloatSubclass),void 0===n.__bases__?r===t.object:n.__bases__.indexOf(a)>-1},e.set_func_names(n,"builtins"),t.type=n;var a=e.make_class("wrapper_descriptor");e.set_func_names(a,"builtins"),n.__call__.__class__=a;e.$instance_creator=function(r){if(r.prototype&&r.prototype.constructor==r)return function(){return new r(...arguments)};if(void 0!==r.$instanciable)return function(){throw t.TypeError.$factory("Can't instantiate abstract class interface with abstract methods")};var n,a=r.__class__||e.get_class(r);if(a!==t.type||r.__bases__&&0!=r.__bases__.length){n=t.type.__getattribute__(a,"__call__");var s=function(){return n.$is_class?e.$call(n)(...arguments):n.bind(null,r).apply(null,arguments)}}else s=r.hasOwnProperty("__new__")?r.hasOwnProperty("__init__")?function(){var e=r.__new__.bind(null,r).apply(null,arguments);return r.__init__.bind(null,e).apply(null,arguments),e}:function(){return r.__new__.bind(null,r).apply(null,arguments)}:r.hasOwnProperty("__init__")?function(){var t={__class__:r,__dict__:e.empty_dict()};return r.__init__.bind(null,t).apply(null,arguments),t}:function(){if(arguments.length>0&&(1!=arguments.length||!arguments[0].$nat||0!=Object.keys(arguments[0].kw).length))throw t.TypeError.$factory("object() takes no parameters");var n=Object.create(null);return e.update_obj(n,{__class__:r,__dict__:e.empty_dict()}),n};return s.__class__=e.Function,void 0===r.$infos&&(console.log("no klaas $infos",r),console.log(e.frames_stack.slice())),s.$infos={__name__:r.$infos.__name__,__module__:r.$infos.__module__},s};var s=e.method_wrapper=e.make_class("method_wrapper",function(e,t,r){var n=function(){return r.apply(null,arguments)};return n.$infos={__name__:e,__module__:t.__module__},n});s.__str__=s.__repr__=function(e){return"<method '"+e.$infos.__name__+"' of function object>"};var o=e.make_class("member_descriptor",function(e,t){return{__class__:o,cls:t,attr:e}});o.__str__=o.__repr__=function(e){return"<member '"+e.attr+"' of '"+e.cls.$infos.__name__+"' objects>"},e.set_func_names(o,"builtins");var i=e.method=e.make_class("method",function(t,r){var n=function(){return e.$call(t).bind(null,r).apply(null,arguments)};return n.__class__=i,n.$infos=t.$infos,n});i.__eq__=function(e,t){return void 0!==e.$infos&&void 0!==t.$infos&&e.$infos.__func__===t.$infos.__func__&&e.$infos.__self__===t.$infos.__self__},i.__ne__=function(t,r){return!e.method.__eq__(t,r)},i.__get__=function(t){var r=function(){return t(arguments)};return r.__class__=e.method_wrapper,r.$infos=i.$infos,r},i.__getattribute__=function(r,n){var a=r.$infos;if(a&&a[n]){if("__code__"==n){var s={__class__:e.Code};for(var n in a.__code__)s[n]=a.__code__[n];return s}return a[n]}return i.hasOwnProperty(n)?t.object.__getattribute__(r,n):e.Function.__getattribute__(r.$infos.__func__,n)},i.__repr__=i.__str__=function(e){return"<bound method "+e.$infos.__qualname__+" of "+t.str.$factory(e.$infos.__self__)+">"},i.__setattr__=function(r,n,a){if("__class__"==n)throw t.TypeError.$factory("__class__ assignment only supported for heap types or ModuleType subclasses");throw e.attr_error(attr,r)},e.set_func_names(i,"builtins"),e.method_descriptor=e.make_class("method_descriptor"),e.classmethod_descriptor=e.make_class("classmethod_descriptor"),e.GenericAlias=e.make_class("GenericAlias",function(t,r){return{__class__:e.GenericAlias,origin_class:t,items:r}}),e.GenericAlias.__args__={__get__:function(t){return e.fast_tuple(t.items)}},e.GenericAlias.__call__=function(e,...t){return e.origin_class.$factory.apply(null,t)},e.GenericAlias.__eq__=function(r,n){return!!t.isinstance(n,e.GenericAlias)&&(e.rich_comp("__eq__",r.origin_class,n.origin_class)&&e.rich_comp("__eq__",r.items,n.items))},e.GenericAlias.__getitem__=function(r,n){throw t.TypeError.$factory("descriptor '__getitem__' for '"+r.origin_class.$infos.__name__+"' objects doesn't apply to a '"+e.class_name(n)+"' object")},e.GenericAlias.__or__=function(t,r){e.args("__or__",2,{self:null,other:null},["self","other"],arguments,{},null,null);return e.UnionType.$factory([t,r])},e.GenericAlias.__origin__={__get__:function(e){return e.origin_class}},e.GenericAlias.__parameters__={__get__:function(t){return e.fast_tuple([])}},e.GenericAlias.__repr__=function(e){for(var r=[],n=0,a=e.items.length;n<a;n++)e.items[n]===t.Ellipsis?r.push("..."):e.items[n].$is_class?r.push(e.items[n].$infos.__name__):r.push(t.repr(e.items[n]));return e.origin_class.$infos.__qualname__+"["+r.join(", ")+"]"},e.set_func_names(e.GenericAlias,"types"),e.UnionType=e.make_class("UnionType",function(t){return{__class__:e.UnionType,items:t}}),e.UnionType.__args__={__get__:function(t){return e.fast_tuple(t.items)}},e.UnionType.__parameters__={__get__:function(){return e.fast_tuple([])}},e.UnionType.__repr__=function(e){var r=[];for(var n of e.items)n.$is_class?r.push(n.$infos.__name__):r.push(t.repr(n));return r.join(" | ")},e.set_func_names(e.UnionType,"types"),t.object.__class__=n}(__BRYTHON__),function(e){var t=e.builtins;self,"undefined"!=typeof WorkerGlobalScope&&"function"==typeof importScripts&&(navigator,WorkerNavigator);e.args=function(r,n,a,s,o,i,_,l){r.startsWith("lambda_"+e.lambda_magic)&&(r="<lambda>");var c,u,f=!1,p=o.length,d=0,h=s.indexOf("/");if(-1!=h&&(s.splice(h,1),u=s.slice(0,h)),p>0&&o[p-1]&&o[p-1].$nat&&(p--,Object.keys(o[p].kw).length>0)){f=!0;var $=o[p].kw;if(Array.isArray($)){for(var m=$[0],b=1,g=$.length;b<g;b++){var y=$[b];if(y.__class__===t.dict){for(var v in y.$numeric_dict)throw t.TypeError.$factory(r+"() keywords must be strings");for(var v in y.$object_dict)throw t.TypeError.$factory(r+"() keywords must be strings");for(var v in y.$string_dict){if(void 0!==m[v])throw t.TypeError.$factory(r+"() got multiple values for argument '"+v+"'");m[v]=y.$string_dict[v][0]}}else for(var x=t.iter(y),w=e.$getattr(y,"__getitem__");;)try{if("string"!=typeof(v=t.next(x)))throw t.TypeError.$factory(r+"() keywords must be strings");if(void 0!==m[v])throw t.TypeError.$factory(r+"() got multiple values for argument '"+v+"'");m[v]=w(v)}catch(F){if(e.is_exc(F,[t.StopIteration]))break;throw F}}$=m;var B=Object.keys($).length;if(0==B)f=!1;else if(!l)for(var v in m)if(void 0===a[v])throw t.TypeError.$factory(`${r}() got an unexpected keyword argument '${v}'`)}}if(_&&(a[_]=[],a[_].__class__=t.tuple),l&&(c=e.empty_dict()),p>n){if(null===_||"*"==_){var k=n;for(b=0;b<n;b++)void 0!==i[s[b]]&&k--;var E="";if(f)E=`(and ${B} keyword-only argument`+(1!=B?"s":"")+")";throw L=r+"() takes "+(k==n?n:`from ${k} to ${n}`)+" positional argument"+(k!=n||1!=n?"s":"")+` but ${p}`+(f?" positional arguments"+E:"")+(1==p?" was":" were")+" given",t.TypeError.$factory(L)}for(b=n;b<p;b++)a[_].push(o[b]);p=n}for(b=0;b<p;b++)a[s[b]]=o[b],d++;if(d==n&&n===s.length&&!f)return l&&(a[l]=c),a;if(f)for(var N in $){var j=$[N];if(void 0===a[N]){if(!l)throw t.TypeError.$factory(r+"() got an unexpected keyword argument '"+N+"'");c.$string_dict[N]=[j,c.$order++]}else{if(a.hasOwnProperty(N)&&null!==a[N]){if(N==_)throw t.TypeError.$factory(`${r}() got an unexpected keyword argument '${N}'`);throw t.TypeError.$factory(r+"() got multiple values for argument '"+N+"'")}if(u&&u.indexOf(N)>-1)throw t.TypeError.$factory(`${r}() got some positional-only arguments passed as keyword arguments: '${N}'`);a[N]=j}}var S=[];for(var C in a)null===a[C]&&(void 0!==i[C]?a[C]=i[C]:S.push(C));if(S.length>0){if(1==S.length){var I="positional";throw s.indexOf(S[0])>=n&&(I="required keyword-only"),t.TypeError.$factory(r+` missing 1 ${I} argument: '${S[0]}'`)}{var T=S.filter(e=>s.indexOf(e)<n),A=S.filter(e=>s.indexOf(e)>=n);function O(e,t){var r=e.length+` required ${t} argument`+(e.length>1?"s":"");if((e=e.map(e=>`'${e}'`)).length>1){e[e.length-1]=" and "+e[e.length-1];for(var n=0;n<e.length-2;n++)e[n]=e[n]+", "}return r+": "+e.join("")}var L=r+" missing ";throw T.length>0?L+=O(T,"positional"):L+=O(A,"keyword-only"),t.TypeError.$factory(L)}}return l&&(a[l]=c),a},e.wrong_nb_args=function(e,r,n,a){if(r<n){var s=n-r;throw t.TypeError.$factory(e+"() missing "+s+" positional argument"+(s>1?"s":"")+": "+a.slice(r))}throw t.TypeError.$factory(e+"() takes "+n+" positional argument"+(n>1?"s":"")+" but more were given")},e.get_class=function(r){if(null===r)return e.imported.javascript.NullType;if(void 0===r)return e.imported.javascript.UndefinedType;var n=r.__class__;if(void 0===n)switch(typeof r){case"number":return Number.isInteger(r)?t.int:t.float;case"string":return t.str;case"boolean":return t.bool;case"function":return r.$is_js_func?e.JSObj:(r.__class__=e.Function,e.Function);case"object":if(Array.isArray(r)){if(Object.getPrototypeOf(r)===Array.prototype)return r.__class__=t.list,t.list}else if("undefined"!=typeof Node&&r instanceof Node)return r.tagName&&e.imported["browser.html"][r.tagName]||e.DOMNode}return void 0===n?e.JSObj:n},e.class_name=function(t){var r=e.get_class(t);return r===e.JSObj?"Javascript "+t.constructor.name:r.$infos.__name__},e.next_of=function(r){if(r.__class__===t.range){var n={ix:r.start};return r.step>0?function(){if(n.ix>=r.stop)throw t.StopIteration.$factory("");var e=n.ix;return n.ix+=r.step,e}:function(){if(n.ix<=r.stop)throw t.StopIteration.$factory("");var e=n.ix;return n.ix+=r.step,e}}return e.$call(e.$getattr(t.iter(r),"__next__"))},e.unpacker=function(e,r,n,a){var s=t.list.$factory(e),o=s.length;if(o<(n?o-1:o))throw t.ValueError.$factory(`not enough values to unpack (expected ${min_length}, got ${o})`);if(!n&&o>r)throw t.ValueError.$factory(`too many values to unpack (expected ${r})`);return s.index=-1,s.read_one=function(){return s.index++,s[s.index]},s.read_rest=function(){s.index++;var e=s.slice(s.index,s.length-a);return s.index=s.length-a-1,e},s},e.rest_iter=function(r){for(var n=[];;)try{n.push(r())}catch(r){if(e.is_exc(r,[t.StopIteration]))return e.fast_tuple(n);throw r}},e.set_lineno=function(r,n){return r.$lineno=n,r[1].$f_trace!==t.None&&e.trace_line(),!0},e.handle_annotation=function(r){return e.imported.__future__&&e.frames_stack.length>0&&e.last(e.frames_stack)[3].annotations===e.imported.__future__.annotations?r:(console.log("eval annotation",r),t.eval(r))},e.copy_namespace=function(){var t={};for(const n of e.frames_stack)for(const e of[n[1],n[3]])for(var r in e)r.startsWith("$")||(t[r]=e[r]);return t},e.clear_ns=function(t){t.startsWith("__ge")&&console.log("clear ns",t);t.length;e.$py_src[t]=null,delete e.$py_src[t];var r=t.replace(/\./g,"_");r!=t&&e.clear_ns(r)},e.get_method_class=function(t,r){for(var n=r.split("."),a=t;n.length>0;){var s=n.shift();if(void 0===a[s])return e.make_class(r);a=a[s]}return a},e.$JS2Py=function(e){return"number"==typeof e?e%1==0?e:t.float.$factory(e):null==e?t.None:(Array.isArray(e)&&Object.getPrototypeOf(e)===Array.prototype&&(e.$brython_class="js"),e)},e.warn=function(t,r){e.imported._warnings.warn(t.$factory(r))},e.$getitem=function(r,n,a){var s=Array.isArray(r)&&r.__class__===t.list,o=r.__class__===t.dict&&!r.$jsobj;if("number"==typeof n){if(s||"string"==typeof r){if(void 0!==r[n=n>=0?n:r.length+n])return r[n];!function(e){var r="string"==typeof e?"string":"list";throw t.IndexError.$factory(r+" index out of range")}(r)}else if(o&&void 0!==r.$numeric_dict[n])return r.$numeric_dict[n][0]}else if(n.valueOf&&"string"==typeof n.valueOf()&&o){var i=r.$string_dict[n];if(void 0!==i)return i[0];throw t.KeyError.$factory(n)}if(r.$is_class){var _=e.$getattr(r,"__class_getitem__",t.None);if(_!==t.None)return _(n);if(r.__class__){if((_=e.$getattr(r.__class__,"__getitem__",t.None))!==t.None)return _(r,n);throw t.TypeError.$factory("'"+e.class_name(r.__class__)+"' object is not subscriptable")}}if(s)return t.list.$getitem(r,n);if(o)return t.dict.$getitem(r,n);var l=e.$getattr(r.__class__||e.get_class(r),"__getitem__",t.None);if(l!==t.None)return l(r,n);var c=t.TypeError.$factory("'"+e.class_name(r)+"' object is not subscriptable");throw a&&e.set_exception_offsets(c,a),c},e.getitem_slice=function(r,n){var a;return Array.isArray(r)&&r.__class__===t.list?(n.start===t.None&&n.stop===t.None?n.step===t.None||1==n.step?a=r.slice():-1==n.step&&(a=r.slice().reverse()):n.step===t.None&&(n.start===t.None&&(n.start=0),n.stop===t.None&&(n.stop=r.length),"number"==typeof n.start&&"number"==typeof n.stop&&(n.start<0&&(n.start+=r.length),n.stop<0&&(n.stop+=r.length),a=r.slice(n.start,n.stop))),a?(a.__class__=r.__class__,a.__brython__=!0,a):t.list.$getitem(r,n)):"string"==typeof r?(n.start===t.None&&n.stop===t.None?n.step===t.None||1==n.step?a=r:-1==n.step&&(a=r.split("").reverse().join("")):n.step===t.None&&(n.start===t.None&&(n.start=0),n.stop===t.None&&(n.stop=r.length),"number"==typeof n.start&&"number"==typeof n.stop&&(n.start<0&&(n.start+=r.length),n.stop<0&&(n.stop+=r.length),a=r.substring(n.start,n.stop))),void 0!==a?a:t.str.__getitem__(r,n)):e.$getattr(r,"__getitem__")(n)},e.$getattr_pep657=function(t,r,n){try{return e.$getattr(t,r)}catch(t){throw e.set_exception_offsets(t,n),t}},e.set_list_slice=function(r,n,a,s){null===n?n=0:(n=e.$GetInt(n))<0&&(n=Math.max(0,n+r.length)),null===a&&(a=r.length),(a=e.$GetInt(a))<0&&(a=Math.max(0,a+r.length));var o=t.list.$factory(s);r.splice.apply(r,[n,a-n].concat(o))},e.set_list_slice_step=function(r,n,a,s,o){if(null===s||1==s)return e.set_list_slice(r,n,a,o);if(0==s)throw t.ValueError.$factory("slice step cannot be zero");s=e.$GetInt(s),n=null===n?s>0?0:r.length-1:e.$GetInt(n),a=null===a?s>0?r.length:-1:e.$GetInt(a);var i,_=t.list.$factory(o),l=0,c=0;i=s>0?function(e){return e<a}:function(e){return e>a};for(var u=n;i(u);u+=s)c++;if(c!=_.length)throw t.ValueError.$factory("attempt to assign sequence of size "+_.length+" to extended slice of size "+c);for(u=n;i(u);u+=s)r[u]=_[l],l++},e.$setitem=function(r,n,a){if(!Array.isArray(r)||void 0!==r.__class__||"number"!=typeof n||t.isinstance(r,t.tuple)){if(r.__class__!==t.dict){if(r.__class__===t.list)return t.list.$setitem(r,n,a);var s=e.$getattr(r.__class__||e.get_class(r),"__setitem__",null);if(null===s)throw t.TypeError.$factory("'"+e.class_name(r)+"' object does not support item assignment");return s(r,n,a)}t.dict.$setitem(r,n,a)}else{if(n<0&&(n+=r.length),void 0===r[n])throw t.IndexError.$factory("list assignment index out of range");r[n]=a}},e.$delitem=function(r,n){if(!Array.isArray(r)||r.__class__!==t.list||"number"!=typeof n||t.isinstance(r,t.tuple)){if(r.__class__!==t.dict){if(r.__class__===t.list)return t.list.__delitem__(r,n);var a=e.$getattr(r.__class__||e.get_class(r),"__delitem__",null);if(null===a)throw t.TypeError.$factory("'"+e.class_name(r)+"' object doesn't support item deletion");return a(r,n)}t.dict.__delitem__(r,n)}else{if(n<0&&(n+=r.length),void 0===r[n])throw t.IndexError.$factory("list deletion index out of range");r.splice(n,1)}},e.augm_assign=function(t,r,n){var a=r.substr(0,r.length-1),s=e.op2method.augmented_assigns[r],o=e.$getattr(t,"__"+s+"__",null);if(null!==o)return e.$call(o)(n);var i=e.op2method.operations[a];return void 0===i&&(i=e.op2method.binary[a]),e.rich_op(`__${i}__`,t,n)},e.extend=function(r,n){for(var a=2;a<arguments.length;a++)for(var s=arguments[a],o=t.iter(s),i=e.$getattr(s,"__getitem__");;)try{var _=t.next(o);if("string"!=typeof _)throw t.TypeError.$factory(r+"() keywords must be strings");if(void 0!==n[_])throw t.TypeError.$factory(r+"() got multiple values for argument '"+_+"'");n[_]=i(_)}catch(e){if(t.isinstance(e,[t.StopIteration]))break;throw e}return n},e.$is=function(r,n){return r.__class__===t.float&&n.__class__===t.float?!(!isNaN(r.value)||!isNaN(n.value))||r.value==n.value:r===t.int&&n==e.long_int||r===e.long_int&&n===t.int||(!(void 0!==r&&r!==e.Undefined||void 0!==n&&n!==e.Undefined)||r===n)},e.is_or_equals=function(t,r){return e.$is(t,r)||e.rich_comp("__eq__",t,r)},e.$is_member=function(r,n){var a,s,o;try{o=e.$getattr(n.__class__||e.get_class(n),"__contains__")}catch(e){}if(o)return e.$call(o)(n,r);try{s=t.iter(n)}catch(e){}if(s)for(;;)try{var i=t.next(s);if(e.rich_comp("__eq__",i,r))return!0}catch(e){return!1}try{a=e.$getattr(n,"__getitem__")}catch(r){throw t.TypeError.$factory("'"+e.class_name(n)+"' object is not iterable")}if(a)for(var _=-1;;){_++;try{i=a(_);if(e.rich_comp("__eq__",i,r))return!0}catch(e){if(e.__class__===t.IndexError)return!1;throw e}}},e.$call=function(r,n){if(r.__class__===e.method)return r;if(r.$factory)return r.$factory;if(r.$is_class)return r.$factory=e.$instance_creator(r);if(r.$is_js_class)return r.$factory=function(){return new r(...arguments)};if(r.$in_js_module)return function(){var e=r(...arguments);return void 0===e?t.None:e};if(r.$is_func||"function"==typeof r)return n?function(){try{return r.apply(null,arguments)}catch(t){throw e.set_exception_offsets(t,n),t}}:r;try{return e.$getattr(r,"__call__")}catch(n){throw t.TypeError.$factory("'"+e.class_name(r)+"' object is not callable")}};var r=e.$io=e.make_class("io",function(e){return{__class__:r,out:e,encoding:"utf-8"}});r.flush=function(e){e.buf&&(console[e.out](e.buf.join("")),e.buf=[])},r.write=function(r,n){if(void 0===r.buf&&(r.buf=[]),"string"!=typeof n)throw t.TypeError.$factory("write() argument must be str, not "+e.class_name(n));return r.buf.push(n),t.None},void 0!==console.error?e.stderr=r.$factory("error"):e.stderr=r.$factory("log"),e.stdout=r.$factory("log"),e.stdin={__class__:r,__original__:!0,closed:!1,len:1,pos:0,read:function(){return""},readline:function(){return""}},e.make_iterator_class=function(r){var n={__class__:t.type,__mro__:[t.object],$factory:function(t){return{__class__:n,__dict__:e.empty_dict(),counter:-1,items:t,len:t.length}},$infos:{__name__:r},$is_class:!0,__iter__:function(e){return e.counter=void 0===e.counter?-1:e.counter,e.len=e.items.length,e},__len__:function(e){return e.items.length},__next__:function(r){if("function"==typeof r.test_change&&r.test_change())throw t.RuntimeError.$factory("dictionary changed size during iteration");if(r.counter++,r.counter<r.items.length){var n=r.items[r.counter];return"js"==r.items.$brython_class&&(n=e.$JS2Py(n)),n}throw t.StopIteration.$factory("StopIteration")},__reduce_ex__:function(r,n){return e.fast_tuple([t.iter,t.tuple.$factory([r.items])])}};return e.set_func_names(n,"builtins"),n};var n=["add","sub","mul","truediv","floordiv","mod","pow","lshift","rshift","and","xor","or"];e.make_rmethods=function(e){for(var t of n)void 0===e["__r"+t+"__"]&&e["__"+t+"__"]&&(e["__r"+t+"__"]=function(t){return function(r,n){return e["__"+t+"__"](n,r)}}(t))},e.UUID=function(){return e.$py_UUID++},e.$GetInt=function(r){if("number"==typeof r||r.constructor===Number)return r;if("boolean"==typeof r)return r?1:0;if(t.isinstance(r,t.int))return r;if(t.isinstance(r,t.float))return r.valueOf();if(!r.$is_class){try{return e.$getattr(r,"__int__")()}catch(e){}try{return e.$getattr(r,"__index__")()}catch(e){}}throw t.TypeError.$factory("'"+e.class_name(r)+"' object cannot be interpreted as an integer")},e.to_num=function(r,n){for(var a={__complex__:t.complex,__float__:t.float,__index__:t.int,__int__:t.int},s=r.__class__||e.get_class(r),o=0;o<n.length;o++){var i={},_=e.$getattr(s,n[o],i);if(_!==i){var l=_(r);if(!t.isinstance(l,a[n[o]]))throw console.log(l,n[o],a[n[o]]),t.TypeError.$factory(n[o]+"returned non-"+a[n[o]].$infos.__name__+"(type "+e.get_class(l)+")");return l}}return null},e.PyNumber_Index=function(r){switch(typeof r){case"boolean":return r?1:0;case"number":return r;case"object":if(r.__class__===e.long_int)return r;if(t.isinstance(r,t.int))return r.$brython_value;var n=e.$getattr(r,"__index__",t.None);if(n!==t.None)return n="function"==typeof n?n:e.$getattr(n,"__call__"),e.int_or_bool(n());throw t.TypeError.$factory("'"+e.class_name(r)+"' object cannot be interpreted as an integer");default:throw t.TypeError.$factory("'"+e.class_name(r)+"' object cannot be interpreted as an integer")}},e.int_or_bool=function(r){switch(typeof r){case"boolean":return r?1:0;case"number":return r;case"object":if(r.__class__===e.long_int)return r;throw t.TypeError.$factory("'"+e.class_name(r)+"' object cannot be interpreted as an integer");default:throw t.TypeError.$factory("'"+e.class_name(r)+"' object cannot be interpreted as an integer")}},e.enter_frame=function(r){if(e.frames_stack.length>1e3){var n=t.RecursionError.$factory("maximum recursion depth exceeded");throw e.set_exc(n),n}if(r.__class__=e.frame,e.frames_stack.push(r),e.tracefunc&&e.tracefunc!==t.None){if(r[4]===e.tracefunc||e.tracefunc.$infos&&r[4]&&r[4]===e.tracefunc.$infos.__func__)return e.tracefunc.$frame_id=r[0],t.None;for(var a=e.frames_stack.length-1;a>=0;a--)if(e.frames_stack[a][0]==e.tracefunc.$frame_id)return t.None;try{return e.tracefunc(e.last(e.frames_stack),"call",t.None)}catch(e){throw e.$in_trace_func=!0,e}}else e.tracefunc=t.None;return t.None},e.trace_exception=function(){var r=e.last(e.frames_stack);if(r[0]==e.tracefunc.$current_frame_id)return t.None;var n=r[1].$f_trace,a=r[1].$current_exception;return n(e.last(e.frames_stack),"exception",e.fast_tuple([a.__class__,a,e.traceback.$factory(a)]))},e.trace_line=function(){var r=e.last(e.frames_stack);return r[0]==e.tracefunc.$current_frame_id?t.None:(0,r[1].$f_trace)(e.last(e.frames_stack),"line",t.None)},e.trace_return=function(r){var n=e.last(e.frames_stack),a=n[1].$f_trace,s=e.last(e.frames_stack);if(n[0]==e.tracefunc.$current_frame_id)return t.None;a(s,"return",r)},e.leave_frame=function(r){if(0!=e.frames_stack.length){r&&void 0!==r.value&&e.tracefunc&&(void 0===e.last(e.frames_stack)[1].$f_trace&&(e.last(e.frames_stack)[1].$f_trace=e.tracefunc),e.last(e.frames_stack)[1].$f_trace!==t.None&&e.trace_return(r.value));var n=e.frames_stack.pop();for(var a in n[1])if(!a.startsWith("$")&&n[1][a]&&n[1][a].__class__===e.generator){var s=n[1][a];if(void 0===s.$frame)continue;var o=s.$frame[1].$context_managers;if(o)for(var i of o)e.$call(e.$getattr(i,"__exit__"))(t.None,t.None,t.None)}return n[1].$current_exception=void 0,t.None}};Math.pow(-2,53),Math.pow(2,53);e.is_safe_int=function(e){return"number"==typeof e&&Number.isSafeInteger(e)},e.add=function(t,r){return e.rich_op("__add__",t,r)},e.mul=function(t,r){return e.rich_op("__mul__",t,r)},e.sub=function(t,r){return e.rich_op("__sub__",t,r)},e.eq=function(t,r){return Number.isSafeInteger(t)&&Number.isSafeInteger(r)?t==r:e.long_int.__eq__(e.long_int.$factory(t),e.long_int.$factory(r))},e.floordiv=function(t,r){var n=t/r;return Number.isSafeInteger(t)&&Number.isSafeInteger(r)&&Number.isSafeInteger(n)?Math.floor(n):e.long_int.__floordiv__(e.long_int.$factory(t),e.long_int.$factory(r))},e.ge=function(t,r){return"number"==typeof t&&"number"==typeof r?t>=r:"number"==typeof t&&"number"!=typeof r?!r.pos:"number"!=typeof t&&"number"==typeof r?!0===t.pos:e.long_int.__ge__(t,r)},e.gt=function(t,r){return"number"==typeof t&&"number"==typeof r?t>r:"number"==typeof t&&"number"!=typeof r?!r.pos:"number"!=typeof t&&"number"==typeof r?!0===t.pos:e.long_int.__gt__(t,r)};var a={__lt__:"__gt__",__le__:"__ge__",__gt__:"__lt__",__ge__:"__le__"},s={__lt__:"<",__le__:"<=",__gt__:">",__ge__:">="};e.rich_comp=function(r,n,o){if(void 0===n)throw t.RuntimeError.$factory("error in rich comp");var i,_=n.valueOf?n.valueOf():n,l=o.valueOf?o.valueOf():o;if("number"==typeof _&&"number"==typeof l&&void 0===n.__class__&&void 0===o.__class__)switch(r){case"__eq__":return _==l;case"__ne__":return _!=l;case"__le__":return _<=l;case"__lt__":return _<l;case"__ge__":return _>=l;case"__gt__":return _>l}if(n.$is_class||n.$factory){if("__eq__"==r)return n===o;if("__ne__"==r)return!(n===o);throw t.TypeError.$factory("'"+s[r]+"' not supported between instances of '"+e.class_name(n)+"' and '"+e.class_name(o)+"'")}var c=e.$call(e.$getattr(n.__class__||e.get_class(n),r)),u=a[r]||r;if(n.__class__&&o.__class__&&o.__class__.__mro__.indexOf(n.__class__)>-1){e.$getattr(o,u);if((i=e.$call(e.$getattr(o,u))(n))!==t.NotImplemented)return i}if((i=c(n,o))!==t.NotImplemented)return i;if((i=e.$call(e.$getattr(o.__class__||e.get_class(o),u))(o,n))!==t.NotImplemented)return i;if("__eq__"==r)return t.False;if("__ne__"==r)return t.True;throw t.TypeError.$factory("'"+s[r]+"' not supported between instances of '"+e.class_name(n)+"' and '"+e.class_name(o)+"'")};var o={__sub__:"-",__xor__:"^",__mul__:"*"};e.rich_op=function(t,r,n,a){try{return e.rich_op1(t,r,n)}catch(t){throw a&&e.set_exception_offsets(t,a),t}},e.rich_op1=function(r,n,a){var s,i,_,l;if("number"==typeof n?(_=n,"number"==typeof a?(s=!0,l=a):a.__class__===t.float&&(i=!0,l=a.value)):n.__class__===t.float&&(_=n.value,"number"==typeof a?(l=a,i=!0):a.__class__===t.float&&(i=!0,l=a.value)),s||i){var c;switch(r){case"__add__":c=_+l;break;case"__sub__":c=_-l;break;case"__mul__":c=_*l;break;case"__pow__":if(s&&l>=0)return t.int.$int_or_long(BigInt(_)**BigInt(l));break;case"__truediv__":if(0==l)throw t.ZeroDivisionError.$factory("division by zero");return c=_/l,{__class__:t.float,value:c}}if(c){if(s&&Number.isSafeInteger(c))return c;if(i)return{__class__:t.float,value:c}}}else if("string"==typeof n&&"string"==typeof a&&"__add__"==r)return n+a;var u,f=n.__class__||e.get_class(n),p=a.__class__||e.get_class(a),d="__r"+r.substr(2);if(f===p){if(f===t.int)return t.int[r](n,a);if(f===t.bool)return(t.bool[r]||t.int[r])(n,a);try{b=e.$call(e.$getattr(f,r))}catch(a){if(a.__class__===t.AttributeError){var h=e.class_name(n);throw t.TypeError.$factory("unsupported operand type(s) for "+o[r]+": '"+h+"' and '"+h+"'")}throw a}return b(n,a)}if(t.issubclass(p,f)){var $=e.$getattr(f,d,!1),m=e.$getattr(p,d,!1);if(m&&$&&m!==$)return m(a,n)}try{e.$getattr(n,r);b=e.$getattr(f,r)}catch(s){if(s.__class__!==t.AttributeError)throw s;if((u=e.$call(e.$getattr(a,d))(n))!==t.NotImplemented)return u;throw t.TypeError.$factory(`unsupported operand type(s) for ${e.method_to_op[r]}: '${e.class_name(n)}' and '${e.class_name(a)}'`)}if((u=b(n,a))===t.NotImplemented){try{e.$getattr(a,d);var b=e.$getattr(p,d)}catch(s){if(s.__class__!==t.AttributeError)throw s;throw t.TypeError.$factory(`unsupported operand type(s) for ${e.method_to_op[r]}: '${e.class_name(n)}' and '${e.class_name(a)}'`)}if((u=b(a,n))===t.NotImplemented)throw t.TypeError.$factory(`unsupported operand type(s) for ${e.method_to_op[r]}: '${e.class_name(n)}' and '${e.class_name(a)}'`);return u}return u},e.is_none=function(e){return null==e||e==t.None};var i=new Set;e.repr={enter:function(e){if(i.has(e))return!0;i.add(e)},leave:function(e){i.delete(e)}}}(__BRYTHON__),function(e){var t=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function r(e){return e<1e5?e<100?e<10?0:1:e<1e4?e<1e3?2:3:4:e<1e7?e<1e6?5:6:e<1e9?e<1e8?7:8:9}function n(e,n){if(e===n)return 0;if(~~e===e&&~~n===n){if(0===e||0===n)return e<n?-1:1;if(e<0||n<0){if(n>=0)return-1;if(e>=0)return 1;e=-e,n=-n}al=r(e),bl=r(n);var a=0;return al<bl?(e*=t[bl-al-1],n/=10,a=-1):al>bl&&(n*=t[al-bl-1],e/=10,a=1),e===n?a:e<n?-1:1}var s=String(e),o=String(n);return s===o?0:s<o?-1:1}function a(e,t,r,n){var a=t+1;if(a===r)return 1;if(n(e[a++],e[t])<0){for(;a<r&&n(e[a],e[a-1])<0;)a++;!function(e,t,r){r--;for(;t<r;){var n=e[t];e[t++]=e[r],e[r--]=n}}(e,t,a)}else for(;a<r&&n(e[a],e[a-1])>=0;)a++;return a-t}function s(e,t,r,n,a){for(n===t&&n++;n<r;n++){for(var s=e[n],o=t,i=n;o<i;){var _=o+i>>>1;a(s,e[_])<0?i=_:o=_+1}var l=n-o;switch(l){case 3:e[o+3]=e[o+2];case 2:e[o+2]=e[o+1];case 1:e[o+1]=e[o];break;default:for(;l>0;)e[o+l]=e[o+l-1],l--}e[o]=s}}function o(e,t,r,n,a,s){var o=0,i=0,_=1;if(s(e,t[r+a])>0){for(i=n-a;_<i&&s(e,t[r+a+_])>0;)o=_,(_=1+(_<<1))<=0&&(_=i);_>i&&(_=i),o+=a,_+=a}else{for(i=a+1;_<i&&s(e,t[r+a-_])<=0;)o=_,(_=1+(_<<1))<=0&&(_=i);_>i&&(_=i);var l=o;o=a-_,_=a-l}for(o++;o<_;){var c=o+(_-o>>>1);s(e,t[r+c])>0?o=c+1:_=c}return _}function i(e,t,r,n,a,s){var o=0,i=0,_=1;if(s(e,t[r+a])<0){for(i=a+1;_<i&&s(e,t[r+a-_])<0;)o=_,(_=1+(_<<1))<=0&&(_=i);_>i&&(_=i);var l=o;o=a-_,_=a-l}else{for(i=n-a;_<i&&s(e,t[r+a+_])>=0;)o=_,(_=1+(_<<1))<=0&&(_=i);_>i&&(_=i),o+=a,_+=a}for(o++;o<_;){var c=o+(_-o>>>1);s(e,t[r+c])<0?_=c:o=c+1}return _}var _="TimSortAssertion",l=function(e){this.name=_,this.message=e},c=function(e,t){var r={array:e,compare:t,minGallop:7,length:e.length,tmpStorageLength:256,stackLength:0,runStart:null,runLength:null,stackSize:0,pushRun:function(e,t){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=t,this.stackSize+=1},mergeRuns:function(){for(;this.stackSize>1;){var e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}},forceMergeRuns:function(){for(;this.stackSize>1;){var e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}},mergeAt:function(e){var t=this.compare,r=this.array,n=this.runStart[e],a=this.runLength[e],s=this.runStart[e+1],_=this.runLength[e+1];this.runLength[e]=a+_,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;var l=i(r[s],r,n,a,0,t);n+=l,0!==(a-=l)&&0!==(_=o(r[n+a-1],r,s,_,_-1,t))&&(a<=_?this.mergeLow(n,a,s,_):this.mergeHigh(n,a,s,_))},mergeLow:function(e,t,r,n){var a=this.compare,s=this.array,_=this.tmp,c=0;for(c=0;c<t;c++)_[c]=s[e+c];var u=0,f=r,p=e;if(s[p++]=s[f++],0!==--n)if(1!==t){for(var d=this.minGallop;;){var h=0,$=0,m=!1;do{if(a(s[f],_[u])<0){if(s[p++]=s[f++],$++,h=0,0===--n){m=!0;break}}else if(s[p++]=_[u++],h++,$=0,1===--t){m=!0;break}}while((h|$)<d);if(m)break;do{if(0!==(h=i(s[f],_,u,t,0,a))){for(c=0;c<h;c++)s[p+c]=_[u+c];if(p+=h,u+=h,(t-=h)<=1){m=!0;break}}if(s[p++]=s[f++],0===--n){m=!0;break}if(0!==($=o(_[u],s,f,n,0,a))){for(c=0;c<$;c++)s[p+c]=s[f+c];if(p+=$,f+=$,0===(n-=$)){m=!0;break}}if(s[p++]=_[u++],1===--t){m=!0;break}d--}while(h>=7||$>=7);if(m)break;d<0&&(d=0),d+=2}if(this.minGallop=d,d<1&&(this.minGallop=1),1===t){for(c=0;c<n;c++)s[p+c]=s[f+c];s[p+n]=_[u]}else{if(0===t)throw new l("mergeLow preconditions were not respected");for(c=0;c<t;c++)s[p+c]=_[u+c]}}else{for(var c=0;c<n;c++)s[p+c]=s[f+c];s[p+n]=_[u]}else for(var c=0;c<t;c++)s[p+c]=_[u+c]},mergeHigh:function(e,t,r,n){var a=this.compare,s=this.array,_=this.tmp,c=0;for(c=0;c<n;c++)_[c]=s[r+c];var u=e+t-1,f=n-1,p=r+n-1,d=0,h=0;if(s[p--]=s[u--],0!==--t)if(1!==n){for(var $=this.minGallop;;){var m=0,b=0,g=!1;do{if(a(_[f],s[u])<0){if(s[p--]=s[u--],m++,b=0,0===--t){g=!0;break}}else if(s[p--]=_[f--],b++,m=0,1===--n){g=!0;break}}while((m|b)<$);if(g)break;do{if(0!==(m=t-i(_[f],s,e,t,t-1,a))){t-=m,h=(p-=m)+1,d=(u-=m)+1;for(c=m-1;c>=0;c--)s[h+c]=s[d+c];if(0===t){g=!0;break}}if(s[p--]=_[f--],1===--n){g=!0;break}if(0!==(b=n-o(s[u],_,0,n,n-1,a))){n-=b,h=(p-=b)+1,d=(f-=b)+1;for(c=0;c<b;c++)s[h+c]=_[d+c];if(n<=1){g=!0;break}}if(s[p--]=s[u--],0===--t){g=!0;break}$--}while(m>=7||b>=7);if(g)break;$<0&&($=0),$+=2}if(this.minGallop=$,$<1&&(this.minGallop=1),1===n){h=(p-=t)+1,d=(u-=t)+1;for(c=t-1;c>=0;c--)s[h+c]=s[d+c];s[p]=_[f]}else{if(0==n)throw new l("mergeHigh preconditions were not respected");d=p-(n-1);for(c=0;c<n;c++)s[d+c]=_[c]}}else{h=(p-=t)+1,d=(u-=t)+1;for(var c=t-1;c>=0;c--)s[h+c]=s[d+c];s[p]=_[f]}else{d=p-(n-1);for(var c=0;c<n;c++)s[d+c]=_[c]}}};return r.length<512&&(r.tmpStorageLength=r.length>>>1),r.tmp=new Array(r.tmpStorageLength),r.stackLength=r.length<120?5:r.length<1542?10:r.length<119151?19:40,r.runStart=new Array(r.stackLength),r.runLength=new Array(r.stackLength),r};e.$TimSort=function(e,t){try{!function(e,t,r,o){if(!Array.isArray(e))throw _b_.TypeError.$factory("Can only sort arrays");t?"function"!=typeof t&&(o=r,r=t,t=n):t=n,r||(r=0),o||(o=e.length);var i=o-r;if(!(i<2)){var _=0;if(i<32)s(e,r,o,r+(_=a(e,r,o,t)),t);else{var l=new c(e,t),u=function(e){for(var t=0;e>=32;)t|=1&e,e>>=1;return e+t}(i);do{if((_=a(e,r,o,t))<u){var f=i;f>u&&(f=u),s(e,r,r+f,r+_,t),_=f}l.pushRun(r,_),l.mergeRuns(),i-=_,r+=_}while(0!==i);l.forceMergeRuns()}}}(e,t,0,e.length)}catch(r){if(r.name!=_)throw r;e.sort(t)}},e.$AlphabeticalCompare=n}(__BRYTHON__),function($B){var _b_=$B.builtins;_b_.__debug__=!1,$B.$comps={">":"gt",">=":"ge","<":"lt","<=":"le"},$B.$inv_comps={">":"lt",">=":"le","<":"gt","<=":"ge"};var check_nb_args=$B.check_nb_args=function(e,t,r){var n=r.length,a=r[n-1];if(a&&"kw"==a.$nat){var s=a.kw;Array.isArray(s)&&s[1]&&s[1].__class__===_b_.dict&&0==Object.keys(s[1].$string_dict).length&&n--}if(n!=t)throw 0==t?_b_.TypeError.$factory(e+"() takes no argument ("+n+" given)"):_b_.TypeError.$factory(e+"() takes exactly "+t+" argument"+(t<2?"":"s")+" ("+n+" given)")},check_no_kw=$B.check_no_kw=function(e,t,r){if(void 0===t&&console.log("x undef",e,t,r),t.$nat&&t.kw&&t.kw[0]&&t.kw[0].length>0||void 0!==r&&r.$nat)throw _b_.TypeError.$factory(e+"() takes no keyword arguments")},check_nb_args_no_kw=$B.check_nb_args_no_kw=function(e,t,r){var n=r.length,a=r[n-1];if(a&&"kw"==a.$nat){if(2!=a.kw.length||0!=Object.keys(a.kw[0]).length)throw _b_.TypeError.$factory(e+"() takes no keyword arguments");n--}if(n!=t)throw 0==t?_b_.TypeError.$factory(e+"() takes no argument ("+n+" given)"):(console.log("args",r),_b_.TypeError.$factory(e+"() takes exactly "+t+" argument"+(t<2?"":"s")+" ("+n+" given)"))},NoneType={$factory:function(){return None},$infos:{__name__:"NoneType",__module__:"builtins"},__bool__:function(e){return False},__class__:_b_.type,__hash__:function(e){return 0},__mro__:[_b_.object],__repr__:function(e){return"None"},__str__:function(e){return"None"},$is_class:!0,__setattr__:function(e,t){return no_set_attr(NoneType,t)}},None={__class__:NoneType};for(var $op in $B.$comps){var key=$B.$comps[$op];switch(key){case"ge":case"gt":case"le":case"lt":NoneType["__"+key+"__"]=function(e){return function(e){return _b_.NotImplemented}}()}}for(var $func in None)"function"==typeof None[$func]&&(None[$func].__str__=function(e){return function(){return"<method-wrapper "+e+" of NoneType object>"}}($func));function __build_class__(){throw _b_.NotImplementedError.$factory("__build_class__")}function abs(e){check_nb_args_no_kw("abs",1,arguments);var t=e.__class__||$B.get_class(e);try{var r=$B.$getattr(t,"__abs__")}catch(t){if(t.__class__===_b_.AttributeError)throw _b_.TypeError.$factory("Bad operand type for abs(): '"+$B.class_name(e)+"'");throw t}return $B.$call(r)(e)}function aiter(e){return $B.$call($B.$getattr(e,"__aiter__"))()}function all(e){check_nb_args_no_kw("all",1,arguments);for(var t=iter(e);;)try{var r=next(t);if(!$B.$bool(r))return!1}catch(e){return!0}}function anext(e,t){$B.args("anext",2,{async_iterator:null,_default:null},["async_iterator","_default"],arguments,{_default:{}},null,null);return $B.$call($B.$getattr(e,"__anext__"))()}function any(e){check_nb_args_no_kw("any",1,arguments);for(var t=iter(e);;)try{var r=next(t);if($B.$bool(r))return!0}catch(e){return!1}}function ascii(e){check_nb_args_no_kw("ascii",1,arguments);for(var t,r=repr(e),n="",a=0;a<r.length;a++)if((t=r.charCodeAt(a))<128)n+=r.charAt(a);else if(t<256)n+="\\x"+t.toString(16);else{var s=t.toString(16);s.length%2==1&&(s="0"+s),n+="\\u"+s}return n}function $builtin_base_convert_helper(e,t){var r="";switch(t){case 2:r="0b";break;case 8:r="0o";break;case 16:r="0x";break;default:console.log("invalid base:"+t)}if(e.__class__===$B.long_int)return r+e.value.toString(t);var n=$B.$GetInt(e);if(void 0===n)throw _b_.TypeError.$factory("Error, argument must be an integer or contains an __index__ function");return n>=0?r+n.toString(t):"-"+r+(-n).toString(t)}function bin_hex_oct(e,t){if(isinstance(t,_b_.int))return $builtin_base_convert_helper(t,e);try{var r=t.__class__||$B.get_class(t),n=$B.$getattr(r,"__index__")}catch(e){if(e.__class__===_b_.AttributeError)throw _b_.TypeError.$factory("'"+$B.class_name(t)+"' object cannot be interpreted as an integer");throw e}return $builtin_base_convert_helper($B.$call(n)(t),e)}function bin(e){return check_nb_args_no_kw("bin",1,arguments),bin_hex_oct(2,e)}function breakpoint(){$B.$import("sys",[]);var e={},t=$B.$getattr($B.imported.sys,"breakpointhook",e);if(t===e)throw _b_.RuntimeError.$factory("lost sys.breakpointhook");return $B.$call(t).apply(null,arguments)}function callable(e){return check_nb_args_no_kw("callable",1,arguments),hasattr(e,"__call__")}function chr(e){if(check_nb_args_no_kw("chr",1,arguments),(e=$B.PyNumber_Index(e))<0||e>1114111)throw _b_.ValueError.$factory("Outside valid range");if(e>=65536&&e<=1114111){var t=e-65536;return String.fromCodePoint(55296|t>>10)+String.fromCodePoint(56320|1023&t)}return String.fromCodePoint(e)}$B.set_func_names(NoneType,"builtins");var classmethod=$B.make_class("classmethod",function(e){check_nb_args_no_kw("classmethod",1,arguments);var t=function(){return e.apply(null,arguments)};if(t.__class__=$B.method,e.$attrs)for(var r in e.$attrs)t[r]=e.$attrs[r];return t.$infos={__func__:e,__name__:e.$infos.__name__},t.__get__=function(r,n){var a=function(){return t(n,...arguments)};return a.__class__=$B.method,a.$infos={__self__:n,__func__:t,__name__:e.$infos.__name__,__qualname__:n.$infos.__name__+"."+e.$infos.__name__},a},t.__get__.__class__=$B.method_wrapper,t.__get__.$infos=e.$infos,t});$B.set_func_names(classmethod,"builtins");var code=$B.code=$B.make_class("code");function compile(){var e=$B.args("compile",6,{source:null,filename:null,mode:null,flags:null,dont_inherit:null,optimize:null,_feature_version:null},["source","filename","mode","flags","dont_inherit","optimize","_feature_version"],arguments,{flags:0,dont_inherit:!1,optimize:-1,_feature_version:0},null,null),t="$exec_"+$B.UUID();e.__class__=code,e.co_flags=e.flags,e.co_name="<module>";var r=e.co_filename=e.filename,n="single"==e.mode&&512&e.flags;if($B.file_cache[r]=e.source,$B.url2name[r]=t,_b_.isinstance(e.source,_b_.bytes)){var a,s,o="utf-8",i=e.source.source.indexOf(10);a=-1==i?e.source:_b_.bytes.$factory(e.source.source.slice(0,i));var _=/^[\t\f]*#.*?coding[:=][\t]*([-_.a-zA-Z0-9]+)/;if(l=(a=_b_.bytes.decode(a,"latin-1")).match(_))o=l[1];else if(i>-1){var l,c=e.source.source.slice(i+1);s=(i=c.indexOf(10))>-1?_b_.bytes.$factory(c.slice(0,i)):_b_.bytes.$factory(c),(l=(s=_b_.bytes.decode(s,"latin-1")).match(_))&&(o=l[1])}e.source=_b_.bytes.decode(e.source,o)}if(_b_.isinstance(r,[_b_.bytes,_b_.str])||$B.warn(_b_.DeprecationWarning,`path should be string, bytes, or os.PathLike, not ${$B.class_name(r)}`),n&&!e.source.endsWith("\n")){var u=e.source.split("\n");if($B.last(u).startsWith(" "))throw _b_.SyntaxError.$factory("unexpected EOF while parsing")}if(e.source.__class__&&"ast"==e.source.__class__.__module__)return $B.imported._ast._validate(e.source),e._ast=e.source,delete e.source,e;if($B.parser_to_ast){var f=new $B.Parser(e.source,r).parse("file"),p=$B.future_features(f,r),d=$B._PySymtable_Build(f,r);$B.js_from_root(f,d,e.filename);if(e.flags==$B.PyCF_ONLY_AST)return delete $B.url2name[r],($=$B.ast_js_to_py(f)).$js_ast=f,$}else{var h=$B.parser.$create_root_node({src:e.source,filename:r},t,t);h.mode=e.mode,h.parent_block=$B.builtins_scope,$B.parser.dispatch_tokens(h,e.source);f=h.ast();"single"==e.mode&&1==f.body.length&&f.body[0]instanceof $B.ast.Expr&&((h=$B.parser.$create_root_node({src:e.source,filename:r},t,t)).mode="eval",e.single_expression=!0,h.parent_block=$B.builtins_scope,$B.parser.dispatch_tokens(h,e.source),f=h.ast());p=$B.future_features(f,r),d=$B._PySymtable_Build(f,r,p);delete $B.url2name[r];$B.js_from_root(f,d,r);if(e.flags==$B.PyCF_ONLY_AST){$B.create_python_ast_classes();var $;f.constructor.$name;return($=$B.ast_js_to_py(f)).$js_ast=f,$}}return delete $B.url2name[r],e._ast=$B.ast_js_to_py(f),e._ast.$js_ast=f,e}code.__repr__=code.__str__=function(e){return`<code object ${e.co_name}, file '${e.co_filename}', line ${e.co_firstlineno||1}>`},code.__getattribute__=function(e,t){return e[t]},$B.set_func_names(code,"builtins");var __debug__=$B.debug>0;function delattr(e,t){if(check_nb_args_no_kw("delattr",2,arguments),"string"!=typeof t)throw _b_.TypeError.$factory("attribute name must be string, not '"+$B.class_name(t)+"'");return $B.$getattr(e,"__delattr__")(t)}function dir(e){if(void 0===e){var t=$B.last($B.frames_stack);for(var r in locals_obj=t[1],a=_b_.list.$factory(),s=0,locals_obj)"$"==r.charAt(0)&&"$"!=r.charAt(1)||(a[s++]=r);return _b_.list.sort(a),a}check_nb_args_no_kw("dir",1,arguments);e.__class__||$B.get_class(e);if(e.$is_class){var n=$B.$getattr(e.__class__,"__dir__");return $B.$call(n)(e)}try{var a=$B.$call($B.$getattr(e,"__dir__"))();return a=_b_.list.$factory(a)}catch(e){console.log("error in dir",e.message)}a=[];var s=0;for(var r in e)"$"!==r.charAt(0)&&"__class__"!==r&&void 0!==e[r]&&(a[s++]=r);return a.sort(),a}function divmod(e,t){check_nb_args_no_kw("divmod",2,arguments);var r=e.__class__||$B.get_class(e),n=$B.$getattr(r,"__divmod__",_b_.None);return n!==_b_.None?n(e,t):_b_.tuple.$factory([$B.$getattr(r,"__floordiv__")(e,t),$B.$getattr(r,"__mod__")(e,t)])}$B.$delete=function(e,t){function r(e){e.__class__===$B.generator&&e.js_gen.return()}var n=!1,a=$B.last($B.frames_stack);if(t?a[2]!=a[0]&&void 0!==a[3][e]&&(n=!0,r(a[3][e]),delete a[3][e]):void 0!==a[1][e]&&(n=!0,r(a[1][e]),delete a[1][e]),!n)throw $B.name_error(e)};var enumerate=$B.make_class("enumerate",function(){var e=$B.args("enumerate",2,{iterable:null,start:null},["iterable","start"],arguments,{start:0},null,null),t=iter(e.iterable),r=e.start;return{__class__:enumerate,__name__:"enumerate iterator",counter:r-1,iter:t,start:r}});function $$eval(e,t,r){var n=$B.args("eval",4,{src:null,globals:null,locals:null,mode:null},["src","globals","locals","mode"],arguments,{globals:_b_.None,locals:_b_.None,mode:"eval"},null,null),a=(e=n.src,t=n.globals,r=n.locals,n.mode);if(n.src.mode&&"single"==n.src.mode&&["<console>","<stdin>"].indexOf(n.src.filename)>-1&&_b_.print(">",n.src.source.trim()),e.__class__===code);else{if(!e.valueOf||"string"!=typeof e.valueOf())throw _b_.TypeError.$factory(`${a}() arg 1 must be a string, bytes or code object`);e=e.valueOf()}var s=(g=$B.last($B.frames_stack)).$lineno;if($B.exec_scope=$B.exec_scope||{},"string"==typeof e&&e.endsWith("\\\n")){var o=_b_.SyntaxError.$factory("unexpected EOF while parsing"),i=e.split("\n"),_=i[i.length-2];throw o.args=["unexpected EOF while parsing",["<string>",i.length-1,1,_]],o.filename="<string>",o.text=_,o}var l="locals_exec",c="globals_exec",u={},f={},p="<module>",d="<string>";if(t===_b_.None)if(d="<string>",g[1]===g[3])c+="_globals",u=f=g[3];else if("exec"==a){for(var h in u=$B.clone(frames[1]),g[3])u[h]=g[3][h];f=u}else u=g[1],f=g[3];else{if(t.__class__!==_b_.dict)throw _b_.TypeError.$factory(`${a}() globals must be a dict, not `+$B.class_name(t));if(f={},t.$jsobj)f=t.$jsobj;else for(var $ in f=t.$jsobj?t.$jsobj:t.$jsobj={},t.$string_dict)t.$jsobj[$]=t.$string_dict[$][0],"__name__"==$&&(p=t.$jsobj[$]);if(void 0===f.__builtins__&&(f.__builtins__=_b_.__builtins__),d=f.__file__||"<string>",r===_b_.None)u=f;else if(r===t)c+="_globals",u=f;else if(r.$jsobj)for(var $ in r.$jsobj)f[$]=r.$jsobj[$];else{for(var $ in u=r.$jsobj?r.$jsobj:r.$jsobj={$dict:r},r.$string_dict)r.$jsobj[$]=r.$string_dict[$][0];u.$getitem=$B.$call($B.$getattr(r.__class__,"__getitem__"));var m=$B.$getattr(r.__class__,"__missing__",null);m&&(u.$missing=$B.$call(m))}}var b,g,y=$B.frames_stack.slice();(g=[p,u,p,f]).is_exec_top=!0,g.__file__=d,u.$f_trace=$B.enter_frame(g),g.$lineno=1,e.__class__===code&&(b=(b=e._ast).$js_ast?b.$js_ast:$B.ast_py_to_js(b));try{if($B.parser_to_ast)b||(b=new $B.Parser(e,d).parse("eval"==a?"eval":"file"));else if(!b){var v=$B.parser.$create_root_node(e,"<module>",g[0],g[2],1);v.mode=a,v.filename=d,$B.parser.dispatch_tokens(v),b=v.ast()}var x=$B.future_features(b,d),w=$B._PySymtable_Build(b,d,x),B=$B.js_from_root(b,w,d,{local_name:l,exec_locals:u,global_name:c,exec_globals:f}).js}catch(e){if(e.args){if(e.args[1]){s=e.args[1][1];u.$lineno=s}}else console.log("JS Error",e.message);throw $B.frames_stack=y,e}"eval"==a?B="return "+B:e.single_expression&&(B=`var result = ${B}\nif(result !== _b_.None){\n_b_.print(result)\n}`);try{var k=new Function("$B","_b_","locals",l,c,"frame",B)}catch(t){throw $B.debug>1&&(console.log("eval() error\n",$B.format_indent(B,0)),console.log("-- python source\n",e)),t}try{var E=k($B,_b_,u,u,f,g)}catch(t){throw $B.debug>2&&console.log("Python code\n",e,"\ninitial stack before exec",y.slice(),"\nstack",$B.frames_stack.slice(),"\nexec func",$B.format_indent(k+"",0),"\n    filename",d,"\n    local_name",l,"\n    exec_locals",u,"\n    global_name",c,"\n    exec_globals",f,"\n    frame",g,"\n    _ast",b,"\n    js",B),$B.frames_stack=y,t}if(t!==_b_.None){for(var $ in f)$.startsWith("$")||_b_.dict.$setitem(t,$,f[$]);if(r!==_b_.None)for(var $ in u)$.startsWith("$")||_b_.dict.$setitem(r,$,u[$])}return $B.frames_stack=y,E}function exec(e,t,r){var n=$B.args("exec",3,{src:null,globals:null,locals:null},["src","globals","locals"],arguments,{globals:_b_.None,locals:_b_.None},null,null);return $$eval(n.src,n.globals,n.locals,"exec")||_b_.None}function exit(){throw _b_.SystemExit}enumerate.__iter__=function(e){return e.counter=e.start-1,e},enumerate.__next__=function(e){return e.counter++,$B.fast_tuple([e.counter,next(e.iter)])},$B.set_func_names(enumerate,"builtins"),$$eval.$is_func=!0,exec.$is_func=!0,exit.__repr__=exit.__str__=function(){return"Use exit() or Ctrl-Z plus Return to exit"};var filter=$B.make_class("filter",function(e,t){return check_nb_args_no_kw("filter",2,arguments),t=iter(t),e===_b_.None&&(e=$B.$bool),{__class__:filter,func:e,iterable:t}});function format(e,t){var r=$B.args("format",2,{value:null,format_spec:null},["value","format_spec"],arguments,{format_spec:""},null,null),n=e.__class__||$B.get_class(e);try{var a=$B.$getattr(n,"__format__")}catch(t){if(t.__class__===_b_.AttributeError)throw _b_.NotImplementedError("__format__ is not implemented for object '"+_b_.str.$factory(e)+"'");throw t}return $B.$call(a)(e,r.format_spec)}function attr_error(e,t){var r=$B.get_class(t),n="bad operand type for unary #: '"+r+"'";switch(e){case"__neg__":throw _b_.TypeError.$factory(n.replace("#","-"));case"__pos__":throw _b_.TypeError.$factory(n.replace("#","+"));case"__invert__":throw _b_.TypeError.$factory(n.replace("#","~"));case"__call__":throw _b_.TypeError.$factory("'"+r+"' object is not callable");default:throw $B.attr_error(e,t)}}function getattr(){var e={},t=$B.args("getattr",3,{obj:null,attr:null,_default:null},["obj","attr","_default"],arguments,{_default:e},null,null);return $B.$getattr(t.obj,t.attr,t._default===e?void 0:t._default)}function in_mro(e,t){if(void 0===e)return!1;if(e.hasOwnProperty(t))return e[t];for(var r=e.__mro__,n=0,a=r.length;n<a;n++)if(r[n].hasOwnProperty(t))return r[n][t];return!1}function globals(){check_nb_args_no_kw("globals",0,arguments);var e=$B.obj_dict($B.last($B.frames_stack)[3]);return e.$jsobj.__BRYTHON__=$B.JSObj.$factory($B),e.$is_namespace=!0,e}function hasattr(e,t){check_nb_args_no_kw("hasattr",2,arguments);try{return $B.$getattr(e,t),!0}catch(e){return!1}}filter.__iter__=function(e){return e},filter.__next__=function(e){for(;;){var t=next(e.iterable);if(e.func(t))return t}},$B.set_func_names(filter,"builtins"),$B.$getattr=function(e,t,r){var n;if(void 0===e&&console.log("attr",t,"of obj undef"),e.$method_cache&&e.$method_cache[t]&&e.__class__&&e.__class__[t]==e.$method_cache[t][1])return e.$method_cache[t][0];var a=t;void 0===e&&console.log("get attr",t,"of undefined");var s,o=e.$is_class||e.$factory,i=e.__class__,_=!1;if(void 0!==i&&!i.$native&&i.__bases__&&void 0===i.__getattribute__&&(0==i.__bases__.length||1==i.__bases__.length&&i.__bases__[0]===_b_.object))if(void 0!==e[t]){if("__class__"!=t||!e.__class__.__dict__||!e.__class__.__dict__.$string_dict.__class__)return e[t]}else{if(e.__dict__&&e.__dict__.$string_dict.hasOwnProperty(t)&&(!i.hasOwnProperty(t)||!i[t].__get__))return e.__dict__.$string_dict[t][0];if(i.hasOwnProperty(t)&&"function"!=typeof i[t]&&"__dict__"!=t&&void 0===i[t].__get__&&!in_mro(i[t].__class__,"__get__"))return i[t]}if(void 0===i&&void 0===(i=$B.get_class(e))){if(void 0!==(n=e[t])){if("function"==typeof n){var l=function(){return n.apply(e,arguments)};return l.$infos={__name__:t,__qualname__:t},l}return $B.$JS2Py(n)}if(void 0!==r)return r;throw $B.attr_error(a,e)}switch(t){case"__call__":if("function"==typeof e)return n=function(){return e.apply(null,arguments)},n.__class__=method_wrapper,n.$infos={__name__:"__call__"},n;break;case"__class__":if(i.__dict__&&i.__dict__.$string_dict.__class__){var c=i.__dict__.$string_dict.__class__[0];return c.$is_property?c.fget(e):c}return i;case"__dict__":if(o){var u={};if(e.__dict__)for(var f in e.__dict__.$string_dict)u[f]=e.__dict__.$string_dict[f][0];else for(var f in e)f.startsWith("$")||(u[f]=e[f]);return u.__dict__=$B.getset_descriptor.$factory(e,"__dict__"),{__class__:$B.mappingproxy,$jsobj:u}}if(!i.$native){if(void 0!==e[t])return e[t];if(e.$infos){if(e.$infos.hasOwnProperty("__dict__"))return e.$infos.__dict__;if(e.$infos.hasOwnProperty("__func__"))return e.$infos.__func__.$infos.__dict__}return $B.obj_dict(e,function(e){return["__class__"].indexOf(e)>-1})}case"__mro__":if(e.$is_class)return _b_.tuple.$factory([e].concat(e.__mro__));if(e.__dict__&&void 0!==e.__dict__.$string_dict.__mro__)return e.__dict__.$string_dict.__mro__;throw $B.attr_error(t,e);case"__subclasses__":if(i.$factory||i.$is_class){var p=e.$subclasses||[];return function(){return p}}}if("function"==typeof e){var d=e[t];if(void 0!==d&&"__module__"==t)return d}if(!o&&i.$native){if(e.$method_cache&&e.$method_cache[t])return e.$method_cache[t];if("__doc__"==t&&void 0===i[t]&&i.$infos&&(_get_builtins_doc(),i[t]=$B.builtins_doc[i.$infos.__name__]),void 0===i[t]){var h=_b_.object[t];if(void 0===h){_;var $=e.__dict__;if($&&void 0!==(h=$.$string_dict[t]))return h[0];if(void 0===r)throw $B.attr_error(t,e);return r}i[t]=h}if(i.$descriptors&&void 0!==i.$descriptors[t])return i[t](e);if("function"==typeof i[t]){var m=i[t];if("__new__"==t&&(m.$type="staticmethod"),"staticmethod"==m.$type)return m;var b=i[t].__class__==$B.method?i:e,g=i[t].bind(null,b);return g.__class__=$B.method,g.$infos={__func__:m,__name__:t,__self__:b,__qualname__:i.$infos.__name__+"."+t},"object"==typeof e&&(e.__class__=i,e.$method_cache=e.$method_cache||{},e.$method_cache[t]=g),g}if(void 0!==i[t])return i[t];attr_error(a,i)}if(o)s=_b_.type.__getattribute__;else if(void 0===(s=i.__getattribute__)){var y;void 0===(y=i.__mro__)&&console.log(e,t,"no mro, klass",i);for(var v=0,x=y.length;v<x&&void 0===(s=y[v].__getattribute__);v++);}"function"!=typeof s&&console.log(t+" is not a function "+s,i);var w=_b_.object.__getattribute__;if(s===w)if(n=e[t],Array.isArray(e)&&void 0!==Array.prototype[t])n=void 0;else{if(null===n)return null;if(void 0!==n){if(n.$is_property)return property.__get__(n);if(void 0===n.__set__||n.$is_class)return n}}try{n=s(e,t)}catch(a){var B;if(i===$B.module&&(B=e.__getattr__))try{return B(t)}catch(e){if(void 0!==r)return r;throw e}if(B=in_mro(i,"__getattr__")){_;try{return n=B(e,t)}catch(e){if(void 0!==r)return r;throw e}}if(void 0!==r)return r;throw a}if(void 0!==n)return n;if(void 0!==r)return r;i.$infos.__name__;o&&e.$infos.__name__,attr_error(a,o?e:i)};var hash_cache={};function hash(e){if(check_nb_args_no_kw("hash",1,arguments),void 0!==e.__hashvalue__)return e.__hashvalue__;if(isinstance(e,_b_.bool))return _b_.int.$factory(e);if(e.$is_class||e.__class__===_b_.type||e.__class__===$B.Function)return e.__hashvalue__=$B.$py_next_hash--;if("string"==typeof e){var t=hash_cache[e];return void 0!==t?t:hash_cache[e]=_b_.str.__hash__(e)}var r=e.__class__||$B.get_class(e);if(void 0===r)throw _b_.TypeError.$factory("unhashable type: '"+_b_.str.$factory($B.JSObj.$factory(e))+"'");var n=$B.$getattr(r,"__hash__",_b_.None);if(n===_b_.None)throw _b_.TypeError.$factory("unhashable type: '"+$B.class_name(e)+"'");if(n.$infos.__func__===_b_.object.__hash__){if($B.$getattr(e,"__eq__").$infos.__func__!==_b_.object.__eq__)throw _b_.TypeError.$factory("unhashable type: '"+$B.class_name(e)+"'","hash");return e.__hashvalue__=_b_.object.__hash__(e)}return $B.$call(n)(e)}function _get_builtins_doc(){if(void 0===$B.builtins_doc){var url=$B.brython_path;"/"==url.charAt(url.length-1)&&(url=url.substr(0,url.length-1)),url+="/builtins_docstrings.js";var f=_b_.open(url);for(var key in eval(f.$content),docs)_b_[key]&&(_b_[key].__doc__=docs[key]);$B.builtins_doc=docs}}function help(e){if(void 0===e&&(e="help"),"string"==typeof e){for(var t,r,n="https://docs.python.org/3/library",a=e.split("."),s=[];a.length>0&&(s.push(a.shift()),$B.stdlib[s.join(".")]);)t=s.join(".");return t?(r=["browser","javascript","interpreter"].indexOf(e.split(".")[0])>-1?"/static_doc/"+("fr"==$B.language?"fr":"en"):n,void window.open(`${r}/${t}.html#`+e)):_b_[e]&&(e==e.toLowerCase()?t=n+`/functions.html#${e}`:["False","True","None","NotImplemented","Ellipsis","__debug__"].indexOf(e)>-1?t=n+`/constants.html#${e}`:_b_[e].$is_class&&_b_[e].__bases__.indexOf(_b_.Exception)>-1&&(t=n+`/exceptions.html#${e}`),t)?void window.open(t):($B.$import("pydoc"),$B.$call($B.$getattr($B.imported.pydoc,"help"))(e))}if(e.__class__===$B.module)return help(e.__name__);try{_b_.print($B.$getattr(e,"__doc__"))}catch(e){return""}}function hex(e){return check_nb_args_no_kw("hex",1,arguments),bin_hex_oct(16,e)}function id(e){return check_nb_args_no_kw("id",1,arguments),isinstance(e,[_b_.str,_b_.int,_b_.float])&&!isinstance(e,$B.long_int)?$B.$getattr(_b_.str.$factory(e),"__hash__")():void 0!==e.$id?e.$id:e.$id=$B.UUID()}function __import__(e,t,r,n,a){var s=$B.args("__import__",5,{name:null,globals:null,locals:null,fromlist:null,level:null},["name","globals","locals","fromlist","level"],arguments,{globals:None,locals:None,fromlist:_b_.tuple.$factory(),level:0},null,null);return $B.$__import__(s.name,s.globals,s.locals,s.fromlist)}function input(e){var t=prompt(e||"")||"";if($B.imported.sys&&$B.imported.sys.ps1){var r=$B.imported.sys.ps1,n=$B.imported.sys.ps2;e!=r&&e!=n||console.log(e,t)}return t}function isinstance(e,t){if(check_nb_args_no_kw("isinstance",2,arguments),null===e)return t===None;if(void 0===e)return!1;if(Array.isArray(t)){for(var r of t)if(isinstance(e,r))return!0;return!1}if(t.__class__===$B.GenericAlias)throw _b_.TypeError.$factory("isinstance() arg 2 cannot be a parameterized generic");if(!(t.__class__&&t.$is_class||$B.$getattr(t,"__instancecheck__",!1)))throw _b_.TypeError.$factory("isinstance() arg 2 must be a type or tuple of types");if(t===_b_.int&&(e===True||e===False))return True;if(t===_b_.bool)switch(typeof e){case"string":case"number":return!1;case"boolean":return!0}var n=e.__class__;if(null==n){if("string"==typeof e){if(t==_b_.str)return!0;if($B.builtin_classes.indexOf(t)>-1)return!1}else if("number"==typeof e&&Number.isFinite(e)&&Number.isFinite(e)&&t==_b_.int)return!0;n=$B.get_class(e)}if(void 0===n)return!1;function a(e,t){return e===t||(t===_b_.str&&e===$B.StringSubclass||(t===_b_.int&&e===$B.IntSubclass||void 0))}if(a(n,t))return!0;for(var s=n.__mro__,o=0;o<s.length;o++)if(a(s[o],t))return!0;var i=$B.$getattr(t.__class__||$B.get_class(t),"__instancecheck__",_b_.None);return i!==_b_.None&&i(t,e)}function issubclass(e,t){var r;if(check_nb_args_no_kw("issubclass",2,arguments),!e.__class__||void 0===e.$factory&&void 0===e.$is_class){var n=$B.$getattr(e,"__class__",null);if(null===n)throw _b_.TypeError.$factory("issubclass() arg 1 must be a class");console.log(e,"has an attribute __class__",n),r=[_b_.object]}else r=e.__mro__;if(isinstance(t,_b_.tuple)){for(var a=0;a<t.length;a++)if(issubclass(e,t[a]))return!0;return!1}if(t.__class__===$B.GenericAlias)throw _b_.TypeError.$factory("issubclass() arg 2 cannot be a parameterized generic");if((t.$factory||t.$is_class)&&(e===t||r.indexOf(t)>-1))return!0;var s=$B.$getattr(t.__class__||$B.get_class(t),"__subclasscheck__",_b_.None);return s!=_b_.None&&s(t,e)}help.__repr__=help.__str__=function(){return"Type help() for interactive help, or help(object) for help about object."};var iterator_class=$B.make_class("iterator",function(e,t){return{__class__:iterator_class,getitem:e,len:t,counter:-1}});function iter(){var e=$B.args("iter",1,{obj:null},["obj"],arguments,{},"args","kw");if(e.args.length>0)var t=e.args[0];return $B.$iter(e.obj,t)}function len(e){check_nb_args_no_kw("len",1,arguments);var t=e.__class__||$B.get_class(e);try{var r=$B.$getattr(t,"__len__")}catch(t){throw _b_.TypeError.$factory("object of type '"+$B.class_name(e)+"' has no len()")}return $B.$call(r)(e)}function locals(){check_nb_args("locals",0,arguments);var e=$B.obj_dict($B.clone($B.last($B.frames_stack)[1]));return e.$is_namespace=!0,delete e.$jsobj.__annotations__,e}iterator_class.__next__=function(e){if(e.counter++,null!==e.len&&e.counter==e.len)throw _b_.StopIteration.$factory("");try{return e.getitem(e.counter)}catch(e){throw _b_.StopIteration.$factory("")}},$B.set_func_names(iterator_class,"builtins"),callable_iterator=$B.make_class("callable_iterator",function(e,t){return{__class__:callable_iterator,func:e,sentinel:t}}),callable_iterator.__iter__=function(e){return e},callable_iterator.__next__=function(e){var t=e.func();if($B.rich_comp("__eq__",t,e.sentinel))throw _b_.StopIteration.$factory();return t},$B.set_func_names(callable_iterator,"builtins"),$B.$iter=function(e,t){if(void 0===t){var r=e.__class__||$B.get_class(e);try{var n=$B.$call($B.$getattr(r,"__iter__"))}catch(t){if(t.__class__===_b_.AttributeError)try{var a=$B.$call($B.$getattr(r,"__getitem__"));len(e);return iterator_class.$factory(function(t){return a(e,t)},len)}catch(t){throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object is not iterable")}throw t}var s=$B.$call(n)(e);try{$B.$getattr(s,"__next__")}catch(e){if(isinstance(e,_b_.AttributeError))throw _b_.TypeError.$factory("iter() returned non-iterator of type '"+$B.class_name(s)+"'")}return s}return callable_iterator.$factory(e,t)};var map=$B.make_class("map",function(){var e=$B.args("map",2,{func:null,it1:null},["func","it1"],arguments,{},"args",null),t=$B.$call(e.func),r=[$B.$iter(e.it1)];return e.args.forEach(function(e){r.push($B.$iter(e))}),{__class__:map,args:r,func:t}});function $extreme(e,t){var r="min";"__gt__"===t&&(r="max");var n=$B.args(r,0,{},[],e,{},"args","kw"),a=!1,s=!1;for(var o in n.kw.$string_dict)switch(o){case"key":s=n.kw.$string_dict[o][0];break;case"default":var i=n.kw.$string_dict[o][0];a=!0;break;default:throw _b_.TypeError.$factory("'"+o+"' is an invalid keyword argument for this function")}if(s&&s!==_b_.None||(s=e=>e),0==n.args.length)throw _b_.TypeError.$factory(r+" expected 1 arguments, got 0");if(1!=n.args.length){if(a)throw _b_.TypeError.$factory("Cannot specify a default for "+r+"() with multiple positional arguments");if($B.last(e).$nat)var _=[n.args].concat($B.last(e));else _=[n.args];return $extreme.call(null,_,t)}for(var l,c,u=iter(n.args[0]),f=null;;)try{var p=next(u);null===f?(c=s(p),f=p):(l=s(p),$B.rich_comp(t,l,c)&&(f=p,c=l))}catch(e){if(e.__class__==_b_.StopIteration){if(null===f){if(a)return i;throw _b_.ValueError.$factory(r+"() arg is an empty sequence")}return f}throw e}}function max(){return $extreme(arguments,"__gt__")}map.__iter__=function(e){return e},map.__next__=function(e){for(var t=[],r=0;r<e.args.length;r++)t.push(next(e.args[r]));return e.func.apply(null,t)},$B.set_func_names(map,"builtins");var memoryview=$B.make_class("memoryview",function(e){if(check_nb_args_no_kw("memoryview",1,arguments),e.__class__===memoryview)return e;if($B.get_class(e).$buffer_protocol)return{__class__:memoryview,obj:e,format:"B",itemsize:1,ndim:1,shape:_b_.tuple.$factory([_b_.len(e)]),strides:_b_.tuple.$factory([1]),suboffsets:_b_.tuple.$factory([]),c_contiguous:!0,f_contiguous:!0,contiguous:!0};throw _b_.TypeError.$factory("memoryview: a bytes-like object is required, not '"+$B.class_name(e)+"'")});function min(){return $extreme(arguments,"__lt__")}function next(e){check_no_kw("next",e);var t={},r=$B.args("next",2,{obj:null,def:null},["obj","def"],arguments,{def:t},null,null),n=e.__class__||$B.get_class(e),a=$B.$call($B.$getattr(n,"__next__"));if(void 0!==a)try{return $B.$call(a)(e)}catch(e){if(e.__class__===_b_.StopIteration&&r.def!==t)return r.def;throw e}throw _b_.TypeError.$factory("'"+$B.class_name(e)+"' object is not an iterator")}memoryview.$match_sequence_pattern=!0,memoryview.__eq__=function(e,t){return t.__class__===memoryview&&$B.$getattr(e.obj,"__eq__")(t.obj)},memoryview.__getitem__=function(e,t){if(isinstance(t,_b_.int)){var r=t*e.itemsize;if("I"==e.format){for(var n=e.obj.source[r],a=256,s=1;s<4;s++)n+=e.obj.source[r+s]*a,a*=256;return n}if("B".indexOf(e.format)>-1){if(t>e.obj.source.length-1)throw _b_.KeyError.$factory(t);return e.obj.source[t]}return e.obj.source[t]}n=e.obj.__class__.__getitem__(e.obj,t);if(t.__class__===_b_.slice)return memoryview.$factory(n)},memoryview.__len__=function(e){return len(e.obj)/e.itemsize},memoryview.__setitem__=function(e,t,r){try{$B.$setitem(e.obj,t,r)}catch(e){throw _b_.TypeError.$factory("cannot modify read-only memory")}},memoryview.cast=function(e,t){switch(t){case"B":return memoryview.$factory(e.obj);case"I":var r=memoryview.$factory(e.obj),n=len(e.obj);if(r.itemsize=4,r.format="I",n%4!=0)throw _b_.TypeError.$factory("memoryview: length is not a multiple of itemsize");return r}},memoryview.hex=function(e){var t="";return _b_.bytes.$factory(e).source.forEach(function(e){t+=e.toString(16)}),t},memoryview.tobytes=function(e){return{__class__:_b_.bytes,source:e.obj.source}},memoryview.tolist=function(e){if(1==e.itemsize)return _b_.list.$factory(_b_.bytes.$factory(e.obj));if(4==e.itemsize&&"I"==e.format){for(var t=[],r=0;r<e.obj.source.length;r+=4){for(var n=e.obj.source[r],a=256,s=1;s<4;s++)n+=a*e.obj.source[r+s],a*=256;t.push(n)}return t}},$B.set_func_names(memoryview,"builtins");var NotImplementedType=$B.make_class("NotImplementedType",function(){return NotImplemented});NotImplementedType.__repr__=NotImplementedType.__str__=function(e){return"NotImplemented"},$B.set_func_names(NotImplementedType,"builtins");var NotImplemented={__class__:NotImplementedType};function $not(e){return!$B.$bool(e)}function oct(e){return check_nb_args_no_kw("oct",1,arguments),bin_hex_oct(8,e)}function ord(e){if(check_nb_args_no_kw("ord",1,arguments),"string"==typeof e.valueOf()){if(1==e.length)return e.charCodeAt(0);if(55296<=e[0]&&e[0]<=56319||56320<=e[1]&&e[1]<=57343)throw _b_.TypeError.$factory("ord() expected a character, but string of length "+e.length+" found");var t=65536;return t+=(1023&e.charCodeAt(0))<<10,t+=1023&e.charCodeAt(1)}switch($B.get_class(e)){case _b_.str:if(1==e.length)return e.charCodeAt(0);throw _b_.TypeError.$factory("ord() expected a character, but string of length "+e.length+" found");case _b_.bytes:case _b_.bytearray:if(1==e.source.length)return e.source[0];throw _b_.TypeError.$factory("ord() expected a character, but string of length "+e.source.length+" found");default:throw _b_.TypeError.$factory("ord() expected a character, but "+$B.class_name(e)+" was found")}}function pow(){var e=$B.args("pow",3,{x:null,y:null,mod:null},["x","y","mod"],arguments,{mod:None},null,null),t=e.x,r=e.y,n=e.mod,a=t.__class__||$B.get_class(t);if(n===_b_.None)return $B.rich_op("__pow__",t,r);if(t!=_b_.int.$factory(t)||r!=_b_.int.$factory(r))throw _b_.TypeError.$factory("pow() 3rd argument not allowed unless all arguments are integers");return $B.$call($B.$getattr(a,"__pow__"))(t,r,n)}function $print(){for(var e=$B.args("print",0,{},[],arguments,{},"args","kw"),t=e.kw.$string_dict,r=void 0===t.end||t.end===None?"\n":t.end[0],n=void 0===t.sep||t.sep===None?" ":t.sep[0],a=void 0===t.file?$B.stdout:t.file[0],s=e.args,o=$B.$getattr(a,"write"),i=0,_=s.length;i<_;i++){o(_b_.str.$factory(s[i])),i<_-1&&o(n)}o(r);var l=$B.$getattr(a,"flush",None);return l!==None&&$B.$call(l)(),None}$print.__name__="print",$print.is_func=!0;var property=$B.make_class("property",function(e,t,r,n){var a={__class__:property};return property.__init__(a,e,t,r,n),a});function quit(){throw _b_.SystemExit}function repr(e){check_nb_args_no_kw("repr",1,arguments);var t=e.__class__||$B.get_class(e);return $B.$call($B.$getattr(t,"__repr__"))(e)}property.__init__=function(e,t,r,n,a){var s=$B.args("__init__",5,{self:null,fget:null,fset:null,fdel:null,doc:null},["self","fget","fset","fdel","doc"],arguments,{fget:_b_.None,fset:_b_.None,fdel:_b_.None,doc:_b_.None},null,null);e=s.self,t=s.fget,r=s.fset,n=s.fdel,a=s.doc;if(e.__doc__=a||"",e.$type=t.$type,e.fget=t,e.fset=r,e.fdel=n,e.$is_property=!0,t&&t.$attrs)for(var o in t.$attrs)e[o]=t.$attrs[o];e.__delete__=n,e.getter=function(t){return property.$factory(t,e.fset,e.fdel,e.__doc__)},e.setter=function(t){return property.$factory(e.fget,t,e.fdel,e.__doc__)},e.deleter=function(t){return property.$factory(e.fget,e.fset,t,e.__doc__)}},property.__get__=function(e,t){if(void 0===e.fget)throw _b_.AttributeError.$factory("unreadable attribute");return $B.$call(e.fget)(t)},property.__set__=function(e,t,r){if(void 0===e.fset)throw _b_.AttributeError.$factory("can't set attribute");$B.$getattr(e.fset,"__call__")(t,r)},$B.set_func_names(property,"builtins"),quit.__repr__=quit.__str__=function(){return"Use quit() or Ctrl-Z plus Return to exit"};var reversed=$B.make_class("reversed",function(e){check_nb_args_no_kw("reversed",1,arguments);var t=e.__class__||$B.get_class(e),r=$B.$getattr(t,"__reversed__",null);if(null!==r)return $B.$call(r)(e);try{var n=$B.$getattr(t,"__getitem__")}catch(e){throw _b_.TypeError.$factory("argument to reversed() must be a sequence")}var a={__class__:reversed,$counter:_b_.len(e),getter:function(t){return $B.$call(n)(e,t)}};return a});function round(){var e=$B.args("round",2,{number:null,ndigits:null},["number","ndigits"],arguments,{ndigits:None},null,null),t=e.number,r=e.ndigits===None?0:e.ndigits;if(!isinstance(t,[_b_.int,_b_.float])){var n=t.__class__||$B.get_class(t);try{return $B.$call($B.$getattr(n,"__round__")).apply(null,arguments)}catch(e){throw e.__class__===_b_.AttributeError?_b_.TypeError.$factory("type "+$B.class_name(t)+" doesn't define __round__ method"):e}}n=$B.get_class(t);if(isinstance(t,_b_.float)){if(t.value===1/0||t.value===-1/0)throw _b_.OverflowError.$factory("cannot convert float infinity to integer");t=t.value}if(!isinstance(r,_b_.int))throw _b_.TypeError.$factory("'"+$B.class_name(r)+"' object cannot be interpreted as an integer");var a,s=Math.pow(10,r),o=t*s,i=Math.floor(o);return.5==Math.abs(o-i)?(i%2&&(i+=1),a=_b_.int.__truediv__(i,s)):a=_b_.int.__truediv__(Math.round(o),s),e.ndigits===None?Math.floor(a.value):$B.$call(n)(a)}function setattr(){var e=$B.args("setattr",3,{obj:null,attr:null,value:null},["obj","attr","value"],arguments,{},null,null),t=e.obj,r=e.attr,n=e.value;if("string"!=typeof r)throw _b_.TypeError.$factory("setattr(): attribute name must be string");return $B.$setattr(t,r,n)}function sorted(){for(var e=$B.args("sorted",1,{iterable:null},["iterable"],arguments,{},null,"kw"),t=_b_.list.$factory(iter(e.iterable)),r=[t],n=1;n<arguments.length;n++)r.push(arguments[n]);return _b_.list.sort.apply(null,r),t}reversed.__iter__=function(e){return e},reversed.__next__=function(e){if(e.$counter--,e.$counter<0)throw _b_.StopIteration.$factory("");return e.getter(e.$counter)},$B.set_func_names(reversed,"builtins"),$B.$setattr=function(e,t,r){void 0===e&&console.log("obj undef",t,r);if("__dict__"==t){if(!isinstance(r,_b_.dict))throw _b_.TypeError.$factory("__dict__ must be set to a dictionary, not a '"+$B.class_name(r)+"'");return e.$infos?(e.$infos.__dict__=r,None):(e.__dict__=r,None)}if("__class__"==t){function n(e){throw _b_.TypeError.$factory(e)}if(r.__class__)if("builtins"==r.__module__)n("__class__ assignement only supported for heap types or ModuleType subclasses");else if(Array.isArray(r.__bases__))for(var a=0;a<r.__bases__.length;a++)r.__bases__[a]!==_b_.object&&"builtins"==r.__bases__[a].__module__&&n("__class__ assignment: '"+$B.class_name(e)+"' object layout differs from '"+$B.class_name(r)+"'");return e.__class__=r,None}if("__doc__"==t&&e.__class__===_b_.property&&(e[t]=r),e.$factory||e.$is_class){var s=e.__class__;if(s&&s[t]&&s[t].__get__&&s[t].__set__)return s[t].__set__(e,r),None;if("__module__"==t)return e.$infos.__module__=r,_b_.None;if(e.$infos&&"builtins"==e.$infos.__module__)throw _b_.TypeError.$factory(`cannot set '${t}' attribute of immutable type '`+e.$infos.__name__+"'");return e[t]=r,"__init__"==t||"__new__"==t?e.$factory=$B.$instance_creator(e):"__bases__"==t&&(e.__mro__=_b_.type.mro(e)),None}var o=e[t],i=e.__class__||$B.get_class(e);if(void 0===o&&i&&void 0===(o=i[t])){var _=(d=i.__mro__).length;for(a=0;a<_&&void 0===(o=d[a][t]);a++);}if(null!=o){if(void 0!==o.__set__)return o.__set__(o,e,r),None;var l,c=o.__class__;if(void 0!==c)if(void 0===(l=c.__set__))for(a=0,_=(d=c.__mro__).length;a<_&&!(l=d[a].__set__);a++);if(void 0!==l){var u=$B.$getattr(o,"__set__",null);if(u&&"function"==typeof u)return u.apply(o,[e,r]),None}else if(i&&void 0!==i.$descriptors&&void 0!==i[t]){var f=i[t].setter;if("function"==typeof f)return f(e,r),None;throw _b_.AttributeError.$factory("readonly attribute")}}var p=!1;if(void 0!==i&&void 0===(p=i.__setattr__)){var d;for(a=0,_=(d=i.__mro__).length-1;a<_&&!(p=d[a].__setattr__);a++);}if(i&&i.__slots__&&-1==["__module__"].indexOf(t)&&!p){var h=!0;for(var $ of i.__mro__){if($===_b_.object||$===_b_.type)break;if(!$.__slots__){h=!1;break}}if(h){function m(e){return e.__slots__?Array.isArray(e.__slots__)?e.__slots__.map(function(t){return t.startsWith("__")&&!t.endsWith("_")?"_"+e.$infos.__name__+t:t}):e.__slots__:[]}var b=!1;if(m(i).indexOf(t)>-1)b=!0;else for(a=0;a<i.__mro__.length;a++){if(m($=i.__mro__[a]).indexOf(t)>-1){b=!0;break}}if(!b)throw $B.attr_error(t,i)}}return p?p(e,t,r):void 0===e.__dict__?e[t]=r:_b_.dict.$setitem(e.__dict__,t,r),None};var staticmethod=$B.make_class("staticmethod",function(e){var t={$infos:e.$infos,__get__:function(){return e}};return t.__get__.__class__=$B.method_wrapper,t.__get__.$infos=e.$infos,t});function sum(e,t){var r=$B.args("sum",2,{iterable:null,start:null},["iterable","start"],arguments,{start:0},null,null);e=r.iterable,t=r.start;if(_b_.isinstance(t,[_b_.str,_b_.bytes]))throw _b_.TypeError.$factory("sum() can't sum bytes [use b''.join(seq) instead]");var n=t;for(e=iter(e);;)try{var a=next(e);n=$B.add(n,a)}catch(e){if(e.__class__===_b_.StopIteration)break;throw e}return n}$B.set_func_names(staticmethod,"builtins"),$B.missing_super2=function(e){return e.$missing=!0,e};var $$super=$B.make_class("super",function(e,t){var r=void 0===t;if(void 0===e&&void 0===t){var n=$B.last($B.frames_stack),a=$B.imported._sys.Getframe(),s=$B.frame.f_code.__get__(a);if(!(s.co_varnames.length>0))throw _b_.RuntimeError.$factory("super(): no arguments");if(void 0===(e=n[1].__class__))throw _b_.RuntimeError.$factory("super(): no arguments");t=n[1][s.co_varnames[0]]}return!r&&Array.isArray(t)&&(t=t[0]),{__class__:$$super,__thisclass__:e,__self_class__:t}});function vars(){var e={},t=$B.args("vars",1,{obj:null},["obj"],arguments,{obj:e},null,null);if(t.obj===e)return _b_.locals();try{return $B.$getattr(t.obj,"__dict__")}catch(e){if(e.__class__===_b_.AttributeError)throw _b_.TypeError.$factory("vars() argument must have __dict__ attribute");throw e}}$$super.__get__=function(e,t,r){return $$super.$factory(e.__thisclass__,t)},$$super.__getattribute__=function(e,t){var r=e.__thisclass__.__mro__;if(e.__thisclass__.$is_js_class&&"__init__"==t)return function(){r[0].$js_func.call(e.__self_class__,...arguments)};var n=e.__self_class__;if(void 0!==n){n.$is_class||(n=n.__class__||$B.get_class(n));for(var a=[n].concat(n.__mro__),s=0;s<a.length;s++)if(a[s]===e.__thisclass__){r=a.slice(s+1);break}}s=0;for(var o,i,_=r.length;s<_;s++)if(void 0!==r[s][t]){o=r[s][t];break}if(void 0===o){if(void 0!==$$super[t])return i=e,function(){for(var e=[i],r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return $$super[t].apply(null,e)};throw $B.attr_error(t,e)}if("staticmethod"==o.$type||"__new__"==t)return o;if("function"!=typeof o)return o;o.__class__===$B.method&&(o=o.$infos.__func__);var l,c=$B.$call(o),u=function(){var t=c(e.__self_class__,...arguments);return t};return u.__class__=$B.method,void 0!==o.$infos?l=o.$infos.__module__:o.__class__===property?l=o.fget.$infos.__module:o.$is_class&&(l=o.__module__),u.$infos={__self__:e.__self_class__,__func__:o,__name__:t,__module__:l,__qualname__:e.__thisclass__.$infos.__name__+"."+t},u},$$super.__init__=function(e){if(void 0===e)throw _b_.TypeError.$factory("descriptor '__init__' of 'super' object needs an argument");if(e.__class__!==$$super)throw _b_.TypeError.$factory("descriptor '__init__' requires a 'super' object but received a '"+$B.class_name(e)+"'")},$$super.__repr__=function(e){$B.builtins_repr_check($$super,arguments);var t="<super: <class '"+e.__thisclass__.$infos.__name__+"'>";return void 0!==e.__self_class__?t+=", <"+e.__self_class__.__class__.$infos.__name__+" object>":t+=", NULL",t+">"},$B.set_func_names($$super,"builtins");var $Reader=$B.make_class("Reader");function make_lines(e){if(void 0===e.$lines)if(e.$binary){for(var t=[],r=0,n=e.$content.source;r<e.$length;){var a=n.indexOf(10,r);if(-1==a){t.push({__class__:_b_.bytes,source:n.slice(r)});break}t.push({__class__:_b_.bytes,source:n.slice(r,a+1)}),r=a+1}e.$lines=t}else e.$lines=e.$content.split("\n"),""==$B.last(e.$lines)&&e.$lines.pop(),e.$lines=e.$lines.map(e=>e+"\n")}$Reader.__enter__=function(e){return e},$Reader.__exit__=function(e){return!1},$Reader.__init__=function(e,t="",r="\n"){e.$content=t,e.$counter=0},$Reader.__iter__=function(e){return iter($Reader.readlines(e))},$Reader.__len__=function(e){return e.lines.length},$Reader.__new__=function(e){return{__class__:e}},$Reader.close=function(e){e.closed=!0},$Reader.flush=function(e){return None},$Reader.read=function(){var e=$B.args("read",2,{self:null,size:null},["self","size"],arguments,{size:-1},null,null),t=e.self,r=$B.$GetInt(e.size);if(!0===t.closed)throw _b_.ValueError.$factory("I/O operation on closed file");r<0&&(r=t.$length-t.$counter);t.$content;return t.$binary?res=_b_.bytes.$factory(t.$content.source.slice(t.$counter,t.$counter+r)):res=t.$content.substr(t.$counter,r),t.$counter+=r,res},$Reader.readable=function(e){return!0},$Reader.readline=function(e,t){var r=$B.args("readline",2,{self:null,size:null},["self","size"],arguments,{size:-1},null,null);e=r.self,t=$B.$GetInt(r.size);if(e.$lc=void 0===e.$lc?-1:e.$lc,!0===e.closed)throw _b_.ValueError.$factory("I/O operation on closed file");if(e.$binary){var n;if(-1==(n=e.$content.source.indexOf(10,e.$counter))){var a=e.$content.source.slice(e.$counter);return e.$counter=e.$content.source.length,_b_.bytes.$factory(a)}var s={__class__:_b_.bytes,source:e.$content.source.slice(e.$counter,n+1)};return e.$counter=n+1,s}if(e.$counter==e.$content.length)return"";if(-1==(n=e.$content.indexOf("\n",e.$counter))){a=e.$content.substr(e.$counter);return e.$counter=e.$content.length,a}s=e.$content.substring(e.$counter,n+1);return e.$counter=n+1,e.$lc+=1,s},$Reader.readlines=function(){var e=$B.args("readlines",2,{self:null,hint:null},["self","hint"],arguments,{hint:-1},null,null),t=e.self,r=$B.$GetInt(e.hint);if(!0===t.closed)throw _b_.ValueError.$factory("I/O operation on closed file");if(t.$lc=void 0===t.$lc?-1:t.$lc,make_lines(t),r<0)var n=t.$lines.slice(t.$lc+1);else for(n=[];t.$lc<t.$lines.length&&0<r;)t.$lc++,n.push(t.$lines[t.$lc]);return n},$Reader.seek=function(e,t,r){if(e.closed===True)throw _b_.ValueError.$factory("I/O operation on closed file");return void 0===r&&(r=0),0===r?e.$counter=t:1===r?e.$counter+=t:2===r&&(e.$counter=e.$length+t),None},$Reader.seekable=function(e){return!0},$Reader.tell=function(e){return e.$counter},$Reader.write=function(e,t){if(-1==e.mode.indexOf("w"))throw void 0===$B.$io.UnsupportedOperation&&($B.$io.UnsupportedOperation=$B.$class_constructor("UnsupportedOperation",{},[_b_.Exception],["Exception"])),$B.$call($B.$io.UnsupportedOperation)("not writable");if(-1==e.mode.indexOf("b")){if("string"!=typeof t)throw _b_.TypeError.$factory(`write() argument must be str, not ${class_name(t)}`);e.$content+=t}else{if(!_b_.isinstance(t,[_b_.bytes,_b_.bytearray]))throw _b_.TypeError.$factory(`write() argument must be bytes, not ${class_name(t)}`);e.$content.source=e.$content.source.concat(t.source)}$B.file_cache[e.name]=e.$content},$Reader.writable=function(e){return!1},$B.set_func_names($Reader,"builtins");var $BufferedReader=$B.make_class("_io.BufferedReader",function(e){return{__class__:$BufferedReader,$binary:!0,$content:e,$read_func:$B.$getattr(e,"read")}});$BufferedReader.__mro__=[$Reader,_b_.object],$BufferedReader.read=function(e,t){return void 0===e.$read_func?$Reader.read(e,void 0===t?-1:t):e.$read_func(t||-1)};var $TextIOWrapper=$B.make_class("_io.TextIOWrapper",function(){var e=$B.args("TextIOWrapper",6,{buffer:null,encoding:null,errors:null,newline:null,line_buffering:null,write_through:null},["buffer","encoding","errors","newline","line_buffering","write_through"],arguments,{encoding:"utf-8",errors:_b_.None,newline:_b_.None,line_buffering:_b_.False,write_through:_b_.False},null,null);return{__class__:$TextIOWrapper,$content:_b_.bytes.decode(e.buffer.$content,e.encoding),encoding:e.encoding,errors:e.errors,newline:e.newline}});function $url_open(){var e=$B.args("open",3,{file:null,mode:null,encoding:null},["file","mode","encoding"],arguments,{mode:"r",encoding:"utf-8"},"args","kw"),t=e.file,r=e.mode,n=e.encoding,a={};"locale"==n&&(n="utf-8");var s=r.search("b")>-1;if(r.search("w")>-1)return(u={$binary:s,$content:s?_b_.bytes.$factory():"",$encoding:n,closed:False,mode:r,name:t}).__class__=s?$BufferedReader:$TextIOWrapper,$B.file_cache[t]=u.$content,u;if(-1==["r","rb"].indexOf(r))throw _b_.ValueError.$factory("Invalid mode '"+r+"'");if(isinstance(t,_b_.str)){if($B.file_cache.hasOwnProperty(e.file)){var o=$B.file_cache[e.file];a.content=o,s&&"string"==typeof o?a.content=_b_.str.encode(o,"utf-8"):o.__class__!==_b_.bytes||s||(a.content=_b_.bytes.decode(o,n))}else if($B.files&&$B.files.hasOwnProperty(e.file)){var i=atob($B.files[e.file].content),_=[];for(const e of i)_.push(e.charCodeAt(0));if(a.content=_b_.bytes.$factory(_),!s)try{a.content=_b_.bytes.decode(a.content,n)}catch(e){a.error=e}}else{if("file"==$B.protocol)throw _b_.FileNotFoundError.$factory("cannot use 'open()' with protocol 'file'");var l=new XMLHttpRequest;l.overrideMimeType("text/plain;charset=x-user-defined"),l.onreadystatechange=function(){if(4==this.readyState){var e=this.status;if(404==e)a.error=_b_.FileNotFoundError.$factory(t);else if(200!=e)a.error=_b_.IOError.$factory("Could not open file "+t+" : status "+e);else{for(var r=[],o=0,i=this.response.length;o<i;o++){var _=this.response.codePointAt(o);_>63232&&(_-=63232),r.push(_)}if(a.content=_b_.bytes.$factory(r),!s)try{a.content=_b_.bytes.decode(a.content,n)}catch(e){a.error=e}}}};var c=$B.$options.cache?"":"?foo="+(new Date).getTime();l.open("GET",encodeURI(t+c),!1),l.send()}if(void 0!==a.error)throw a.error;var u;return(u={$binary:s,$content:a.content,$counter:0,$encoding:n,$length:s?a.content.source.length:a.content.length,closed:False,mode:r,name:t}).__class__=s?$BufferedReader:$TextIOWrapper,u}throw _b_.TypeError.$factory("invalid argument for open(): "+_b_.str.$factory(t))}$TextIOWrapper.__mro__=[$Reader,_b_.object],$B.set_func_names($TextIOWrapper,"builtins"),$B.Reader=$Reader,$B.TextIOWrapper=$TextIOWrapper,$B.BufferedReader=$BufferedReader;var zip=$B.make_class("zip",function(){var e={__class__:zip,items:[]};if(0==arguments.length)return e;for(var t,r=$B.args("zip",0,{},[],arguments,{},"args","kw"),n=r.args,a=r.kw.$string_dict.strict&&r.kw.$string_dict.strict[0],s=[],o=!0,i=0;i<n.length;i++){if(o&&Array.isArray(n[i])){if(a)if(0==i)var _=n[i].length;else if(n[i]!=_)throw _b_.ValueError.$factory(`zip() argument ${i} is ${n[i]>_?"longer":"shorter"} than argument `+(i-1));(void 0===t||n[i].length<t)&&(t=n[i].length)}else o=!1;var l=$B.$call($B.$getattr(iter(n[i]),"__next__"));s.push(l)}var c=[];if(o){$B.nb_zip_list=void 0===$B.nb_zip_list?1:$B.nb_zip_list+1;for(i=0;i<t;i++){for(var u=[],f=0;f<n.length;f++)u.push(n[f][i]);c.push($B.fast_tuple(u))}return e.items=c,zip_iterator.$factory(c)}return $B.generator.$factory(function*(e){for(;;){for(var t=[],r=!0,n=0;n<e.length;n++)try{t.push(e[n]())}catch(t){if(t.__class__==_b_.StopIteration){if(a){if(n>0)throw _b_.ValueError.$factory(`zip() argument ${n+1} is shorter than argument ${n}`);for(var s=1;s<e.length;s++){var o=!0;try{e[s](),o=!1}catch(e){}if(!o)throw _b_.ValueError.$factory(`zip() argument ${s+1} is longer than argument ${n+1}`)}}r=!1;break}throw t}if(!r)return;yield $B.fast_tuple(t)}},"zip")(s)}),zip_iterator=$B.make_iterator_class("zip");function no_set_attr(e,t){throw void 0!==e[t]?_b_.AttributeError.$factory("'"+e.$infos.__name__+"' object attribute '"+t+"' is read-only"):$B.attr_error(t,e)}zip.__iter__=function(e){return zip_iterator.$factory(e.items)},$B.set_func_names(zip,"builtins");var True=!0,False=!1,ellipsis=$B.make_class("ellipsis",function(){return Ellipsis});ellipsis.__repr__=function(e){return"Ellipsis"};var Ellipsis={__class__:ellipsis};for(var $key in $B.$comps)switch($B.$comps[$key]){case"ge":case"gt":case"le":case"lt":ellipsis["__"+$B.$comps[$key]+"__"]=function(e){return function(t){throw _b_.TypeError.$factory("unorderable types: ellipsis() "+e+" "+$B.class_name(t))}}($key)}for(var $func in Ellipsis)"function"==typeof Ellipsis[$func]&&(Ellipsis[$func].__str__=function(e){return function(){return"<method-wrapper "+e+" of Ellipsis object>"}}($func));$B.set_func_names(ellipsis);var FunctionCode=$B.make_class("function code"),FunctionGlobals=$B.make_class("function globals");$B.Function={__class__:_b_.type,__code__:{__class__:FunctionCode,__name__:"function code"},__globals__:{__class__:FunctionGlobals,__name__:"function globals"},__mro__:[_b_.object],$infos:{__name__:"function",__module__:"builtins"},$is_class:!0},$B.Function.__delattr__=function(e,t){if("__dict__"==t)throw _b_.TypeError.$factory("can't deleted function __dict__")},$B.Function.__dir__=function(e){var t=e.$infos||{},r=e.$attrs||{};return Object.keys(t).concat(Object.keys(r)).filter(e=>!e.startsWith("$"))},$B.Function.__eq__=function(e,t){return e===t},$B.Function.__get__=function(e,t){if(t===_b_.None)return e;var r=function(){return e(t,...arguments)};return r.__class__=$B.method,void 0===e.$infos&&(console.log("no $infos",e),console.log($B.last($B.frames_stack))),r.$infos={__name__:e.$infos.__name__,__qualname__:$B.class_name(t)+"."+e.$infos.__name__,__self__:t,__func__:e},r},$B.Function.__getattribute__=function(e,t){if(!e.$infos||void 0===e.$infos[t]){if(e.$infos&&e.$infos.__dict__&&void 0!==e.$infos.__dict__.$string_dict[t])return e.$infos.__dict__.$string_dict[t][0];if("__closure__"==t){var r=e.$infos.__code__.co_freevars;if(0==r.length)return None;for(var n=[],a=0;a<r.length;a++)try{n.push($B.cell.$factory($B.$check_def_free(r[a])))}catch(e){n.push($B.cell.$factory(None))}return _b_.tuple.$factory(n)}return"__globals__"==t?$B.obj_dict($B.imported[e.$infos.__module__]):e.$attrs&&void 0!==e.$attrs[t]?e.$attrs[t]:_b_.object.__getattribute__(e,t)}if("__code__"==t){var s={__class__:code};for(var t in e.$infos.__code__)s[t]=e.$infos.__code__[t];return s.name=e.$infos.__name__,s.filename=e.$infos.__code__.co_filename,s.co_code=e+"",s}return"__annotations__"==t?$B.obj_dict(e.$infos[t]):e.$infos.hasOwnProperty(t)?e.$infos[t]:void 0},$B.Function.__repr__=function(e){return void 0===e.$infos?"<function "+e.name+">":"<function "+e.$infos.__qualname__+">"},$B.Function.__mro__=[_b_.object],$B.Function.__setattr__=function(e,t,r){if("__closure__"==t)throw _b_.AttributeError.$factory("readonly attribute");if("__defaults__"==t){if(r===_b_.None)r=[];else if(!isinstance(r,_b_.tuple))throw _b_.TypeError.$factory("__defaults__ must be set to a tuple object");var n=e.$set_defaults;if(void 0===n)throw _b_.AttributeError.$factory("cannot set attribute "+t+" of "+_b_.str.$factory(e));if(!e.$infos||!e.$infos.__code__)throw _b_.AttributeError.$factory("cannot set attribute "+t+" of "+_b_.str.$factory(e));for(var a=e.$infos.__code__.co_argcount,s=e.$infos.__code__.co_varnames.slice(0,a),o={},i=r.length-1;i>=0;i--){var _=s.length-r.length+i;if(_<0)break;o[s[_]]=r[i]}var l=e.$infos.$class,c=n(o);return c.$set_defaults=n,l?(l[e.$infos.__name__]=c,c.$infos.$class=l,c.$infos.__defaults__=r):(e.$infos.$defaults=r,e.$infos.__defaults__=r),_b_.None}void 0!==e.$infos[t]?e.$infos[t]=r:(e.$attrs=e.$attrs||{},e.$attrs[t]=r)},$B.Function.$factory=function(){},$B.set_func_names($B.Function,"builtins"),_b_.__BRYTHON__=__BRYTHON__,$B.builtin_funcs=["__build_class__","abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dir","divmod","eval","exec","exit","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","locals","max","min","next","oct","open","ord","pow","print","quit","repr","round","setattr","sorted","sum","vars"];var builtin_function=$B.builtin_function=$B.make_class("builtin_function_or_method",function(e){return e.__class__=builtin_function,e});builtin_function.__getattribute__=$B.Function.__getattribute__,builtin_function.__reduce_ex__=builtin_function.__reduce__=function(e){return e.$infos.__name__},builtin_function.__repr__=builtin_function.__str__=function(e){return"<built-in function "+e.$infos.__name__+">"},$B.set_func_names(builtin_function,"builtins");var method_wrapper=$B.make_class("method_wrapper");method_wrapper.__repr__=method_wrapper.__str__=function(e){return"<method wrapper '"+e.$infos.__name__+"' of function object>"},$B.set_func_names(method_wrapper,"builtins");var wrapper_descriptor=$B.wrapper_descriptor=$B.make_class("wrapper_descriptor");wrapper_descriptor.__getattribute__=$B.Function.__getattribute__,wrapper_descriptor.__repr__=wrapper_descriptor.__str__=function(e){return"<slot wrapper '"+e.$infos.__name__+"' of '"+e.__objclass__.$infos.__name__+"' object>"},$B.set_func_names(wrapper_descriptor,"builtins"),$B.builtin_classes=["bool","bytearray","bytes","classmethod","complex","dict","enumerate","filter","float","frozenset","int","list","map","memoryview","object","property","range","reversed","set","slice","staticmethod","str","super","tuple","type","zip"];for(var other_builtins=["Ellipsis","False","None","True","__debug__","__import__","copyright","credits","license","NotImplemented"],builtin_names=$B.builtin_funcs.concat($B.builtin_classes).concat(other_builtins),i=0;i<builtin_names.length;i++){var name=builtin_names[i],orig_name=name,name1=name;"open"==name&&(name1="$url_open"),"super"==name&&(name1="$$super"),"eval"==name&&(name1="$$eval"),"print"==name&&(name1="$print");try{_b_[name]=eval(name1),$B.builtin_funcs.indexOf(orig_name)>-1&&(_b_[name].__class__=builtin_function,_b_[name].$infos={__module__:"builtins",__name__:orig_name,__qualname__:orig_name})}catch(e){}}_b_.open=$url_open,_b_.print=$print,_b_.super=$$super,_b_.object.__init__.__class__=wrapper_descriptor,_b_.object.__new__.__class__=builtin_function}(__BRYTHON__),function($B){var _b_=$B.builtins;$B.del_exc=function(){$B.last($B.frames_stack)[1].$current_exception=void 0},$B.set_exc=function(e){var t=$B.last($B.frames_stack);if(void 0===t){var r="Internal error: no frame for exception "+_b_.repr(e);throw console.error(["Traceback (most recent call last):",$B.print_stack(e.$stack),r].join("\n")),$B.debug>1&&(console.log(e.args),console.log(e.stack)),Error(r)}t[1].$current_exception=$B.exception(e)},$B.get_exc=function(){return $B.last($B.frames_stack)[1].$current_exception},$B.set_exception_offsets=function(e,t){return e.$positions=e.$positions||{},e.$positions[$B.frames_stack.length-1]=t,e},$B.$raise=function(e,t){var r=$B.get_exc();if(void 0===e){if(void 0!==r)throw r;throw _b_.RuntimeError.$factory("No active exception to reraise")}if(_b_.isinstance(e,BaseException))throw e.__class__===_b_.StopIteration&&$B.last($B.frames_stack)[1].$is_generator&&(e=_b_.RuntimeError.$factory("generator raised StopIteration")),e.__context__=void 0===r?_b_.None:r,e.__cause__=t||_b_.None,e.__suppress_context__=void 0!==t,e;if(e.$is_class&&_b_.issubclass(e,BaseException)){if(e===_b_.StopIteration&&$B.last($B.frames_stack)[1].$is_generator)throw _b_.RuntimeError.$factory("generator raised StopIteration");var n=$B.$call(e)();throw n.__context__=void 0===r?_b_.None:r,n.__cause__=t||_b_.None,n.__suppress_context__=void 0!==t,n}throw _b_.TypeError.$factory("exceptions must derive from BaseException")},$B.print_stack=function(e){e=e||$B.frames_stack;var t=[];for(var r of e){var n=r.$lineno,a=r.__file__;if(void 0!==n){var s=r[0]==r[2]?"<module>":r[0];t.push(`  File "${a}" line ${n}, in ${s}`);var o=$B.file_cache[a];if(o){var i=o.split("\n")[n-1];t.push("    "+i.trim())}}}return t.join("\n")};var traceback=$B.traceback=$B.make_class("traceback",function(e){var t=e.$stack||$B.frames_stack.slice();return _b_.isinstance(e,_b_.SyntaxError)&&t.pop(),{__class__:traceback,$stack:t,linenos:t.map(e=>e.$lineno),pos:0}});traceback.__getattribute__=function(e,t){switch(t){case"tb_frame":return e.$stack[e.pos];case"tb_lineno":return e.linenos[e.pos];case"tb_lasti":return-1;case"tb_next":return e.pos<e.$stack.length-1?(e.pos++,e):_b_.None;default:return _b_.object.__getattribute__(e,t)}},$B.set_func_names(traceback,"builtins");var frame=$B.frame=$B.make_class("frame",function(e){return e.__class__=frame,e});frame.__delattr__=function(e,t){"f_trace"==t&&(e[1].$f_trace=_b_.None)},frame.__dir__=function(e){return _b_.object.__dir__(frame).concat(["clear","f_back","f_builtins","f_code","f_globals","f_lasti","f_lineno","f_locals","f_trace","f_trace_lines","f_trace_opcodes"])},frame.__getattr__=function(e,t){if("f_back"==t){var r=$B.frames_stack.indexOf(e);return r>0?frame.$factory($B.frames_stack[r-1]):_b_.None}if("clear"==t)return function(){};if("f_trace"==t){var n=e[1];return void 0===n.$f_trace?_b_.None:n.$f_trace}},frame.__setattr__=function(e,t,r){"f_trace"==t&&(e[1].$f_trace=r)},frame.__str__=frame.__repr__=function(e){return"<frame object, file "+e.__file__+", line "+e.$lineno+", code "+frame.f_code.__get__(e).co_name+">"},frame.f_code={__get__:function(e){var t;return(t=e[4]?e[4].$infos.__code__:{co_name:e[0]==e[2]?"<module>":e[0],co_filename:e.__file__,co_varnames:$B.fast_tuple([])}).__class__=$B.code,t}},frame.f_globals={__get__:function(e){return $B.obj_dict(e[3])}},frame.f_lineno={__get__:function(e){return e.$lineno}},frame.f_locals={__get__:function(e){return $B.obj_dict(e[1])}},frame.f_trace={__get__:function(e){return e[1].$f_trace}},$B.set_func_names(frame,"builtins"),$B._frame=frame;var BaseException=_b_.BaseException={__class__:_b_.type,__bases__:[_b_.object],__mro__:[_b_.object],args:[],$infos:{__name__:"BaseException",__module__:"builtins"},$is_class:!0};BaseException.__init__=function(e){var t=void 0===arguments[1]?[]:[arguments[1]];e.args=_b_.tuple.$factory(t)},BaseException.__repr__=function(e){var t=e.__class__.$infos.__name__+"(";return void 0!==e.args[0]&&(t+=_b_.repr(e.args[0])),e.args.length>1&&(t+=", "+_b_.repr($B.fast_tuple(e.args.slice(1)))),t+")"},BaseException.__str__=function(e){return e.args.length>0&&e.args[0]!==_b_.None?_b_.str.$factory(e.args[0]):""},BaseException.__new__=function(e){var t=_b_.BaseException.$factory();return t.__class__=e,t.__dict__=$B.empty_dict(),t},BaseException.__getattr__=function(e,t){if("__context__"==t)return $B.last($B.frames_stack)[1].$current_exception||_b_.None;throw $B.attr_error(t,e)},BaseException.with_traceback=function(e,t){return e.__traceback__=t,e},$B.deep_copy=function(e){var t=[];for(const a of e){var r=[a[0],{},a[2],{}];void 0!==a[4]&&r.push(a[4]);for(const e of[1,3])for(var n in a[e])r[e][n]=a[e][n];t.push(r)}return t},$B.save_stack=function(){return $B.deep_copy($B.frames_stack)},$B.restore_stack=function(e,t){$B.frames_stack=e,$B.frames_stack[$B.frames_stack.length-1][1]=t},$B.freeze=function(e){void 0===e.$stack&&(e.$stack=$B.frames_stack.slice(),e.$linenos=$B.frames_stack.map(e=>e.$lineno)),e.__traceback__=traceback.$factory(e)};var show_stack=$B.show_stack=function(e){e=e||$B.frames_stack;for(const t of e)console.log(t[0],t[1].$line_info)},be_factory="\nfunction (){\n    var err = Error()\n    err.args = $B.fast_tuple(Array.prototype.slice.call(arguments))\n    err.__class__ = _b_.BaseException\n    err.__traceback__ = _b_.None\n    err.$py_error = true\n    // placeholder\n    err.__cause__ = _b_.None // XXX fix me\n    err.__context__ = _b_.None // XXX fix me\n    err.__suppress_context__ = false // XXX fix me\n    return err}";eval("BaseException.$factory = "+be_factory),BaseException.$factory.$infos={__name__:"BaseException",__qualname__:"BaseException"},$B.set_func_names(BaseException),_b_.BaseException=BaseException,$B.exception=function(e,t){if(e.__class__){s=e;if($B.freeze(s),t)for(var r=$B.last($B.frames_stack)[0],n=0,a=s.$stack.length;n<a;n++)if(s.$stack[n][0]==r){s.$stack=s.$stack.slice(n),s.$traceback=traceback.$factory(s);break}}else{if(e.$py_exc)return e.$py_exc;var s;if(console.log("js exc",e),(s=_b_.Exception.$factory("Internal Javascript error: "+(e.__name__||e.name))).__name__="Internal Javascript error: "+(e.__name__||e.name),s.$js_exc=e,$B.is_recursion_error(e))return _b_.RecursionError.$factory("too much recursion");s.__cause__=_b_.None,s.__context__=_b_.None,s.__suppress_context__=!1;var o="<Javascript "+e.name+">: "+(e.message||"<"+e+">");s.args=_b_.tuple.$factory([o]),s.$py_error=!0,s.$stack=$B.frames_stack.slice(),e.$py_exc=s,$B.freeze(s)}return s},$B.is_exc=function(e,t){void 0===e.__class__&&(e=$B.exception(e));for(var r=e.$is_class?e:e.__class__,n=0;n<t.length;n++){var a=t[n];if(void 0===r&&console.log("exc class undefined",e),_b_.issubclass(r,a))return!0}return!1},$B.is_recursion_error=function(e){var t=(e+"").split(":"),r=t[0].trim(),n=t[1].trim();return"InternalError"==r&&"too much recursion"==n||"Error"==r&&"Out of stack space"==n||"RangeError"==r&&"Maximum call stack size exceeded"==n};var $make_exc=$B.$make_exc=function(names,parent){var _str=[],pos=0;for(var name of names){var code="";if(Array.isArray(name))var code=name[1],name=name[0];$B.builtins_scope[name]=!0;var $exc=be_factory.replace(/BaseException/g,name);$exc=$exc.replace("// placeholder",code),_str[pos++]="_b_."+name+" = {__class__:_b_.type, __bases__: [_b_."+parent.$infos.__name__+"], __mro__: [_b_."+parent.$infos.__name__+"].concat(parent.__mro__), $is_class: true,$infos: {__name__:'"+name+"'}}",_str[pos++]="_b_."+name+".$factory = "+$exc,_str[pos++]="_b_."+name+'.$factory.$infos = {__name__: "'+name+'", __qualname__: "'+name+'"}',_str[pos++]="$B.set_func_names(_b_."+name+", 'builtins')"}try{eval(_str.join(";"))}catch(e){throw console.log("--err"+e),console.log(_str.join("")),e}};$make_exc(["SystemExit","KeyboardInterrupt","GeneratorExit","Exception"],BaseException),$make_exc([["StopIteration","err.value = arguments[0] || _b_.None"],["StopAsyncIteration","err.value = arguments[0]"],"ArithmeticError","AssertionError","BufferError","EOFError",["ImportError","err.name = arguments[0]"],"LookupError","MemoryError","OSError","ReferenceError","RuntimeError",["SyntaxError","err.msg = arguments[0]"],"SystemError","TypeError","ValueError","Warning"],_b_.Exception),$make_exc(["FloatingPointError","OverflowError","ZeroDivisionError"],_b_.ArithmeticError),$make_exc([["ModuleNotFoundError","err.name = arguments[0]"]],_b_.ImportError),$make_exc(["IndexError","KeyError"],_b_.LookupError),$make_exc(["BlockingIOError","ChildProcessError","ConnectionError","FileExistsError","FileNotFoundError","InterruptedError","IsADirectoryError","NotADirectoryError","PermissionError","ProcessLookupError","TimeoutError"],_b_.OSError),$make_exc(["BrokenPipeError","ConnectionAbortedError","ConnectionRefusedError","ConnectionResetError"],_b_.ConnectionError),$make_exc(["NotImplementedError","RecursionError"],_b_.RuntimeError),$make_exc([["IndentationError","err.msg = arguments[0]"]],_b_.SyntaxError),$make_exc(["TabError"],_b_.IndentationError),$make_exc(["UnicodeError"],_b_.ValueError),$make_exc(["UnicodeDecodeError","UnicodeEncodeError","UnicodeTranslateError"],_b_.UnicodeError),$make_exc(["DeprecationWarning","PendingDeprecationWarning","RuntimeWarning","SyntaxWarning","UserWarning","FutureWarning","ImportWarning","UnicodeWarning","BytesWarning","ResourceWarning","EncodingWarning"],_b_.Warning),$make_exc(["EnvironmentError","IOError","VMSError","WindowsError"],_b_.OSError);var js='\nvar $ = $B.args("AttributeError", 1, {"msg": null, "name":null, "obj":null}, ["msg", "name", "obj"], arguments, {msg: _b_.None, name: _b_.None, obj: _b_.None}, "*", null);\nerr.args = $B.fast_tuple($.msg === _b_.None ? [] : [$.msg])\n;err.name = $.name\nerr.obj = $.obj\n';$make_exc([["AttributeError",js]],_b_.Exception),_b_.AttributeError.__str__=function(e){var t=e.args[0],r=offer_suggestions_for_attribute_error(e);return r&&(t+=`. Did you mean: '${r}'?`),t},$B.set_func_names(_b_.AttributeError,"builtins"),$B.attr_error=function(e,t){if(t.$is_class)var r=`type object '${t.$infos.__name__}'`;else r=`'${$B.class_name(t)}' object`;return r+=` has no attribute '${e}'`,_b_.AttributeError.$factory({$nat:"kw",kw:{name:e,obj:t,msg:r}})};var js='\nvar $ = $B.args("NameError", 1, {"name":null}, ["name"], arguments, {name: _b_.None}, "*", null);\nerr.args = $B.fast_tuple($.name === _b_.None ? [] : [$.name])\n;err.name = $.name\n';$make_exc([["NameError",js]],_b_.Exception),_b_.NameError.__str__=function(e){var t=`name '${e.name}' is not defined`,r=offer_suggestions_for_name_error(e);return r&&(t+=`. Did you mean: '${r}'?`),t},$B.set_func_names(_b_.NameError,"builtins"),$make_exc(["UnboundLocalError"],_b_.NameError),_b_.UnboundLocalError.__str__=function(e){return e.args[0]},$B.set_func_names(_b_.UnboundLocalError,"builtins"),$B.name_error=function(e,t){return _b_.NameError.$factory({$nat:"kw",kw:{name:e}})};var MAX_CANDIDATE_ITEMS=750,MAX_STRING_SIZE=40,MOVE_COST=2,CASE_COST=1,SIZE_MAX=65535;function LEAST_FIVE_BITS(e){return 31&e}function levenshtein_distance(e,t,r){if(e==t)return 0;for(e.length<t.length&&([e,t]=[t,e]);e.length&&e[0]==t[0];)e=e.substr(1),t=t.substr(1);for(;e.length&&e[e.length-1]==t[t.length-1];)e=e.substr(0,e.length-1),t=t.substr(0,t.length-1);if(0==t.length)return e.length*MOVE_COST;if((t.length-e.length)*MOVE_COST>r)return r+1;for(var n=[],a=0;a<e.length;a++)n[a]=(a+1)*MOVE_COST;for(var s=0,o=0;o<t.length;o++){for(var i=t[o],_=s=o*MOVE_COST,l=SIZE_MAX,c=0;c<e.length;c++){var u=_+substitution_cost(i,e[c]);_=n[c];var f=Math.min(s,_)+MOVE_COST;s=Math.min(f,u),n[c]=s,s<l&&(l=s)}if(l>r)return r+1}return s}function substitution_cost(e,t){return LEAST_FIVE_BITS(e)!=LEAST_FIVE_BITS(t)?MOVE_COST:e==t?0:e.toLowerCase()==t.toLowerCase()?CASE_COST:MOVE_COST}function calculate_suggestions(e,t){if(e.length>=MAX_CANDIDATE_ITEMS)return null;var r=2**52,n=null;for(var a of e){var s=(t.length+a.length+3)*MOVE_COST/6,o=levenshtein_distance(t,a,s=Math.min(s,r-1));o>s||(!n||o<r)&&(n=a,r=o)}return n}function offer_suggestions_for_attribute_error(e){var t=e.name,r=e.obj;return calculate_suggestions(_b_.dir(r),t)}function offer_suggestions_for_name_error(e){var t,r=e.name,n=$B.last(e.$stack);if(t=calculate_suggestions(Object.keys(n[1]).filter(e=>!e.startsWith("$")),r))return t;if(n[2]!=n[0]&&(t=calculate_suggestions(Object.keys(n[3]).filter(e=>!e.startsWith("$")),r)))return t}var exc_group_code="\nvar missing = {},\n    $ = $B.args(\"[[name]]\", 2, {message: null, exceptions: null}, ['message', 'exceptions'], arguments, {exceptions: missing}, null, null)\nerr.message = $.message\nerr.exceptions = $.exceptions === missing ? [] : $.exceptions\n",js=exc_group_code.replace("[[name]]","BaseExceptionGroup");js+="var exc_list = _b_.list.$factory(err.exceptions)\nvar all_exceptions = true\nfor(var exc of exc_list){\n    if(! _b_.isinstance(exc, _b_.Exception)){\n        all_exceptions = false\n        break\n    }}\nif(all_exceptions){\n    err.__class__ = _b_.ExceptionGroup}\n",$make_exc([["BaseExceptionGroup",js]],_b_.BaseException),_b_.BaseExceptionGroup.subgroup=function(e,t){var r=[];for(var n of e.exceptions)if(_b_.isinstance(n,_b_.BaseExceptionGroup)){var a=_b_.BaseExceptionGroup.subgroup(n,t);a===_b_.None||(a.exceptions.length==n.exceptions.length?r.push(n):a.exceptions.length>0&&(r=r.concat(a)))}else t(n)&&r.push(n);if(0==r.length)return _b_.None;var s=_b_.BaseExceptionGroup.$factory(e.message,r);return s.__cause__=e.__cause__,s.__context__=e.__context__,s.__traceback__=e.__traceback__,s};var js=exc_group_code.replace("[[name]]","ExceptionGroup");function trace_from_stack(e){function t(e,t){if(t>0){for(var r=a.length,n=0;n<2&&(e?(a.push(a[r-2]),a.push(a[r-1])):a.push(a[r-1]),0!=--t);n++);t>0&&a.push(`[Previous line repeated ${t} more time${t>1?"s":""}]`)}}for(var r,n,a=[],s=0,o=0,i=e.$stack.length;o<i;o++){var _=e.$stack[o],l=e.$linenos[o],c=_.__file__;if(c!=r||l!=n){t(u,s),r=c,n=l,s=0;var u=$B.file_cache[c];if(a.push(`  File ${c}, line ${l}, in `+(_[0]==_[2]?"<module>":_[0])),u){var f=u.split("\n")[l-1];if(f&&a.push("    "+f.trim()),void 0!==e.$positions){var p=e.$positions[o],d="";if(p&&(p[1]!=p[0]||p[2]-p[1]!=f.trim().length||p[3])){var h=f.length-f.trimLeft().length;d+="    "+" ".repeat(p[0]-h)+"~".repeat(p[1]-p[0])+"^".repeat(p[2]-p[1]),void 0!==p[3]&&(d+="~".repeat(p[3]-p[2])),a.push(d)}}}}else s++}if(s>0){i=a.length;for(var $=0;$<2;$++)u?(a.push(a[i-2]),a.push(a[i-1])):a.push(a[i-1]);a.push(`[Previous line repeated ${s-2} more times]`)}return a.join("\n")+"\n"}js+="var exc_list = _b_.list.$factory(err.exceptions)\nfor(var exc of exc_list){\n    if(! _b_.isinstance(exc, _b_.Exception)){\n        throw _b_.TypeError.$factory(\n            'Cannot nest BaseExceptions in an ExceptionGroup')\n    }}\n",$make_exc([["ExceptionGroup",js]],_b_.Exception),_b_.ExceptionGroup.__bases__.splice(0,0,_b_.BaseExceptionGroup),_b_.ExceptionGroup.__mro__.splice(0,0,_b_.BaseExceptionGroup),_b_.ExceptionGroup.__str__=function(e){return`${e.message} (${e.exceptions.length} sub-exception`+(e.exceptions.length>1?"s":"")+")"},$B.set_func_names(_b_.ExceptionGroup,"builtins"),$B.show_error=function(e){$B.debug>1&&(console.log("handle error",e.__class__,e.args),console.log("stack",e.$stack),console.log(e.stack));var t="";if(e.$stack&&e.$stack.length>0&&(t="Traceback (most recent call last):\n"),e.__class__===_b_.SyntaxError||e.__class__===_b_.IndentationError){e.$stack.pop(),t+=trace_from_stack(e);var r=e.filename,n=e.text,a=n.length-n.trimLeft().length;if(t+=`  File ${r}, line ${e.args[1][1]}\n    ${n.trim()}\n`,e.__class__!==_b_.IndentationError&&e.text){var s=e.offset-a-1,o="    "+" ".repeat(s),i=1;e.end_lineno&&(i=e.end_lineno>e.lineno?n.length-s-a:e.end_offset-s-a-1),t+=o+="^".repeat(i)+"\n"}t+=`${e.__class__.$infos.__name__}: ${e.args[0]}`}else if(void 0!==e.__class__){var _=$B.class_name(e);t+=trace_from_stack(e),t+=_+": "+_b_.str.$factory(e)}else console.log(e),t=e+"";try{$B.$getattr($B.stderr,"write")(t);var l=$B.$getattr($B.stderr,"flush",_b_.None);l!==_b_.None&&l()}catch(e){console.debug(t)}},$B.handle_error=function(e){if(!e.$handled)throw e.$handled=!0,$B.show_error(e),e}}(__BRYTHON__),function(e){var t=e.builtins,r=t.None,n={__class__:t.type,__mro__:[t.object],$infos:{__module__:"builtins",__name__:"range"},$is_class:!0,$native:!0,$match_sequence_pattern:!0,$descriptors:{start:!0,step:!0,stop:!0}};function a(t,r){var a=n.__len__(t);return 0==a?t.start:r>a?t.stop:e.add(t.start,e.mul(t.step,r))}n.__contains__=function(r,a){if(0==n.__len__(r))return!1;try{a=e.int_or_bool(a)}catch(e){try{return n.index(r,a),!0}catch(e){return!1}}var s=t.int.$to_bigint(r.start),o=t.int.$to_bigint(r.stop),i=t.int.$to_bigint(r.step),_=(a=t.int.$to_bigint(a))-s;return i*(_/i)==_&&(o>s?a>=s&&o>a:s>=a&&a>o)},n.__delattr__=function(e,r,n){throw t.AttributeError.$factory("readonly attribute")},n.__eq__=function(r,a){if(t.isinstance(a,n)){var s=n.__len__(r);return!!e.eq(s,n.__len__(a))&&(0==s||!!e.eq(r.start,a.start)&&(1==s||e.eq(r.step,a.step)))}return!1},n.__getitem__=function(r,s){if(t.isinstance(s,t.slice)){var o=t.slice.$conv_for_seq(s,n.__len__(r)),i=e.mul(r.step,o.step),_=a(r,o.start),l=a(r,o.stop);return n.$factory(_,l,i)}"number"!=typeof s&&(s=e.$GetInt(s)),e.gt(0,s)&&(s=e.add(s,n.__len__(r)));var c=e.add(r.start,e.mul(s,r.step));if(e.gt(r.step,0)&&(e.ge(c,r.stop)||e.gt(r.start,c))||e.gt(0,r.step)&&(e.ge(r.stop,c)||e.gt(c,r.start)))throw t.IndexError.$factory("range object index out of range");return c},n.__hash__=function(e){var a=n.__len__(e);return 0==a?t.hash(t.tuple.$factory([0,r,r])):1==a?t.hash(t.tuple.$factory([1,e.start,r])):t.hash(t.tuple.$factory([a,e.start,e.step]))};var s={__class__:t.type,__mro__:[t.object],__iter__:function(e){return e},__next__:function(e){return t.next(e.obj)},$infos:{__name__:"range_iterator",__module__:"builtins"},$is_class:!0,$factory:function(e){return{__class__:s,obj:e}}};e.set_func_names(s,"builtins"),n.__iter__=function(t){var r={__class__:n,start:t.start,stop:t.stop,step:t.step};return t.$safe?r.$counter=t.start-t.step:r.$counter=e.sub(t.start,t.step),s.$factory(r)},n.__len__=function(e){var r,n=t.int.$to_bigint(e.start),a=t.int.$to_bigint(e.stop),s=t.int.$to_bigint(e.step);if(e.step>0){if(e.start>=e.stop)return 0;r=1n+(a-n-1n)/s}else{if(e.stop>=e.start)return 0;r=1n+(n-a-1n)/-s}return t.int.$int_or_long(r)},n.__next__=function(r){if(r.$safe){if(r.$counter+=r.step,r.step>0&&r.$counter>=r.stop||r.step<0&&r.$counter<=r.stop)throw t.StopIteration.$factory("")}else if(r.$counter=e.add(r.$counter,r.step),e.gt(r.step,0)&&e.ge(r.$counter,r.stop)||e.gt(0,r.step)&&e.ge(r.stop,r.$counter))throw t.StopIteration.$factory("");return r.$counter},n.__reversed__=function(t){var r=e.sub(n.__len__(t),1);return n.$factory(e.add(t.start,e.mul(r,t.step)),e.sub(t.start,t.step),e.mul(-1,t.step))},n.__repr__=function(r){e.builtins_repr_check(n,arguments);var a="range("+t.str.$factory(r.start)+", "+t.str.$factory(r.stop);return 1!=r.step&&(a+=", "+t.str.$factory(r.step)),a+")"},n.__setattr__=function(e,r,n){throw t.AttributeError.$factory("readonly attribute")},n.start=function(e){return e.start},n.step=function(e){return e.step},n.stop=function(e){return e.stop},n.count=function(r,a){if(t.isinstance(a,[t.int,t.float,t.bool]))return t.int.$factory(n.__contains__(r,a));for(var o=function(t){return e.rich_comp("__eq__",a,t)},i=n.__iter__(r),_=s.__next__,l=0;;)try{o(_(i))&&l++}catch(e){if(t.isinstance(e,t.StopIteration))return l;throw e}},n.index=function(r,a){var o=e.args("index",2,{self:null,other:null},["self","other"],arguments,{},null,null);r=o.self,a=o.other;try{a=e.int_or_bool(a)}catch(o){for(var i=function(t){return e.rich_comp("__eq__",a,t)},_=n.__iter__(r),l=s.__next__,c=0;;)try{if(i(l(_)))return c;c++}catch(e){if(t.isinstance(e,t.StopIteration))throw t.ValueError.$factory(t.str.$factory(a)+" not in range");throw e}}var u=e.sub(a,r.start),f=e.floordiv(u,r.step),p=e.mul(r.step,f);if(e.eq(p,u)){if(e.gt(r.stop,r.start)&&e.ge(a,r.start)&&e.gt(r.stop,a)||e.ge(r.start,r.stop)&&e.ge(r.start,a)&&e.gt(a,r.stop))return f;throw t.ValueError.$factory(t.str.$factory(a)+" not in range")}throw t.ValueError.$factory(t.str.$factory(a)+" not in range")},n.$factory=function(){var r=e.args("range",3,{start:null,stop:null,step:null},["start","stop","step"],arguments,{start:null,stop:null,step:null},null,null),a=r.start,s=r.stop,o=r.step;if(null===s&&null===o){if(null==a)throw t.TypeError.$factory("range expected 1 arguments, got 0");return s=e.PyNumber_Index(a),{__class__:n,start:0,stop:s,step:1,$is_range:!0,$safe:"number"==typeof s}}if(null===o&&(o=1),a=e.PyNumber_Index(a),s=e.PyNumber_Index(s),0==(o=e.PyNumber_Index(o)))throw t.ValueError.$factory("range arg 3 must not be zero");return{__class__:n,start:a,stop:s,step:o,$is_range:!0,$safe:"number"==typeof a&&"number"==typeof s&&"number"==typeof o}},e.set_func_names(n,"builtins");var o={__class__:t.type,__mro__:[t.object],$infos:{__module__:"builtins",__name__:"slice"},$is_class:!0,$native:!0,$descriptors:{start:!0,step:!0,stop:!0}};function i(r){for(var n=["start","stop","step"],a=[],s=0;s<n.length;s++){var o=r[n[s]];if(o===t.None)a.push(o);else try{a.push(e.PyNumber_Index(o))}catch(e){throw t.TypeError.$factory("slice indices must be integers or None or have an __index__ method")}}return a}o.__eq__=function(e,t){var r=i(e),n=i(t);return r[0]==n[0]&&r[1]==n[1]&&r[2]==n[2]},o.__repr__=function(r){return e.builtins_repr_check(o,arguments),"slice("+t.str.$factory(r.start)+", "+t.str.$factory(r.stop)+", "+t.str.$factory(r.step)+")"},o.__setattr__=function(e,r,n){throw t.AttributeError.$factory("readonly attribute")},o.$conv_for_seq=function(n,a){var s,o=n.step===r?1:e.PyNumber_Index(n.step),i=e.gt(0,o),_=e.sub(a,1);if(0==o)throw t.ValueError.$factory("slice step cannot be zero");return n.start===r?s=i?_:0:(s=e.PyNumber_Index(n.start),e.gt(0,s)&&(s=e.add(s,a),e.gt(0,s)&&(s=0)),e.ge(s,a)&&(s=o<0?_:a)),n.stop===r?stop=i?-1:a:(stop=e.PyNumber_Index(n.stop),e.gt(0,stop)&&(stop=e.add(stop,a)),e.ge(stop,a)&&(stop=i?_:a)),{start:s,stop:stop,step:o}},o.start=function(e){return e.start},o.step=function(e){return e.step},o.stop=function(e){return e.stop},o.indices=function(r,n){var a=e.args("indices",2,{self:null,length:null},["self","length"],arguments,{},null,null),s=e.$GetInt(a.length);s<0&&t.ValueError.$factory("length should not be negative");var o=r.step==t.None?1:r.step;if(o<0){var i=r.start,_=r.stop;i=i==t.None?s-1:i<0?t.max(-1,i+s):t.min(s-1,r.start),_=r.stop==t.None?-1:_<0?t.max(-1,_+s):t.min(s-1,r.stop)}else{i=r.start==t.None?0:t.min(s,r.start),_=r.stop==t.None?s:t.min(s,r.stop);i<0&&(i=t.max(0,i+s)),_<0&&(_=t.max(0,_+s))}return t.tuple.$factory([i,_,o])},o.$fast_slice=function(e,r,n){return{__class__:t.slice,start:e,stop:r,step:n}},o.$factory=function(){var t=e.args("slice",3,{start:null,stop:null,step:null},["start","stop","step"],arguments,{stop:null,step:null},null,null);return o.$fast_slice(t.start,t.stop,t.step)},o.$fast_slice=function(e,r,n){null===r&&null===n?(r=e,e=t.None,n=t.None):n=null===n?t.None:n;var a={__class__:o,start:e,stop:r,step:n};return i(a),a},e.set_func_names(o,"builtins"),t.range=n,t.slice=o}(__BRYTHON__),function(e){var t=e.builtins,r={},n={};function a(e,r,n){if(void 0===r){r=[];for(var a="\r\n \t",s=0,o=4;s<o;s++)r.push(a.charCodeAt(s))}else{if(!t.isinstance(r,_))throw t.TypeError.$factory("Type str doesn't support the buffer API");r=r.source}if("l"==n){for(s=0,o=e.source.length;s<o&&-1!=r.indexOf(e.source[s]);s++);return _.$factory(e.source.slice(s))}for(s=e.source.length-1;s>=0&&-1!=r.indexOf(e.source[s]);s--);return _.$factory(e.source.slice(0,s+1))}function s(e){return!t.isinstance(e,[_,o])}e.to_bytes=function(r){var n;if(t.isinstance(r,[_,o]))n=r.source;else{var a=e.$getattr(r,"tobytes",null);if(null===a)throw t.TypeError.$factory("object doesn't support the buffer protocol");n=e.$call(a)().source}return n};var o={__class__:t.type,__mro__:[t.object],$buffer_protocol:!0,$infos:{__module__:"builtins",__name__:"bytearray"},$is_class:!0};["__delitem__","clear","copy","count","index","pop","remove","reverse"].forEach(function(e){var r;o[e]=(r=e,function(e){for(var n=[e.source],a=1,s=1,o=arguments.length;s<o;s++)n[a++]=arguments[s];return t.list[r].apply(null,n)})}),o.__hash__=t.None;var i=e.make_iterator_class("bytearray_iterator");o.__iter__=function(e){return i.$factory(e.source)},o.__mro__=[t.object],o.__repr__=o.__str__=function(e){return"bytearray("+_.__repr__(e)+")"},o.__setitem__=function(r,n,a){if(t.isinstance(n,t.int)){if(!t.isinstance(a,t.int))throw t.TypeError.$factory("an integer is required");if(a>255)throw t.ValueError.$factory("byte must be in range(0, 256)");var s=n;if(n<0&&(s=r.source.length+s),!(s>=0&&s<r.source.length))throw t.IndexError.$factory("list index out of range");r.source[s]=a}else{if(!t.isinstance(n,t.slice))throw t.TypeError.$factory("list indices must be integer, not "+e.class_name(n));var o=n.start===t.None?0:n.start,i=n.stop===t.None?r.source.length:n.stop;o<0&&(o=r.source.length+o),i<0&&(i=r.source.length+i),r.source.splice(o,i-o);try{for(var _=t.list.$factory(a),l=_.length-1;l>=0;l--){if(!t.isinstance(_[l],t.int))throw t.TypeError.$factory("an integer is required");if(_[l]>255)throw t.ValueError.$factory("byte must be in range(0, 256)");r.source.splice(o,0,_[l])}}catch(e){throw t.TypeError.$factory("can only assign an iterable")}}},o.append=function(e,r){if(2!=arguments.length)throw t.TypeError.$factory("append takes exactly one argument ("+(arguments.length-1)+" given)");if(!t.isinstance(r,t.int))throw t.TypeError.$factory("an integer is required");if(r>255)throw t.ValueError.$factory("byte must be in range(0, 256)");e.source[e.source.length]=r},o.extend=function(e,r){if(e.in_iteration)throw t.BufferError.$factory("Existing exports of data: object cannot be re-sized");if(r.__class__===o||r.__class__===_)return r.source.forEach(function(t){e.source.push(t)}),t.None;for(var n=t.iter(r);;)try{o.__add__(e,t.next(n))}catch(e){if(e===t.StopIteration)break;throw e}return t.None},o.insert=function(e,r,n){if(3!=arguments.length)throw t.TypeError.$factory("insert takes exactly 2 arguments ("+(arguments.length-1)+" given)");if(!t.isinstance(n,t.int))throw t.TypeError.$factory("an integer is required");if(n>255)throw t.ValueError.$factory("byte must be in range(0, 256)");t.list.insert(e.source,r,n)},o.$factory=function(){for(var e=[o],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);return o.__new__.apply(null,e)};var _={__class__:t.type,__mro__:[t.object],$buffer_protocol:!0,$infos:{__module__:"builtins",__name__:"bytes"},$is_class:!0,__add__:function(e,r){var n;if(t.isinstance(r,[_,o])?n=r.source:t.isinstance(r,t.memoryview)&&(n=t.memoryview.tobytes(r).source),void 0!==n)return{__class__:e.__class__,source:e.source.concat(n)};throw t.TypeError.$factory("can't concat bytes to "+t.str.$factory(r))},__contains__:function(e,t){if("number"==typeof t)return e.source.indexOf(t)>-1;if(e.source.length<t.source.length)return!1;for(var r=t.source.length,n=0;n<e.source.length-t.source.length+1;n++){for(var a=!0,s=0;s<r;s++)if(t.source[n+s]!=e.source[s]){a=!1;break}if(a)return!0}return!1}},l=e.make_iterator_class("bytes_iterator");_.__iter__=function(e){return l.$factory(e.source)},_.__eq__=function(t,r){return!s(r)&&e.$getattr(t.source,"__eq__")(r.source)},_.__ge__=function(e,r){return s(r)?t.NotImplemented:t.list.__ge__(e.source,r.source)},_.__getitem__=function(e,r){if(t.isinstance(r,t.int)){var n=r;if(r<0&&(n=e.source.length+n),n>=0&&n<e.source.length)return e.source[n];throw t.IndexError.$factory("index out of range")}if(t.isinstance(r,t.slice)){var a=t.slice.$conv_for_seq(r,e.source.length),s=a.start,o=a.stop,i=a.step,l=[],c=null;n=0;if(i>0){if((o=Math.min(o,e.source.length))<=s)return _.$factory([]);for(c=s;c<o;c+=i)l[n++]=e.source[c]}else{if(o>=s)return _.$factory([]);o=Math.max(0,o);for(c=s;c>=o;c+=i)l[n++]=e.source[c]}return _.$factory(l)}if(t.isinstance(r,t.bool))return e.source.__getitem__(t.int.$factory(r))},_.__gt__=function(e,r){return s(r)?t.NotImplemented:t.list.__gt__(e.source,r.source)},_.__hash__=function(t){if(void 0===t)return _.__hashvalue__||e.$py_next_hash--;for(var r=1,n=0,a=t.source.length;n<a;n++)r=101*r+t.source[n]&4294967295;return r},_.__init__=function(){return t.None},_.__le__=function(e,r){return s(r)?t.NotImplemented:t.list.__le__(e.source,r.source)},_.__len__=function(e){return e.source.length},_.__lt__=function(e,r){return s(r)?t.NotImplemented:t.list.__lt__(e.source,r.source)},_.__mod__=function(e,r){var n=h(e,"ascii","strict"),a=t.str.__mod__(n,r);return t.str.encode(a,"ascii")},_.__mul__=function(){for(var t=e.args("__mul__",2,{self:null,other:null},["self","other"],arguments,{},null,null),r=e.PyNumber_Index(t.other),n=[],a=t.self.source,s=a.length,o=0;o<r;o++)for(var i=0;i<s;i++)n.push(a[i]);var l=_.$factory();return l.source=n,l},_.__ne__=function(e,t){return!_.__eq__(e,t)},_.__new__=function(r,n,a,s){var o={},i=e.args("__new__",4,{cls:null,source:null,encoding:null,errors:null},["cls","source","encoding","errors"],arguments,{source:o,encoding:o,errors:o},null,null);if(i.source===o)return{__class__:i.cls,source:[]};if("string"==typeof i.source||t.isinstance(i.source,t.str)){if(i.encoding===o)throw t.TypeError.$factory("string argument without an encoding");return i.errors=i.errors===o?"strict":i.errors,{__class__:i.cls,source:$(i.source,i.encoding,i.errors)}}if(i.encoding!==o)throw t.TypeError.$factory("encoding without a string argument");if("number"==typeof i.source||t.isinstance(i.source,t.int)){var _=e.PyNumber_Index(i.source);n=[];for(var l=0;l<_;l++)n[l]=0}else if(t.isinstance(i.source,[t.bytes,t.bytearray]))n=i.source.source;else if(t.isinstance(i.source,t.memoryview))n=i.source.obj.source;else{if(Array.isArray(i.source))var c=i.source;else try{c=t.list.$factory(i.source)}catch(r){var u=e.$getattr(n,"__bytes__",t.None);if(u===t.None)throw t.TypeError.$factory(`cannot convert '${e.class_name(n)}' object to bytes`);var f=e.$call(u)();if(!t.isinstance(f,t.bytes))throw t.TypeError.$factory(`__bytes__ returned non-bytes (type ${e.class_name(f)})`);return f}for(var p of(n=[],c)){if(!((p=e.PyNumber_Index(p))>=0&&p<256))throw t.ValueError.$factory("bytes must be in range (0, 256)");n.push(p)}}return{__class__:i.cls,source:n}},_.$new=function(r,n,a,s){var o={__class__:r},i=[],_=0;if(void 0===n);else if("number"==typeof n||t.isinstance(n,t.int))for(var l=n;l--;)i[_++]=0;else if("string"==typeof n||t.isinstance(n,t.str)){if(void 0===a)throw t.TypeError.$factory("string argument without an encoding");i=$(n,a||"utf-8",s||"strict")}else{if(void 0!==a)throw console.log("encoding",a),t.TypeError.$factory("encoding without a string argument");if(Array.isArray(n))i=n;else{try{i=t.list.$factory(n)}catch(r){var c=e.$getattr(n,"__bytes__",t.None);if(c===t.None)throw t.TypeError.$factory(`cannot convert '${e.class_name(n)}' object to bytes`);var u=e.$call(c)();if(!t.isinstance(u,t.bytes))throw t.TypeError.$factory(`__bytes__ returned non-bytes (type ${e.class_name(u)})`);return u}for(l=0;l<i.length;l++){try{var f=t.int.$factory(i[l])}catch(r){throw t.TypeError.$factory("'"+e.class_name(i[l])+"' object cannot be interpreted as an integer")}if(f<0||f>255)throw t.ValueError.$factory("bytes must be in range(0, 256)")}}}return o.source=i,o.encoding=a,o.errors=s,o},_.__repr__=_.__str__=function(t){for(var r=e.special_string_repr,n="",a=0,s=t.source.length;a<s;a++){var o=t.source[a];if(void 0!==r[o])n+=r[o];else if(o<32||o>=128){var i=o.toString(16);n+="\\x"+(i=(1==i.length?"0":"")+i)}else o=="\\".charCodeAt(0)?n+="\\\\":n+=String.fromCharCode(o)}return n.indexOf("'")>-1&&-1==n.indexOf('"')?'b"'+n+'"':"b'"+n.replace(new RegExp("'","g"),"\\'")+"'"},_.__reduce_ex__=function(e){return _.__repr__(e)},_.capitalize=function(e){var t=e.source,r=t.length,n=t.slice();n[0]>96&&n[0]<123&&(n[0]-=32);for(var a=1;a<r;++a)n[a]>64&&n[a]<91&&(n[a]+=32);return _.$factory(n)},_.center=function(){var t=e.args("center",3,{self:null,width:null,fillbyte:null},["self","width","fillbyte"],arguments,{fillbyte:_.$factory([32])},null,null),r=t.width-t.self.source.length;if(r<=0)return _.$factory(t.self.source);var n=_.ljust(t.self,t.self.source.length+Math.floor(r/2),t.fillbyte);return _.rjust(n,t.width,t.fillbyte)},_.count=function(){var r=e.args("count",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:-1},null,null),n=0,a=-1,s=0;if("number"==typeof r.sub){if(r.sub<0||r.sub>255)throw t.ValueError.$factory("byte must be in range(0, 256)");s=1}else{if(!r.sub.__class__)throw t.TypeError.$factory("first argument must be a bytes-like object, not '"+e.class_name(r.sub)+"'");if(!r.sub.__class__.$buffer_protocol)throw t.TypeError.$factory("first argument must be a bytes-like object, not '"+e.class_name(r.sub)+"'");s=r.sub.source.length}do{-1!=(a=_.find(r.self,r.sub,Math.max(a+s,r.start),r.end))&&n++}while(-1!=a);return n},_.decode=function(t,r,n){var a=e.args("decode",3,{self:null,encoding:null,errors:null},["self","encoding","errors"],arguments,{encoding:"utf-8",errors:"strict"},null,null);switch(a.errors){case"strict":case"ignore":case"replace":case"surrogateescape":case"surrogatepass":case"xmlcharrefreplace":case"backslashreplace":return h(a.self,a.encoding,a.errors)}},_.endswith=function(){var r=e.args("endswith",4,{self:null,suffix:null,start:null,end:null},["self","suffix","start","end"],arguments,{start:-1,end:-1},null,null);if(t.isinstance(r.suffix,_)){-1==r.start?(r.self.source.length,r.suffix.source.length):Math.min(r.self.source.length-r.suffix.source.length,r.start);for(var n=-1==r.end?r.self.source.length:r.end,a=!0,s=r.suffix.source.length-1,o=r.suffix.source.length;s>=0&&a;--s)a=r.self.source[n-o+s]==r.suffix.source[s];return a}if(t.isinstance(r.suffix,t.tuple)){for(s=0;s<r.suffix.length;++s){if(!t.isinstance(r.suffix[s],_))throw t.TypeError.$factory("endswith first arg must be bytes or a tuple of bytes, not "+e.class_name(r.suffix));if(_.endswith(r.self,r.suffix[s],r.start,r.end))return!0}return!1}throw t.TypeError.$factory("endswith first arg must be bytes or a tuple of bytes, not "+e.class_name(r.suffix))},_.expandtabs=function(){var r=e.args("expandtabs",2,{self:null,tabsize:null},["self","tabsize"],arguments,{tabsize:8},null,null),n=[];for(let e=0;e<r.tabsize;++e)n.push(32);var a=r.self.source.slice();for(let e=0;e<a.length;++e)if(9===a[e]){var s=r.tabsize-e%r.tabsize,o=new Array(s);o.fill(32),a.splice.apply(a,[e,1].concat(o))}return t.bytes.$factory(a)},_.find=function(r,n){if(2!=arguments.length)var a=e.args("find",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:-1},null,null),s=(n=a.sub,a.start),o=a.end;else s=0,o=-1;if("number"==typeof n){if(n<0||n>255)throw t.ValueError.$factory("byte must be in range(0, 256)");return r.source.slice(0,-1==o?void 0:o).indexOf(n,s)}if(!n.__class__)throw t.TypeError.$factory("first argument must be a bytes-like object, not '"+e.class_name(n)+"'");if(!n.__class__.$buffer_protocol)throw t.TypeError.$factory("first argument must be a bytes-like object, not '"+e.class_name(n)+"'");o=-1==o?r.source.length:Math.min(r.source.length,o);for(var i=n.source.length,_=s;_<=o-i;_++){for(var l=r.source.slice(_,_+i),c=!0,u=0;u<i;u++)if(l[u]!=n.source[u]){c=!1;break}if(c)return _}return-1},_.fromhex=function(){for(var r=e.args("fromhex",2,{cls:null,string:null},["cls","string"],arguments,{},null,null),n=r.string.replace(/\s/g,""),a=[],s=0;s<n.length;s+=2){if(s+2>n.length)throw t.ValueError.$factory("non-hexadecimal number found in fromhex() arg");a.push(t.int.$factory(n.substr(s,2),16))}return r.cls.$factory(a)},_.hex=function(){var t=e.args("hex",3,{self:null,sep:null,bytes_per_sep:null},["self","sep","bytes_per_sep"],arguments,{sep:"",bytes_per_sep:1},null,null),r=t.self,n=t.sep,a=t.bytes_per_sep,s="",o="0123456789abcdef",i=a,_=i,l=r.source.length;a<0?_=i=-a:0==a?n="":0==(_=l%i)&&(_=i);for(var c=0,u=_;c<l;c++){var f=r.source[c];0==u&&(s+=n,u=i),u--,s+=o[f>>4],s+=o[15&f]}return s},_.index=function(){var r=e.args("index",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:-1},null,null),n=_.find(r.self,r.sub,r.start,r.end);if(console.log("index",n),-1==n)throw t.ValueError.$factory("subsection not found");return n},_.isalnum=function(){for(var t=e.args("isalnum",1,{self:null},["self"],arguments,{},null,null).self.source,r=t.length,n=r>0,a=0;a<r&&n;++a)n=t[a]>96&&t[a]<123||t[a]>64&&t[a]<91||t[a]>47&&t[a]<58;return n},_.isalpha=function(){for(var t=e.args("isalpha",1,{self:null},["self"],arguments,{},null,null).self.source,r=t.length,n=r>0,a=0;a<r&&n;++a)n=t[a]>96&&t[a]<123||t[a]>64&&t[a]<91;return n},_.isdigit=function(){var t=e.args("isdigit",1,{self:null},["self"],arguments,{},null,null).self.source,r=t.length,n=r>0;for(let e=0;e<r&&n;++e)n=t[e]>47&&t[e]<58;return n},_.islower=function(){var t=e.args("islower",1,{self:null},["self"],arguments,{},null,null).self.source,r=t.length,n=!1;for(let e=0;e<r;++e)if(n=n||t[e]>96&&t[e]<123,t[e]>64&&t[e]<91)return!1;return n},_.isspace=function(){var t=e.args("isspace",1,{self:null},["self"],arguments,{},null,null).self.source,r=t.length;for(let e=0;e<r;++e)switch(t[e]){case 9:case 10:case 11:case 12:case 13:case 32:break;default:return!1}return!0},_.isupper=function(){var t=e.args("isupper",1,{self:null},["self"],arguments,{},null,null).self.source,r=t.length,n=!1;for(let e=0;e<r;++e)if(n=n||t[e]>64&&t[e]<91,t[e]>96&&t[e]<123)return!1;return n},_.istitle=function(){for(var t=e.args("istitle",1,{self:null},["self"],arguments,{},null,null).self.source,r=t.length,n=!1,a=!1,s=!1,o=!1,i=0;i<r;++i){if(o=t[i]>96&&t[i]<123,s=t[i]>64&&t[i]<91,(n=o||s)&&a&&s||!a&&o)return!1;a=n}return!0},_.join=function(){for(var r=e.args("join",2,{self:null,iterable:null},["self","iterable"],arguments,{}),n=r.self,a=r.iterable,s=e.$getattr(t.iter(a),"__next__"),o=n.__class__.$factory(),i=!0;;)try{var l=s();i?i=!1:o=_.__add__(o,n),o=_.__add__(o,l)}catch(e){if(t.isinstance(e,t.StopIteration))break;throw e}return o};var c=function(e){return e>=65&&e<=90?e+32:e};_.lower=function(e){for(var t=[],r=0,n=0,a=e.source.length;n<a;n++)e.source[n]&&(t[r++]=c(e.source[n]));return _.$factory(t)},_.ljust=function(){var r=e.args("ljust",3,{self:null,width:null,fillbyte:null},["self","width","fillbyte"],arguments,{fillbyte:_.$factory([32])},null,null);if(!r.fillbyte.__class__)throw t.TypeError.$factory("argument 2 must be a byte string of length 1, not '"+e.class_name(r.fillbyte)+"'");if(!r.fillbyte.__class__.$buffer_protocol)throw t.TypeError.$factory("argument 2 must be a byte string of length 1, not '"+e.class_name(r.fillbyte)+"'");for(var n=[],a=r.width-r.self.source.length,s=0;s<a;++s)n.push(r.fillbyte.source[0]);return _.$factory(r.self.source.concat(n))},_.lstrip=function(e,t){return a(e,t,"l")},_.maketrans=function(t,r){for(var n=[],a=(r=e.to_bytes(r),0);a<256;a++)n[a]=a;a=0;for(var s=t.source.length;a<s;a++){n[t.source[a]]=r[a]}return _.$factory(n)},_.partition=function(){var r=e.args("partition",2,{self:null,sep:null},["self","sep"],arguments,{},null,null);if(!r.sep.__class__)throw t.TypeError.$factory("a bytes-like object is required, not '"+e.class_name(r.sep)+"'");if(!r.sep.__class__.$buffer_protocol)throw t.TypeError.$factory("a bytes-like object is required, not '"+e.class_name(r.sep)+"'");var n=r.sep.source.length,a=r.self.source,s=_.find(r.self,r.sep);return t.tuple.$factory([_.$factory(a.slice(0,s)),_.$factory(a.slice(s,s+n)),_.$factory(a.slice(s+n))])},_.removeprefix=function(){var r=e.args("removeprefix",2,{self:null,prefix:null},["self","prefix"],arguments,{},null,null);if(!t.isinstance(r.prefix,[_,o]))throw t.ValueError.$factory(`prefix should be bytes, not '${e.class_name(r.prefix)}'`);return _.startswith(r.self,r.prefix)?_.__getitem__(r.self,t.slice.$factory(r.prefix.source.length,t.None)):_.__getitem__(r.self,t.slice.$factory(0,t.None))},_.removesuffix=function(){var r=e.args("removesuffix",2,{self:null,prefix:null},["self","suffix"],arguments,{},null,null);if(!t.isinstance(r.suffix,[_,o]))throw t.ValueError.$factory(`suffix should be bytes, not '${e.class_name(r.suffix)}'`);return _.endswith(r.self,r.suffix)?_.__getitem__(r.self,t.slice.$factory(0,r.suffix.source.length+1)):_.__getitem__(r.self,t.slice.$factory(0,t.None))},_.replace=function(){var r=e.args("replace",4,{self:null,old:null,new:null,count:null},["self","old","new","count"],arguments,{count:-1},null,null),n=[],a=r.self,s=a.source,o=s.length,i=r.old,l=r.new,c=r.count>=0?r.count:s.length;if(!r.old.__class__)throw t.TypeError.$factory("first argument must be a bytes-like object, not '"+e.class_name(r.old)+"'");if(!r.old.__class__.$buffer_protocol)throw t.TypeError.$factory("first argument must be a bytes-like object, not '"+e.class_name(r.sep)+"'");if(!r.new.__class__)throw t.TypeError.$factory("second argument must be a bytes-like object, not '"+e.class_name(r.old)+"'");if(!r.new.__class__.$buffer_protocol)throw t.TypeError.$factory("second argument must be a bytes-like object, not '"+e.class_name(r.sep)+"'");for(var u=0;u<o;u++)if(_.startswith(a,i,u)&&c){for(var f=0;f<l.source.length;f++)n.push(l.source[f]);u+=i.source.length-1,c--}else n.push(s[u]);return _.$factory(n)},_.rfind=function(r,n){if(2==arguments.length&&n.__class__===_)var a=n,s=0,o=-1;else{var i=e.args("rfind",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:-1},null,null);r=i.self,a=i.sub,s=i.start,o=i.end}if("number"==typeof a){if(a<0||a>255)throw t.ValueError.$factory("byte must be in range(0, 256)");return i.self.source.slice(s,-1==i.end?void 0:i.end).lastIndexOf(a)+s}if(!a.__class__)throw t.TypeError.$factory("first argument must be a bytes-like object, not '"+e.class_name(i.sub)+"'");if(!a.__class__.$buffer_protocol)throw t.TypeError.$factory("first argument must be a bytes-like object, not '"+e.class_name(a)+"'");o=-1==o?r.source.length:Math.min(r.source.length,o);for(var l=a.source.length,c=o-l;c>=s;--c){for(var u=r.source.slice(c,c+l),f=!0,p=0;p<l;p++)if(u[p]!=a.source[p]){f=!1;break}if(f)return c}return-1},_.rindex=function(){var r=e.args("rfind",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:-1},null,null),n=_.rfind(r.self,r.sub,r.start,r.end);if(-1==n)throw t.ValueError.$factory("subsection not found");return n},_.rjust=function(){var r=e.args("rjust",3,{self:null,width:null,fillbyte:null},["self","width","fillbyte"],arguments,{fillbyte:_.$factory([32])},null,null);if(!r.fillbyte.__class__)throw t.TypeError.$factory("argument 2 must be a byte string of length 1, not '"+e.class_name(r.fillbyte)+"'");if(!r.fillbyte.__class__.$buffer_protocol)throw t.TypeError.$factory("argument 2 must be a byte string of length 1, not '"+e.class_name(r.fillbyte)+"'");for(var n=[],a=r.width-r.self.source.length,s=0;s<a;++s)n.push(r.fillbyte.source[0]);return _.$factory(n.concat(r.self.source))},_.rpartition=function(){var r=e.args("rpartition",2,{self:null,sep:null},["self","sep"],arguments,{},null,null);if(!r.sep.__class__)throw t.TypeError.$factory("a bytes-like object is required, not '"+e.class_name(r.sep)+"'");if(!r.sep.__class__.$buffer_protocol)throw t.TypeError.$factory("a bytes-like object is required, not '"+e.class_name(r.sep)+"'");var n=r.sep.source.length,a=r.self.source,s=_.rfind(r.self,r.sep);return t.tuple.$factory([_.$factory(a.slice(0,s)),_.$factory(a.slice(s,s+n)),_.$factory(a.slice(s+n))])},_.rstrip=function(e,t){return a(e,t,"r")},_.split=function(){var r=e.args("split",2,{self:null,sep:null},["self","sep"],arguments,{sep:_.$factory([32])},null,null),n=[],a=0,s=0;if(!r.sep.__class__)throw t.TypeError.$factory("a bytes-like object is required, not '"+e.class_name(r.sep)+"'");if(!r.sep.__class__.$buffer_protocol)throw t.TypeError.$factory("a bytes-like object is required, not '"+e.class_name(r.sep)+"'");for(var o=r.sep.source,i=o.length,l=r.self.source,c=l.length;s<c;){for(var u=!0,f=0;f<i&&u;f++)l[s+f]!=o[f]&&(u=!1);u?(n.push(_.$factory(l.slice(a,s))),s=a=s+i):s++}return(u||s>a)&&n.push(_.$factory(l.slice(a,s))),n},_.splitlines=function(r){var n=e.args("splitlines",2,{self:null,keepends:null},["self","keepends"],arguments,{keepends:!1},null,null);if(!t.isinstance(n.keepends,[t.bool,t.int]))throw t.TypeError("integer argument expected, got "+e.get_class(n.keepends).__name);var a=t.int.$factory(n.keepends),s=[],o=n.self.source,i=0,l=0;if(!o.length)return s;for(;l<o.length;)l<o.length-1&&13==o[l]&&10==o[l+1]?(s.push(_.$factory(o.slice(i,a?l+2:l))),i=l+=2):13==o[l]||10==o[l]?(s.push(_.$factory(o.slice(i,a?l+1:l))),i=l+=1):l++;return i<o.length&&s.push(_.$factory(o.slice(i))),s},_.startswith=function(){var r=e.args("startswith",3,{self:null,prefix:null,start:null},["self","prefix","start"],arguments,{start:0},null,null),n=r.start;if(t.isinstance(r.prefix,_)){for(var a=!0,s=0;s<r.prefix.source.length&&a;s++)a=r.self.source[n+s]==r.prefix.source[s];return a}if(t.isinstance(r.prefix,t.tuple)){var o=[];for(s=0;s<r.prefix.length;s++){if(!t.isinstance(r.prefix[s],_))throw t.TypeError.$factory("startswith first arg must be bytes or a tuple of bytes, not "+e.class_name(r.prefix));o=o.concat(r.prefix[s].source)}var i=_.$factory(o);return _.startswith(r.self,i,n)}throw t.TypeError.$factory("startswith first arg must be bytes or a tuple of bytes, not "+e.class_name(r.prefix))},_.strip=function(e,t){var r=_.lstrip(e,t);return _.rstrip(r,t)},_.swapcase=function(e){for(var t=e.source,r=t.length,n=t.slice(),a=0;a<r;++a)n[a]>96&&n[a]<123?n[a]-=32:n[a]>64&&n[a]<91&&(n[a]+=32);return _.$factory(n)},_.title=function(e){var t=e.source,r=t.length;buffer=t.slice(),current_char_is_letter=!1,prev_char_was_letter=!1,is_uppercase=!1,is_lowercase=!1;for(var n=0;n<r;++n)is_lowercase=buffer[n]>96&&buffer[n]<123,is_uppercase=buffer[n]>64&&buffer[n]<91,current_char_is_letter=is_lowercase||is_uppercase,current_char_is_letter&&(prev_char_was_letter&&is_uppercase?buffer[n]+=32:!prev_char_was_letter&&is_lowercase&&(buffer[n]-=32)),prev_char_was_letter=current_char_is_letter;return _.$factory(buffer)},_.translate=function(r,n,a){if(void 0===a)a=[];else{if(!t.isinstance(a,_))throw t.TypeError.$factory("Type "+e.get_class(a).__name+" doesn't support the buffer API");a=a.source}var s=[],o=0;if(t.isinstance(n,_)&&256==n.source.length)for(var i=0,l=r.source.length;i<l;i++)a.indexOf(r.source[i])>-1||(s[o++]=n.source[r.source[i]]);return _.$factory(s)};var u=function(e){return e>=97&&e<=122?e-32:e};function f(e,r,n){throw t.UnicodeEncodeError.$factory("'"+e+"' codec can't encode character "+t.hex(r)+" in position "+n)}function p(e){var t=e.toString(16);return"0x"+"0".repeat(2-t.length)+t}function d(e){var t=e.toLowerCase();return"windows"==t.substr(0,7)&&(t="cp"+t.substr(7)),(t.startsWith("cp-")||t.startsWith("iso-"))&&(t=t.replace("-","")),t=t.replace(/-/g,"_")}_.upper=function(e){for(var t=[],r=0,n=0,a=e.source.length;n<a;n++)e.source[n]&&(t[r++]=u(e.source[n]));return _.$factory(t)},_.zfill=function(e,t){for(var r=e.source.slice(),n=43==r[0]||45==r[0]?1:0,a=t-e.source.length,s=[],o=0;o<a;++o)s.push(48);return r.splice.apply(r,[n,0].concat(s)),_.$factory(r)};var h=e.decode=function(r,a,s){var i="",l=r.source,c=d(a);switch(c){case"utf_8":case"utf-8":case"utf8":case"U8":case"UTF":var u,f=0;for(i="";f<l.length;){var $=l[f];if(u=null,128&$)if($>>5==6)if(void 0===l[f+1]?u=[$,f,"end"]:128!=(192&l[f+1])&&(u=[$,f,"continuation"]),null!==u){if("ignore"!=s)throw t.UnicodeDecodeError.$factory("'utf-8' codec can't decode byte 0x"+u[0].toString(16)+"  in position "+u[1]+("end"==u[2]?": unexpected end of data":": invalid continuation byte"));f++}else{var m=31&$;m<<=6,m+=63&l[f+1],i+=String.fromCodePoint(m),f+=2}else if($>>4==14)if(void 0===l[f+1]?u=[$,f,"end",f+1]:128!=(192&l[f+1])?u=[$,f,"continuation",f+2]:void 0===l[f+2]?u=[$,f+"-"+(f+1),"end",f+2]:128!=(192&l[f+2])&&(u=[$,f,"continuation",f+3]),null!==u)if("ignore"==s)f=u[3];else{if("surrogateescape"!=s)throw t.UnicodeDecodeError.$factory("'utf-8' codec can't decode byte 0x"+u[0].toString(16)+"  in position "+u[1]+("end"==u[2]?": unexpected end of data":": invalid continuation byte"));for(var b=f;b<u[3];b++)i+=String.fromCodePoint(56448+l[b]-128);f=u[3]}else{m=15&$;m<<=12,m+=(63&l[f+1])<<6,m+=63&l[f+2],i+=String.fromCodePoint(m),f+=3}else if($>>3==30)if(void 0===l[f+1]?u=[$,f,"end",f+1]:128!=(192&l[f+1])?u=[$,f,"continuation",f+2]:void 0===l[f+2]?u=[$,f+"-"+(f+1),"end",f+2]:128!=(192&l[f+2])?u=[$,f,"continuation",f+3]:void 0===l[f+3]?u=[$,f+"-"+(f+1)+"-"+(f+2),"end",f+3]:128!=(192&l[f+2])&&(u=[$,f,"continuation",f+3]),null!==u)if("ignore"==s)f=u[3];else{if("surrogateescape"!=s)throw t.UnicodeDecodeError.$factory("'utf-8' codec can't decode byte 0x"+u[0].toString(16)+"  in position "+u[1]+("end"==u[2]?": unexpected end of data":": invalid continuation byte"));for(b=f;b<u[3];b++)i+=String.fromCodePoint(56448+l[b]-128);f=u[3]}else{m=15&$;m<<=18,m+=(63&l[f+1])<<12,m+=(63&l[f+2])<<6,m+=63&l[f+3],i+=String.fromCodePoint(m),f+=4}else if("ignore"==s)f++;else{if("surrogateescape"!=s)throw t.UnicodeDecodeError.$factory("'utf-8' codec can't decode byte 0x"+$.toString(16)+" in position "+f+": invalid start byte");i+=String.fromCodePoint(56448+l[f]-128),f++}else i+=String.fromCodePoint($),f++}return i;case"latin_1":case"windows1252":case"iso-8859-1":case"iso8859-1":case"8859":case"cp819":case"latin":case"latin1":case"L1":l.forEach(function(e){i+=String.fromCharCode(e)});break;case"unicode_escape":return r.__class__!==_&&r.__class__!==o||(r=h(r,"latin-1","strict")),r.replace(/\\n/g,"\n").replace(/\\a/g,"").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\t/g,"\t").replace(/\\'/g,"'").replace(/\\"/g,'"');case"raw_unicode_escape":return r.__class__!==_&&r.__class__!==o||(r=h(r,"latin-1","strict")),r.replace(/\\u([a-fA-F0-9]{4})/g,function(e){var t=parseInt(e.substr(2),16);return String.fromCharCode(t)});case"ascii":b=0;for(var g=l.length;b<g;b++){if((m=l[b])<=127)i+=String.fromCharCode(m);else if("ignore"!=s){var y="'ascii' codec can't decode byte 0x"+m.toString(16)+" in position "+b+": ordinal not in range(128)";throw t.UnicodeDecodeError.$factory(y)}}break;default:try{!function(r){if(void 0===n[r]){var a=t.__import__("encodings."+r);a[r].getregentry&&(n[r]=e.$getattr(a[r].getregentry(),"decode"))}}(c)}catch(e){throw console.log(l,a,"error load_decoder",e),t.LookupError.$factory("unknown encoding: "+c)}var v=n[c](r)[0];for(b=0,g=v.length;b<g;b++)if(65534==v.codePointAt(b))throw t.UnicodeDecodeError.$factory(`'charmap' codec can't decode byte ${p(l[b])} in position ${b}: character maps to <undefined>`);return v}return i},$=e.encode=function(){var n=e.args("encode",3,{s:null,encoding:null,errors:null},["s","encoding","errors"],arguments,{encoding:"utf-8",errors:"strict"},null,null),a=n.s,s=n.encoding,o=n.errors,i=[],_=0,l=d(s);switch(l){case"utf-8":case"utf_8":case"utf8":for(var c=[],u=0,p=a.length;u<p;u++){(h=a.charCodeAt(u))<127?c.push(h):h<2047?c.push(192+(h>>6),128+(63&h)):h<65535?c.push(224+(h>>12),128+((4095&h)>>6),128+(63&h)):console.log("4 bytes")}return c;case"latin":case"latin1":case"latin-1":case"latin_1":case"L1":case"iso8859_1":case"iso_8859_1":case"8859":case"cp819":case"windows1252":for(u=0,p=a.length;u<p;u++){(h=a.charCodeAt(u))<=255?i[_++]=h:"ignore"!=o&&f(s,u)}break;case"ascii":for(u=0,p=t.str.__len__(a);u<p;u++){var h=a.charCodeAt(u),$=t.str.__getitem__(a,u);if(h<=127)i[_++]=h;else if("backslashreplace"==o){var m=t.hex(t.ord($));for(var $ of m=m.length<5?"\\x"+"0".repeat(4-m.length)+m.substr(2):m.length<7?"\\u"+"0".repeat(6-m.length)+m.substr(2):"\\U"+"0".repeat(10-m.length)+m.substr(2))i[_++]=$.charCodeAt(0)}else"ignore"!==o&&f(s,u)}break;case"raw_unicode_escape":for(u=0,p=a.length;u<p;u++){if((h=a.charCodeAt(u))<256)i[_++]=h;else{var b=h.toString(16);b.length%2&&(b="0"+b),b="\\u"+b;for(var g=0;g<b.length;g++)i[_++]=b.charCodeAt(g)}}break;default:try{!function(n){if(void 0===r[n]){var a=t.__import__("encodings."+n);a[n].getregentry&&(r[n]=e.$getattr(a[n].getregentry(),"encode"))}}(l)}catch(e){throw t.LookupError.$factory("unknown encoding: "+s)}i=r[l](a)[0].source}return i};for(var m in _.$factory=function(e,t,r){return _.__new__.bind(null,_).apply(null,arguments)},_.__class__=t.type,_.$is_class=!0,_)void 0===o[m]&&"function"==typeof _[m]&&(o[m]=function(e){return function(){return _[e].apply(null,arguments)}}(m));e.set_func_names(_,"builtins"),_.fromhex=t.classmethod.$factory(_.fromhex),e.set_func_names(o,"builtins"),o.fromhex=t.classmethod.$factory(o.fromhex),t.bytes=_,t.bytearray=o}(__BRYTHON__),function($B){var _b_=$B.builtins,object=_b_.object,$N=_b_.None;function create_type(e){return $B.get_class(e).$factory()}function clone(e){var t=create_type(e);for(key in t.$items=e.$items.slice(),t.$numbers=e.$numbers.slice(),e.$hashes)t.$hashes[key]=e.$hashes[key];return t}var set={__class__:_b_.type,$infos:{__module__:"builtins",__name__:"set"},$is_class:!0,$native:!0,__and__:function(e,t,r){try{$test(r,t)}catch(e){return _b_.NotImplemented}for(var n=create_type(e),a=0,s=e.$items.length;a<s;a++)_b_.getattr(t,"__contains__")(e.$items[a])&&set.add(n,e.$items[a]);return n},__class_getitem__:function(e,t){return Array.isArray(t)||(t=[t]),$B.GenericAlias.$factory(e,t)},__contains__:function(e,t){if("number"==typeof t)return e.$numbers.indexOf(t)>-1;if(_b_.isinstance(t,_b_.float)){if(isNaN(t.value)){for(var r=e.$items.length-1;r>=0;r--)if(isNaN(e.$items[r].value))return!0;return!1}return e.$numbers.indexOf(t.value)>-1}if("string"==typeof t)return e.$items.indexOf(t)>-1;var n=_b_.hash(t);t.__class__||$B.get_class(t);if(e.$hashes[n]){r=0;for(var a=e.$hashes[n].length;r<a;r++)if(e.$hashes[n][r]===t)return!0;for(r=0,a=e.$hashes[n].length;r<a;r++)if($B.rich_comp("__eq__",e.$hashes[n][r],t))return!0}return!1},__eq__:function(e,t){if(void 0===t)return e===set;if(_b_.isinstance(t,[_b_.set,_b_.frozenset])){if(t.$items.length==e.$items.length){for(var r=0,n=e.$items.length;r<n;r++)if(!1===set.__contains__(e,t.$items[r]))return!1;return!0}return!1}return _b_.NotImplemented},__format__:function(e,t){return set.__str__(e)},__ge__:function(e,t){return _b_.isinstance(t,[set,frozenset])?set.__le__(t,e):_b_.NotImplemented},__gt__:function(e,t){return _b_.isinstance(t,[set,frozenset])?set.__lt__(t,e):_b_.NotImplemented}};set.__hash__=_b_.None,set.__init__=function(e,t,r){if(void 0===r&&Array.isArray(t)){for(var n=0,a=t.length;n<a;n++)$add(e,t[n]);return $N}var s=$B.args("__init__",2,{self:null,iterable:null},["self","iterable"],arguments,{iterable:[]},null,null);e=s.self,t=s.iterable;if(_b_.isinstance(t,[set,frozenset])){for(var o in e.$items=t.$items.slice(),e.$numbers=t.$numbers.slice(),e.$hashes={},t.$hashes)e.$hashes[o]=t.$hashes[o];return $N}for(var i=$B.$iter(t);;)try{$add(e,_b_.next(i))}catch(e){if(_b_.isinstance(e,_b_.StopIteration))break;throw e}return $N};var set_iterator=$B.make_iterator_class("set iterator");function set_repr(e){if(klass_name=$B.class_name(e),0===e.$items.length)return klass_name+"()";var t=klass_name+"({",r="})";"set({"==t&&(t="{",r="}");var n=[];if($B.repr.enter(e))return klass_name+"(...)";try{e.$items.sort(function(e,t){var r=_b_.hash(e),n=_b_.hash(t);return r>n?1:r==n?0:-1})}catch(e){console.log("erreur",e.message)}for(var a=0,s=e.$items.length;a<s;a++){var o=_b_.repr(e.$items[a]);o===e||o===e.$items[a]?n.push("{...}"):n.push(o)}return n=n.join(", "),$B.repr.leave(e),t+n+r}function $test(e,t,r){if(void 0===e&&!_b_.isinstance(t,[set,frozenset]))throw _b_.TypeError.$factory("unsupported operand type(s) for "+r+": 'set' and '"+$B.class_name(t)+"'")}function $add(e,t){var r=!1;if("string"!=typeof t&&"number"!=typeof t&&t.__class__!==_b_.float||(r=!0),r)if(t.__class__===_b_.float)-1==e.$numbers.indexOf(t.value)&&(e.$numbers.push(t.value),e.$items.push(t));else if("number"==typeof t)-1==e.$numbers.indexOf(t)&&(e.$numbers.push(t),e.$items.push(t));else{var n=e.$items.indexOf(t);t!==e.$items[n]&&e.$items.push(t)}else{var a=_b_.hash(t);if(void 0===(s=e.$hashes[a]))e.$hashes[a]=[t],e.$items.push(t);else{for(var s,o=function(e){return $B.rich_comp("__eq__",t,e)},i=0,_=(s=e.$hashes[a]).length;i<_;i++)if(o(s[i]))return $N;e.$hashes[a].push(t),e.$items.push(t)}}return $N}set.__iter__=function(e){return e.$items.sort(function(e,t){var r=_b_.hash(e),n=_b_.hash(t);return r==n?0:r<n?-1:1}),set_iterator.$factory(e.$items)},set.__le__=function(e,t){if(_b_.isinstance(t,[set,frozenset])){for(var r=_b_.getattr(t,"__contains__"),n=0,a=e.$items.length;n<a;n++)if(!r(e.$items[n]))return!1;return!0}return _b_.NotImplemented},set.__len__=function(e){return e.$items.length},set.__lt__=function(e,t){return _b_.isinstance(t,[set,frozenset])?set.__le__(e,t)&&set.__len__(e)<_b_.getattr(t,"__len__")():_b_.NotImplemented},set.__mro__=[_b_.object],set.__new__=function(e){if(void 0===e)throw _b_.TypeError.$factory("set.__new__(): not enough arguments");return{__class__:e,$items:[],$numbers:[],$hashes:{}}},set.__or__=function(e,t,r){for(var n=clone(e),a=_b_.getattr($B.$iter(t),"__next__");;)try{set.add(n,a())}catch(e){if(_b_.isinstance(e,_b_.StopIteration))break;throw e}return n.__class__=e.__class__,n},set.__rand__=function(e,t){return set.__and__(e,t)},set.__reduce__=function(e){return _b_.tuple.$factory([e.__class__,_b_.tuple.$factory([e.$items]),$N])},set.__reduce_ex__=function(e,t){return set.__reduce__(e)},set.__repr__=function(e){return $B.builtins_repr_check(set,arguments),set_repr(e)},set.__rsub__=function(e,t){return set.__sub__(t,e)},set.__rxor__=function(e,t){return set.__xor__(e,t)},set.__sub__=function(e,t,r){try{$test(r,t,"-")}catch(e){return _b_.NotImplemented}for(var n=create_type(e),a=_b_.getattr(t,"__contains__"),s=[],o=0,i=e.$items.length;o<i;o++)a(e.$items[o])||s.push(e.$items[o]);return set.__init__.call(null,n,s),n},set.__xor__=function(e,t,r){try{$test(r,t,"^")}catch(e){return _b_.NotImplemented}for(var n=create_type(e),a=_b_.getattr(t,"__contains__"),s=0,o=e.$items.length;s<o;s++)a(e.$items[s])||set.add(n,e.$items[s]);for(s=0,o=t.$items.length;s<o;s++)set.__contains__(e,t.$items[s])||set.add(n,t.$items[s]);return n},$B.make_rmethods(set),set.add=function(){var e=$B.args("add",2,{self:null,item:null},["self","item"],arguments,{},null,null);return $add(e.self,e.item)},set.clear=function(){var e=$B.args("clear",1,{self:null},["self"],arguments,{},null,null);return e.self.$items=[],e.self.$numbers=[],e.self.$hashes={},$N},set.copy=function(){var e=$B.args("copy",1,{self:null},["self"],arguments,{},null,null);if(_b_.isinstance(e.self,frozenset))return e.self;var t=set.$factory();for(key in e.self.$items.forEach(function(e){t.$items.push(e)}),e.self.$numbers.forEach(function(e){t.$numbers.push(e)}),self.$hashes)t.$hashes[key]=self.$hashes[key];return t},set.difference_update=function(e){for(var t=$B.args("difference_update",1,{self:null},["self"],arguments,{},"args",null),r=0;r<t.args.length;r++)for(var n,a=set.$factory(t.args[r]),s=_b_.getattr($B.$iter(a),"__next__");;)try{var o=typeof(n=s());if("string"==o||"number"==o){var i=e.$items.indexOf(n);i>-1&&e.$items.splice(i,1)}else for(var _=0;_<e.$items.length;_++)if($B.rich_comp("__eq__",e.$items[_],n)){e.$items.splice(_,1);var l=_b_.hash(n);if(e.$hashes[l])for(var c=0;c<e.$hashes[l].length;c++)if($B.rich_comp("__eq__",e.$hashes[l][c],n)){e.$hashes[l].splice(c,1);break}}}catch(e){if(_b_.isinstance(e,_b_.StopIteration))break;throw e}return $N},set.discard=function(){var e=$B.args("discard",2,{self:null,item:null},["self","item"],arguments,{},null,null);try{set.remove(e.self,e.item)}catch(e){if(!_b_.isinstance(e,[_b_.KeyError,_b_.LookupError]))throw e}return $N},set.intersection_update=function(){for(var e=$B.args("intersection_update",1,{self:null},["self"],arguments,{},"args",null),t=e.self,r=0;r<e.args.length;r++){for(var n=[],a=set.$factory(e.args[r]),s=0;s<t.$items.length;s++){var o=t.$items[s],i=typeof o;if("string"==i||"number"==i)-1==a.$items.indexOf(o)&&n.push(s);else{var _=!1,l=_b_.hash(o);if(a.$hashes[l]){for(var c=a.$hashes[l],u=0;!_&&u<c.length;u++)$B.rich_comp("__eq__",c[u],o)&&(_=!0);if(!_){n.push(s),c=t.$hashes[l];for(u=0;!_&&u<c.length;u++)$B.rich_comp("__eq__",c[u],o)&&t.$hashes.splice(u,1)}}}}n.sort(function(e,t){return e-t}).reverse();for(s=0;s<n.length;s++)t.$items.splice(n[s],1)}return $N},set.isdisjoint=function(){for(var e=$B.args("is_disjoint",2,{self:null,other:null},["self","other"],arguments,{},null,null),t=0,r=e.self.$items.length;t<r;t++)if(_b_.getattr(e.other,"__contains__")(e.self.$items[t]))return!1;return!0},set.pop=function(e){if(0===e.$items.length)throw _b_.KeyError.$factory("pop from an empty set");var t=e.$items.pop();if("string"!=typeof t&&"number"!=typeof t)for(var r=_b_.hash(t),n=e.$hashes[r],a=0;a<n.length;a++)if($B.rich_comp("__eq__",n[a],t)){e.$hashes[r].splice(a,1);break}return t},set.remove=function(e,t){var r=$B.args("remove",2,{self:null,item:null},["self","item"],arguments,{},null,null);e=r.self,t=r.item;if(_b_.isinstance(t,set)||_b_.hash(t),"string"==typeof t||"number"==typeof t){var n=e.$items.indexOf(t);if(-1==n)throw _b_.KeyError.$factory(t);return e.$items.splice(n,1),"number"==typeof t&&e.$numbers.splice(e.$numbers.indexOf(t),1),$N}var a=_b_.hash(t);if(e.$hashes[a]){for(var s=0,o=e.$items.length;s<o;s++)if($B.rich_comp("__eq__",e.$items[s],t)){e.$items.splice(s,1),t instanceof Number&&e.$numbers.splice(e.$numbers.indexOf(t.valueOf()),1);break}for(s=0,o=e.$hashes[a].length;s<o;s++)if($B.rich_comp("__eq__",e.$hashes[a][s],t)){e.$hashes[a].splice(s,1);break}return $N}throw _b_.KeyError.$factory(t)},set.symmetric_difference_update=function(e,t){for(var r,n=$B.args("symmetric_difference_update",2,{self:null,s:null},["self","s"],arguments,{},null,null),a=(e=n.self,t=n.s,_b_.getattr($B.$iter(t),"__next__")),s=[],o=[];;)try{var i=typeof(r=a());if("string"==i||"number"==i){var _=e.$items.indexOf(r);_>-1?s.push(_):o.push(r)}else{for(var l=!1,c=0;!l&&c<e.$items.length;c++)$B.rich_comp("__eq__",e.$items[c],r)&&(s.push(c),l=!0);l||o.push(r)}}catch(e){if(_b_.isinstance(e,_b_.StopIteration))break;throw e}s.sort(function(e,t){return e-t}).reverse();for(var u=0;u<s.length;u++)s[u]!=s[u-1]&&e.$items.splice(s[u],1);for(u=0;u<o.length;u++)set.add(e,o[u]);return $N},set.update=function(e){for(var t=$B.args("update",1,{self:null},["self"],arguments,{},"args",null),r=0;r<t.args.length;r++)for(var n=set.$factory(t.args[r]),a=0,s=n.$items.length;a<s;a++)$add(e,n.$items[a]);return $N},set.difference=function(){var e=$B.args("difference",1,{self:null},["self"],arguments,{},"args",null);if(0==e.args.length)return set.copy(e.self);for(var t=clone(e.self),r=0;r<e.args.length;r++)t=set.__sub__(t,set.$factory(e.args[r]),!0);return t};var fc=set.difference+"";function $accept_only_set(e,t){return function(r,n,a){return $test(a,n,t),e(r,n),r}}eval("set.intersection = "+fc.replace(/difference/g,"intersection").replace("__sub__","__and__")),eval("set.symmetric_difference = "+fc.replace(/difference/g,"symmetric_difference").replace("__sub__","__xor__")),eval("set.union = "+fc.replace(/difference/g,"union").replace("__sub__","__or__")),set.issubset=function(){for(var e=$B.args("issubset",2,{self:null,other:null},["self","other"],arguments,{},"args",null),t=_b_.getattr(e.other,"__contains__"),r=0,n=e.self.$items.length;r<n;r++)if(!t(e.self.$items[r]))return!1;return!0},set.issuperset=function(){for(var e=$B.args("issuperset",2,{self:null,other:null},["self","other"],arguments,{},"args",null),t=_b_.getattr(e.self,"__contains__"),r=$B.$iter(e.other);;)try{if(!t(_b_.next(r)))return!1}catch(e){if(_b_.isinstance(e,_b_.StopIteration))return!0;throw e}return!0},set.__iand__=$accept_only_set(set.intersection_update,"&="),set.__isub__=$accept_only_set(set.difference_update,"-="),set.__ixor__=$accept_only_set(set.symmetric_difference_update,"^="),set.__ior__=$accept_only_set(set.update,"|="),set.$factory=function(){var e={__class__:set,$simple:!0,$items:[],$numbers:[],$hashes:{}},t=[e].concat(Array.prototype.slice.call(arguments));return set.__init__.apply(null,t),e},$B.set_func_names(set,"builtins"),set.__class_getitem__=_b_.classmethod.$factory(set.__class_getitem__);var frozenset={__class__:_b_.type,__mro__:[object],$infos:{__module__:"builtins",__name__:"frozenset"},$is_class:!0,$native:!0};for(var attr in set)switch(attr){case"add":case"clear":case"discard":case"pop":case"remove":case"update":break;default:null==frozenset[attr]&&("function"==typeof set[attr]?frozenset[attr]=function(e){return function(){return set[e].apply(null,arguments)}}(attr):frozenset[attr]=set[attr])}frozenset.__hash__=function(e){if(void 0===e)return frozenset.__hashvalue__||$B.$py_next_hash--;if(void 0!==e.__hashvalue__)return e.__hashvalue__;var t=1927868237;t*=e.$items.length;for(var r=0,n=e.$items.length;r<n;r++){var a=_b_.hash(e.$items[r]);t^=3644798167*(89869747^a^a<<16)}return-1==(t=69069*t+907133923)&&(t=590923713),e.__hashvalue__=t},frozenset.__new__=function(e){if(void 0===e)throw _b_.TypeError.$factory("frozenset.__new__(): not enough arguments");return{__class__:e,$simple:!0,$items:[],$numbers:[],$hashes:{}}},frozenset.__repr__=function(e){return $B.builtins_repr_check(frozenset,arguments),set_repr(e)};var singleton_id=Math.floor(Math.random()*Math.pow(2,40));function empty_frozenset(){var e=frozenset.__new__(frozenset);return e.$id=singleton_id,e}frozenset.$factory=function(){var e=$B.args("frozenset",1,{iterable:null},["iterable"],arguments,{iterable:null},null,null);if(null===e.iterable)return empty_frozenset();if(e.iterable.__class__==frozenset)return e.iterable;var t=set.$factory(e.iterable);return 0==t.$items.length?empty_frozenset():(t.__class__=frozenset,t)},$B.set_func_names(frozenset,"builtins"),_b_.set=set,_b_.frozenset=frozenset}(__BRYTHON__),function($B){var _b_=$B.builtins,object=_b_.object,_window=self;function to_simple(e){switch(typeof e){case"string":case"number":return e;case"boolean":return e?"true":"false";case"object":if(e===_b_.None)return"null";if(e instanceof Number)return e.valueOf();if(e instanceof String)return e.valueOf();default:throw console.log("erreur",e),_b_.TypeError.$factory("keys must be str, int, float, bool or None, not "+$B.class_name(e))}}$B.pyobj2structuredclone=function(e,t){if(t=void 0===t||t,"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof String)return e;if(e.__class__===_b_.float)return e.value;if(e===_b_.None)return null;if(Array.isArray(e)||e.__class__===_b_.list||e.__class__===_b_.tuple){for(var r=[],n=0,a=e.length;n<a;n++)r.push($B.pyobj2structuredclone(e[n]));return r}if(_b_.isinstance(e,_b_.dict)){if(t&&(Object.keys(e.$numeric_dict).length>0||Object.keys(e.$object_dict).length>0))throw _b_.TypeError.$factory("a dictionary with non-string keys does not support structured clone");var s=$B.dict_to_list(e);for(r={},n=0,a=s.length;n<a;n++)r[to_simple(s[n][0])]=$B.pyobj2structuredclone(s[n][1]);return r}return e},$B.structuredclone2pyobj=function(e){if(null===e)return _b_.None;if(void 0===e)return $B.Undefined;if("boolean"==typeof e||"string"==typeof e)return e;if("number"==typeof e)return Number.isInteger(e)?e:{__class__:_b_.float,value:e};if(e instanceof Number||e instanceof String)return e.valueOf();if(Array.isArray(e)||e.__class__===_b_.list||e.__class__===_b_.tuple){for(var t=_b_.list.$factory(),r=0,n=e.length;r<n;r++)t.push($B.structuredclone2pyobj(e[r]));return t}if("object"==typeof e){t=$B.empty_dict();for(var a in e)_b_.dict.$setitem(t,a,$B.structuredclone2pyobj(e[a]));return t}throw console.log(e,Array.isArray(e),e.__class__,_b_.list,e.__class__===_b_.list),_b_.TypeError.$factory(_b_.str.$factory(e)+" does not support the structured clone algorithm")};var JSConstructor={__class__:_b_.type,__mro__:[object],$infos:{__module__:"<javascript>",__name__:"JSConstructor"},$is_class:!0,__call__:function(e){return function(){for(var t=[null],r=0,n=arguments.length;r<n;r++)t.push(pyobj2jsobj(arguments[r]));var a=new(e.func.bind.apply(e.func,t));return $B.$JS2Py(a)}},__getattribute__:function(e,t){return"__call__"==t?function(){for(var t=[null],r=0,n=arguments.length;r<n;r++)t.push(pyobj2jsobj(arguments[r]));var a=new(e.func.bind.apply(e.func,t));return $B.$JS2Py(a)}:JSObject.__getattribute__(e,t)},$factory:function(e){return{__class__:JSConstructor,js:e,func:e.js_func}}},jsobj2pyobj=$B.jsobj2pyobj=function(e){switch(e){case!0:case!1:return e}return void 0===e?$B.Undefined:null===e?_b_.None:Array.isArray(e)?_b_.list.$factory(e.map(jsobj2pyobj)):"number"==typeof e?-1==e.toString().indexOf(".")?_b_.int.$factory(e):_b_.float.$factory(e):"string"==typeof e?$B.String(e):"function"==typeof e?function(){for(var t=[],r=0,n=arguments.length;r<n;r++)t.push(pyobj2jsobj(arguments[r]));return jsobj2pyobj(e.apply(null,t))}:"kw"===e.$nat?e:$B.$isNode(e)?$B.DOMNode.$factory(e):$B.JSObj.$factory(e)},pyobj2jsobj=$B.pyobj2jsobj=function(e){if(!0===e||!1===e)return e;if(e===_b_.None)return null;if(e!==$B.Undefined){var t=$B.get_class(e);if(void 0===t)return e;if(t===JSConstructor)return void 0!==e.js_func?e.js_func:e.js;if(t===$B.DOMNode||t.__mro__.indexOf($B.DOMNode)>-1)return e;if([_b_.list,_b_.tuple].indexOf(t)>-1){var r=[];return e.forEach(function(e){r.push(pyobj2jsobj(e))}),r}if(t===_b_.dict||_b_.issubclass(t,_b_.dict)){var n={};return _b_.list.$factory(_b_.dict.items(e)).forEach(function(e){"function"==typeof e[1]&&e[1].bind(n),n[e[0]]=pyobj2jsobj(e[1])}),n}return t===_b_.str?e.valueOf():t===_b_.float?e.value:t===$B.Function||t===$B.method?e.prototype&&e.prototype.constructor===e&&!e.$is_func?e:function(){try{for(var t=[],r=0;r<arguments.length;r++)void 0===arguments[r]?t.push(_b_.None):t.push(jsobj2pyobj(arguments[r]));if(e.prototype.constructor!==e||e.$is_func)n=e.apply(this,t);else var n=new e(...t);return pyobj2jsobj(n)}catch(e){throw $B.debug>1&&console.log($B.class_name(e)+":",e.args?e.args[0]:""),e}}:e}};function pyargs2jsargs(e){for(var t=[],r=0,n=e.length;r<n;r++){var a=e[r];if(null!=a&&void 0!==a.$nat)throw _b_.TypeError.$factory("A Javascript function can't take keyword arguments");t.push($B.pyobj2jsobj(a))}return t}$B.JSConstructor=JSConstructor,$B.JSObj=$B.make_class("JSObject",function(e){if(Array.isArray(e));else if("function"==typeof e)e.$is_js_func=!0,e.__new__=function(){return new e.$js_func(...arguments)};else if("number"==typeof e&&!Number.isInteger(e))return{__class__:_b_.float,value:e};return e}),$B.JSObj.__sub__=function(e,t){if("bigint"==typeof e&&"bigint"==typeof t)return e-t;throw _b_.TypeError.$factory("unsupported operand type(s) for - : '"+$B.class_name(e)+"' and '"+$B.class_name(t)+"'")};var ops={"+":"__add__","*":"__mul__","**":"__pow__","%":"__mod__"};for(var op in ops)eval("$B.JSObj."+ops[op]+" = "+($B.JSObj.__sub__+"").replace(/-/g,op));$B.JSObj.__eq__=function(e,t){if("object"==typeof e){if(void 0!==e.__eq__)return e.__eq__(t);if(Object.keys(e).length!==Object.keys(t).length)return!1;if(e===t)return!0;for(var r in e)if(!$B.JSObj.__eq__(e[r],t[r]))return!1}return e===t},$B.JSObj.__ne__=function(e,t){return!$B.JSObj.__eq__(e,t)},$B.JSObj.__getattribute__=function(e,t){if("new"==t&&"function"==typeof e)return e.$js_func?function(){var t=pyargs2jsargs(arguments);return $B.JSObj.$factory(new e.$js_func(...t))}:function(){var t=pyargs2jsargs(arguments);return $B.JSObj.$factory(new e(...t))};var r=e[t];if(null==r&&"function"==typeof e&&e.$js_func&&(r=e.$js_func[t]),void 0===r){if("function"==typeof e.getNamedItem)if(void 0!==(s=e.getNamedItem(t)))return $B.JSObj.$factory(s);var n=$B.get_class(e);if(n&&n[t]){var a=n[t];return"function"==typeof a?function(){for(var t=[e],r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return $B.JSObj.$factory(a.apply(null,t))}:a}if("bind"==t&&"function"==typeof e.addEventListener)return function(t,r){return e.addEventListener(t,r)};throw $B.attr_error(t,e)}if("function"==typeof r){var s=function(){var n=pyargs2jsargs(arguments),a=e.$js_func||e;try{var s=r.apply(a,n)}catch(a){throw console.log("error",a),console.log("attribute",t,"of _self",e,r,n,arguments),a}return void 0===s?$B.Undefined:null===s?_b_.None:$B.JSObj.$factory(s)};return s.prototype=r.prototype,s.$js_func=r,s.__mro__=[_b_.object],s.$infos={__name__:r.name,__qualname__:r.name},$B.frames_stack.length>0&&(s.$infos.__module__=$B.last($B.frames_stack)[3].__name__),$B.JSObj.$factory(s)}return $B.JSObj.$factory(r)},$B.JSObj.__setattr__=function(e,t,r){return e[t]=$B.pyobj2structuredclone(r),_b_.None},$B.JSObj.__getitem__=function(e,t){if("string"==typeof t)return $B.JSObj.__getattribute__(e,t);if("number"==typeof t){if(void 0!==e[t])return $B.JSObj.$factory(e[t]);if("number"==typeof e.length&&("number"==typeof t||"boolean"==typeof t)&&"function"==typeof e.item){var r=_b_.int.$factory(t);if(r<0&&(r+=e.length),null===(a=e.item(r)))throw _b_.IndexError.$factory(r);return $B.JSObj.$factory(a)}}else if(t.__class__===_b_.slice&&"function"==typeof e.item){for(var n=_b_.slice.$conv_for_seq(t,e.length),a=[],s=n.start;s<n.stop;s+=n.step)a.push(e.item(s));return a}throw _b_.KeyError.$factory(r)},$B.JSObj.__setitem__=$B.JSObj.__setattr__;var JSObj_iterator=$B.make_iterator_class("JS object iterator");$B.JSObj.__iter__=function(e){var t=[];if(_window.Symbol&&void 0!==e[Symbol.iterator]){t=[];if(void 0!==e.next)for(;;){var r=e.next();if(r.done)break;t.push($B.JSObj.$factory(r.value))}else if(void 0!==e.length&&void 0!==e.item)for(var n=0;n<e.length;n++)t.push($B.JSObj.$factory(e.item(n)));return JSObj_iterator.$factory(t)}if(void 0!==e.length&&void 0!==e.item){for(n=0;n<e.length;n++)t.push($B.JSObj.$factory(e.js.item(n)));return JSObj_iterator.$factory(t)}return JSObj_iterator.$factory(Object.keys(e))},$B.JSObj.__len__=function(e){if("number"==typeof e.length)return e.length;throw $B.attr_error("__len__",e)},$B.JSObj.__repr__=$B.JSObj.__str__=function(e){return"<Javascript "+e.constructor.name+" object: "+e.toString()+">"},$B.JSObj.bind=function(e,t,r){return e.addEventListener(t,function(e){return r(jsobj2pyobj(e))}),_b_.None},$B.JSObj.to_dict=function(e){return $B.structuredclone2pyobj(e)},$B.set_func_names($B.JSObj,"builtins"),$B.JSMeta=$B.make_class("JSMeta"),$B.JSMeta.__call__=function(e){for(var t=[],r=arguments[0],n=1,a=arguments.length;n<a;n++)t.push(arguments[n]);var s=_b_.type.__getattribute__(r,"__new__").apply(null,arguments);if(s instanceof e.__mro__[0].$js_func){var o=_b_.type.__getattribute__(r,"__init__");if(o!==_b_.object.__init__){var i=[s].concat(t);o.apply(null,i)}}return s},$B.JSMeta.__mro__=[_b_.type,_b_.object],$B.JSMeta.__getattribute__=function(e,t){return void 0!==e[t]?e[t]:void 0!==$B.JSMeta[t]?$B.JSMeta[t]:_b_.type.__getattribute__(e,t)},$B.JSMeta.__init_subclass__=function(){},$B.JSMeta.__new__=function(metaclass,class_name,bases,cl_dict){eval("var "+class_name+" = function(){\n        if(cl_dict.$string_dict.__init__){\n            var args = [this]\n            for(var i = 0, len = arguments.length; i < len; i++){\n                args.push(arguments[i])\n            }\n            cl_dict.$string_dict.__init__[0].apply(this, args)\n        }else{\n            return new bases[0].$js_func(...arguments)\n        }\n    }");var new_js_class=eval(class_name);return new_js_class.prototype=Object.create(bases[0].$js_func.prototype),new_js_class.prototype.constructor=new_js_class,new_js_class.__mro__=[bases[0],_b_.type],new_js_class.$is_js_class=!0,new_js_class},$B.set_func_names($B.JSMeta,"builtins")}(__BRYTHON__),function(e){e.stdlib={};for(var t=["VFS_import","__future__","_codecs","_codecs_jp","_collections","_collections_abc","_compat_pickle","_compression","_contextvars","_csv","_dummy_thread","_frozen_importlib","_functools","_imp","_io","_markupbase","_multibytecodec","_operator","_py_abc","_pydecimal","_queue","_random","_signal","_socket","_sre","_struct","_sysconfigdata","_sysconfigdata_0_brython_","_testcapi","_thread","_threading_local","_weakref","_weakrefset","abc","antigravity","argparse","ast","asyncio","atexit","base64","bdb","binascii","bisect","browser.aio","browser.ajax","browser.highlight","browser.idbcache","browser.indexed_db","browser.local_storage","browser.markdown","browser.object_storage","browser.session_storage","browser.svg","browser.template","browser.timer","browser.ui","browser.webcomponent","browser.websocket","browser.worker","calendar","cmath","cmd","code","codecs","codeop","colorsys","configparser","contextlib","contextvars","copy","copyreg","csv","dataclasses","datetime","decimal","difflib","doctest","enum","errno","external_import","faulthandler","fnmatch","formatter","fractions","functools","gc","genericpath","getopt","getpass","gettext","glob","gzip","heapq","hmac","imp","inspect","interpreter","io","ipaddress","itertools","keyword","linecache","locale","mimetypes","nntplib","ntpath","numbers","opcode","operator","optparse","os","pathlib","pdb","pickle","pkgutil","platform","posixpath","pprint","profile","pwd","py_compile","pydoc","queue","quopri","re","re1","reprlib","select","selectors","shlex","shutil","signal","site","site-packages.__future__","site-packages.docs","site-packages.header","site-packages.test_sp","socket","sre_compile","sre_constants","sre_parse","stat","statistics","string","stringprep","struct","subprocess","symtable","sys","sysconfig","tabnanny","tarfile","tb","tempfile","test.namespace_pkgs.module_and_namespace_package.a_test","textwrap","this","threading","time","timeit","token","tokenize","traceback","turtle","types","typing","uu","uuid","warnings","weakref","webbrowser","zipfile","zipimport","zlib"],r=0;r<t.length;r++)e.stdlib[t[r]]=["py"];var n=["_aio","_ajax","_ast","_base64","_binascii","_io_classes","_json","_jsre","_locale","_multiprocessing","_posixsubprocess","_profile","_sre","_sre_utils","_string","_strptime","_svg","_symtable","_webcomponent","_webworker","_zlib_utils","aes","array","bry_re","builtins","dis","encoding_cp932","hashlib","hmac-md5","hmac-ripemd160","hmac-sha1","hmac-sha224","hmac-sha256","hmac-sha3","hmac-sha384","hmac-sha512","html_parser","long_int","marshal","math","md5","modulefinder","pbkdf2","posix","python_re","rabbit","rabbit-legacy","random","rc4","ripemd160","sha1","sha224","sha256","sha3","sha384","sha512","tripledes","unicodedata"];for(r=0;r<n.length;r++)e.stdlib[n[r]]=["js"];var a=["browser","browser.widgets","collections","concurrent","concurrent.futures","email","email.mime","encodings","html","http","importlib","json","logging","multiprocessing","multiprocessing.dummy","pydoc_data","site-packages.foobar","site-packages.simpleaio","site-packages.ui","test","test.encoded_modules","test.leakers","test.namespace_pkgs.not_a_namespace_pkg.foo","test.support","test.test_email","test.test_importlib","test.test_importlib.builtin","test.test_importlib.extension","test.test_importlib.frozen","test.test_importlib.import_","test.test_importlib.source","test.test_json","test.tracedmodules","unittest","unittest.test","unittest.test.testmock","urllib"];for(r=0;r<a.length;r++)e.stdlib[a[r]]=["py",!0]}(__BRYTHON__),function($B){var _b_=$B.builtins,_window=self,Module=$B.module=$B.make_class("module",function(e,t,r){var n=Object.create(null);return n.__class__=Module,n.__name__=e,n.__doc__=t||_b_.None,n.__package__=r||_b_.None,n});function $download_module(e,t,r){var n=new XMLHttpRequest,a="?v="+(new Date).getTime(),s=null,o=e.__name__;"exec"==o&&console.log("download exec ???",$B.frames_stack.slice());var i=_window.setTimeout(function(){n.abort()},5e3);if($B.$options.cache?n.open("GET",t,!1):n.open("GET",t+a,!1),n.send(),$B.$CORS?s=200==n.status||0==n.status?n.responseText:_b_.ModuleNotFoundError.$factory("No module named '"+o+"'"):4==n.readyState&&(200==n.status?(s=n.responseText,e.$last_modified=n.getResponseHeader("Last-Modified")):(console.info("Error "+n.status+" means that Python module "+o+" was not found at url "+t),s=_b_.ModuleNotFoundError.$factory("No module named '"+o+"'"))),_window.clearTimeout(i),null==s)throw _b_.ModuleNotFoundError.$factory("No module named '"+o+"' (res is null)");if(s.constructor===Error)throw s;return s}function import_js(e,t){try{var r=$download_module(e,t,void 0)}catch(e){return null}return run_js(r,t,e),!0}function run_js(e,t,r){var n="$locals_"+r.__name__.replace(/\./g,"_");try{var a=new Function(n,e+";\nreturn $module")(r);$B.$options.store&&(r.$js=e)}catch(e){throw console.log(e),console.log(t,r),e}for(var s in a.__name__=r.__name__,a)"function"==typeof a[s]&&(a[s].$infos={__module__:r.__name__,__name__:s,__qualname__:s},a[s].$in_js_module=!0);if(void 0!==r){for(var s in a)r[s]=a[s];(a=r).__class__=Module}else a.__class__=Module,a.__name__=r.__name__,a.__repr__=a.__str__=function(){return $B.builtin_module_names.indexOf(r.name)>-1?"<module '"+r.__name__+"' (built-in)>":"<module '"+r.__name__+"' from "+t+" >"},"builtins"!=r.name&&(a.__file__=t);return $B.imported[r.__name__]=a,!0}function show_ns(){for(var kk=Object.keys(_window),i=0,len=kk.length;i<len;i++)console.log(kk[i]),"$"==kk[i].charAt(0)&&console.log(eval(kk[i]));console.log("---")}function run_py(module_contents,path,module,compiled){$B.file_cache[path]=module_contents,$B.url2name[path]=module.__name__;var root,js,mod_name=module.__name__;if(!compiled){var $Node=$B.$Node,$NodeJSCtx=$B.$NodeJSCtx,src={src:module_contents,filename:path};try{root=$B.py2js(src,module,module.__name__,$B.builtins_scope)}catch(e){throw $B.debug>1&&(console.log("error in imported module",module),console.log("stack",$B.frames_stack.slice())),e.$stack=$B.frames_stack.slice(),e}}try{js=compiled?module_contents:root.to_js(),10==$B.$options.debug&&(console.log("code for module "+module.__name__),console.log($B.format_indent(js,0)));var src=js;js="var $module = (function(){\n"+js;var prefix="locals_";js+="return "+prefix,js+=module.__name__.replace(/\./g,"_")+"})(__BRYTHON__)\nreturn $module";var module_id=prefix+module.__name__.replace(/\./g,"_"),$module=new Function(module_id,js)(module)}catch(e){if($B.debug>1){for(var attr in console.log(e+" for module "+module.__name__),console.log("module",module),console.log(root),$B.debug>1&&console.log($B.format_indent(js,0)),e)console.log(attr,e[attr]);console.log("message: "+e.$message),console.log("filename: "+e.fileName),console.log("linenum: "+e.lineNumber),console.log(e.stack)}throw e}finally{$B.clear_ns(module.__name__)}try{var mod=eval("$module");for(var attr in mod)module[attr]=mod[attr];return module.__initializing__=!1,$B.imported[module.__name__]=module,{content:src,name:mod_name,imports:Object.keys(root.imports).join(",")}}catch(e){for(var attr in console.log(e+"  for module "+module.__name__),e)console.log(attr+" "+e[attr]);throw $B.debug>0&&console.log("line info "+__BRYTHON__.line_info),e}}Module.__new__=function(e,t,r,n){return{__class__:e,__name__:t,__doc__:r||_b_.None,__package__:n||_b_.None}},Module.__repr__=Module.__str__=function(e){var t="<module "+e.__name__;return(t+=void 0===e.__file__?" (built-in)":" at "+e.__file__)+">"},Module.__setattr__=function(e,t,r){"__builtins__"==e.__name__?$B.builtins[t]=r:e[t]=r},$B.set_func_names(Module,"builtins"),$B.$download_module=$download_module,$B.run_py=run_py,$B.run_js=run_js;var ModuleSpec=$B.make_class("ModuleSpec",function(e){return e.__class__=ModuleSpec,e});function parent_package(e){var t=e.split(".");return t.pop(),t.join(".")}ModuleSpec.__str__=ModuleSpec.__repr__=function(e){var t=`ModuleSpec(name='${e.name}', loader=${_b_.str.$factory(e.loader)}, origin='${e.origin}'`;return e.submodule_search_locations!==_b_.None&&(t+=`, submodule_search_locations=${_b_.str.$factory(e.submodule_search_locations)}`),t+")"},$B.set_func_names(ModuleSpec,"builtins");var VFSFinder=$B.make_class("VFSFinder",function(){return{__class__:VFSFinder}});for(var method in VFSFinder.find_spec=function(e,t,r){var n,a,s;if(!$B.use_VFS)return _b_.None;if(void 0===(n=$B.VFS[t]))return _b_.None;if(a=n[3]||!1,s=n.timestamp,n){var o=$B.builtin_module_names.indexOf(t)>-1;return ModuleSpec.$factory({name:t,loader:VFSLoader.$factory(),origin:o?"built-in":"brython_stdlib",submodule_search_locations:a?[]:_b_.None,loader_state:{stored:n,timestamp:s},cached:_b_.None,parent:a?t:parent_package(t),has_location:_b_.False})}},$B.set_func_names(VFSFinder,"<import>"),VFSFinder)"function"==typeof VFSFinder[method]&&(VFSFinder[method]=_b_.classmethod.$factory(VFSFinder[method]));VFSLoader=$B.make_class("VFSLoader",function(){return{__class__:VFSLoader}}),VFSLoader.create_module=function(e,t){return _b_.None},VFSLoader.exec_module=function(e,t){var r=t.__spec__.loader_state.stored,n=t.__spec__.loader_state.timestamp;delete t.__spec__.loader_state;var a=r[0],s=r[1],o=r[2];t.$is_package=r[3]||!1;var i="VFS."+t.__name__;if(i+=t.$is_package?"/__init__.py":a,t.__file__=i,$B.file_cache[t.__file__]=$B.VFS[t.__name__][1],$B.url2name[t.__file__]=t.__name__,".js"==a)run_js(s,t.__path__,t);else{if($B.precompiled.hasOwnProperty(t.__name__)){$B.debug>1&&console.info("load",t.__name__,"from precompiled");for(var _=t.__name__.split("."),l=0;l<_.length;l++){var c=_.slice(0,l+1).join(".");if(!$B.imported.hasOwnProperty(c)||!$B.imported[c].__initialized__){var u=$B.precompiled[c],f=t.$is_package;if(void 0!==u){Array.isArray(u)&&(u=u[0]);var p=$B.imported[c]=Module.$factory(c,void 0,f);if(p.__initialized__=!0,f)p.__path__="<stdlib>",p.__package__=c,p.$is_package=!0;else(y=c.split(".")).pop(),p.__package__=y.join(".");p.__file__=i;try{var d=c.replace(/\./g,"_"),h="locals_";u+="return "+h+d;var $=new Function(h+d,u)(p)}catch(e){if($B.debug>1){for(var m in console.log("error in module",p),console.log(e),e)console.log(m,e[m]);console.log(Object.keys($B.imported)),$B.debug>1&&console.log(t,"mod_js",u)}throw e}for(var b in $)p[b]=$[b];$.__file__=i,l>0&&$B.builtins.setattr($B.imported[_.slice(0,l).join(".")],_[l],$)}}}return $}var g=t.__name__;$B.debug>1&&console.log("run Python code from VFS",g);var y,v=run_py(s,t.__file__,t);v.imports=o.join(","),v.is_package=t.$is_package,v.timestamp=$B.timestamp,v.source_ts=n,$B.precompiled[g]=v.is_package?[v.content]:v.content,(y=g.split(".")).length>1&&y.pop(),$B.$options.indexedDB&&$B.indexedDB&&$B.idb_name&&(indexedDB.open($B.idb_name).onsuccess=function(e){var r=e.target.result.transaction("modules","readwrite").objectStore("modules"),n=(r.openCursor(),r.put(v));n.onsuccess=function(){$B.debug>1&&console.info(t.__name__,"stored in db")},n.onerror=function(){console.info("could not store "+t.__name__)}})}},$B.set_func_names(VFSLoader,"builtins");var finder_cpython={__class__:_b_.type,__mro__:[_b_.object],$infos:{__module__:"builtins",__name__:"CPythonFinder"},create_module:function(e,t){return _b_.None},exec_module:function(e,t){console.log("exec PYthon module",t);var r=t.__spec__.loader_state,n=r.content;delete t.__spec__.loader_state,t.$is_package=r.is_package,t.__file__=r.__file__,$B.file_cache[t.__file__]=n,$B.url2file[t.__file__]=t.__name__;var a=t.__name__;$B.debug>1&&console.log("run Python code from CPython",a),run_py(n,t.__path__,t)},find_module:function(e,t,r){return{__class__:Loader,load_module:function(t,r){var n=e.find_spec(e,t,r),a=Module.$factory(t);$B.imported[t]=a,a.__spec__=n,e.exec_module(e,a)}}},find_spec:function(e,t,r){console.log("finder cpython",t);var n,a=new XMLHttpRequest,s="/cpython_import?module="+t;return a.open("GET",s,!1),a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var r=JSON.parse(this.responseText);n=ModuleSpec.$factory({name:t,loader:e,origin:"CPython",submodule_search_locations:r.is_package?[]:_b_.None,loader_state:{content:r.content},cached:_b_.None,parent:r.is_package?t:parent_package(t),has_location:_b_.False})}},a.send(),n}};for(var method in $B.set_func_names(finder_cpython,"<import>"),finder_cpython)"function"==typeof finder_cpython[method]&&(finder_cpython[method]=_b_.classmethod.$factory(finder_cpython[method]));finder_cpython.$factory=function(){return{__class__:finder_cpython}};var StdlibStaticFinder=$B.make_class("StdlibStaticFinder",function(){return{__class__:StdlibStaticFinder}});for(var method in StdlibStaticFinder.find_spec=function(e,t,r){if($B.stdlib&&$B.$options.static_stdlib_import){var n=$B.stdlib[t];if(void 0===n){var a=t.split(".");if(a.length>1){a.pop();var s=$B.stdlib[a.join(".")];s&&s[1]&&(n=["py"])}}if(void 0!==n){var o=n[0],i=void 0!==n[1],_={ext:o,is_package:i,path:(r=$B.brython_path+("py"==o?"Lib/":"libs/")+t.replace(/\./g,"/"))+(i?"/__init__.py":"py"==o?".py":".js"),address:n},l=Module.$factory(t);return _.code=$download_module(l,_.path),ModuleSpec.$factory({name:t,loader:PathLoader.$factory(),origin:_.path,submodule_search_locations:i?[r]:_b_.None,loader_state:_,cached:_b_.None,parent:i?t:parent_package(t),has_location:_b_.True})}}return _b_.None},$B.set_func_names(StdlibStaticFinder,"<import>"),StdlibStaticFinder)"function"==typeof StdlibStaticFinder[method]&&(StdlibStaticFinder[method]=_b_.classmethod.$factory(StdlibStaticFinder[method]));StdlibStaticFinder.$factory=function(){return{__class__:StdlibStaticFinder}};var PathFinder=$B.make_class("PathFinder",function(){return{__class__:PathFinder}});for(var method in PathFinder.find_spec=function(e,t,r){if($B.VFS&&$B.VFS[t])return _b_.None;$B.is_none(r)&&(r=$B.path);for(var n=0,a=r.length;n<a;++n){var s=r[n];"/"!=s[s.length-1]&&(s+="/");var o=$B.path_importer_cache[s];if(void 0===o)for(var i=0,_=$B.path_hooks.length;i<_;++i){var l=$B.path_hooks[i];try{o=$B.$call(l)(s),$B.path_importer_cache[s]=o;break}catch(e){if(e.__class__!==_b_.ImportError)throw e}}if(!$B.is_none(o)){var c=$B.$getattr(o,"find_spec"),u=$B.$call(c)(t);if(!$B.is_none(u))return u}}return _b_.None},$B.set_func_names(PathFinder,"<import>"),PathFinder)"function"==typeof PathFinder[method]&&(PathFinder[method]=_b_.classmethod.$factory(PathFinder[method]));var PathEntryFinder=$B.make_class("PathEntryFinder",function(e,t){return{__class__:PathEntryFinder,path_entry:e,hint:t}});PathEntryFinder.find_spec=function(e,t){var r={},n=!0,a=e.hint,s=e.path_entry+t.match(/[^.]+$/g)[0],o=[],i=$B.$options.python_extension;(void 0===a||"py"==a)&&(o=o.concat([[s+i,"py",!1],[s+"/__init__"+i,"py",!0]]));for(var _=0;n&&_<o.length;++_)try{var l=o[_],c={__name__:t,$is_package:!1};r.code=$download_module(c,l[0],void 0),n=!1,r.ext=l[1],r.is_package=l[2],void 0===a&&(e.hint=l[1],$B.path_importer_cache[e.path_entry]=e),r.is_package&&($B.path_importer_cache[s+"/"]=$B.$call(url_hook)(s+"/",e.hint)),r.path=l[0]}catch(e){if(e.__class__!==_b_.ModuleNotFoundError)throw e}return n?_b_.None:ModuleSpec.$factory({name:t,loader:PathLoader.$factory(),origin:r.path,submodule_search_locations:r.is_package?[s]:_b_.None,loader_state:r,cached:_b_.None,parent:r.is_package?t:parent_package(t),has_location:_b_.True})},$B.set_func_names(PathEntryFinder,"builtins");var PathLoader=$B.make_class("PathLoader",function(){return{__class__:PathLoader}});PathLoader.create_module=function(e,t){return _b_.None},PathLoader.exec_module=function(e,t){var r=t.__spec__.loader_state;t.$is_package=r.is_package,"py"==r.ext?run_py(r.code,r.path,t):run_js(r.code,r.path,t)};var url_hook=$B.url_hook=function(e){return e=e.endsWith("/")?e:e+"/",PathEntryFinder.$factory(e)};function import_engine(e,t,r){var n,a,s=$B.meta_path.slice(),o=$B.imported;if(r){var i=s.indexOf($B.finders.path);i>-1&&s.splice(i,1)}for(var _=0,l=s.length;_<l;_++){var c=s[_],u=$B.$getattr(c,"find_spec",_b_.None);if(u==_b_.None){var f=$B.$getattr(c,"find_module",_b_.None);if(f!==_b_.None&&(n=f(e,t))!==_b_.None){var p=$B.$getattr(n,"load_module"),d=$B.$call(p)(e);return o[e]=d,d}}else if(a=u(e,t),!$B.is_none(a)){if(void 0!==(d=$B.imported[a.name]))return o[a.name]=d;n=$B.$getattr(a,"loader",_b_.None);break}}if(void 0===n){message=e,"file"==$B.protocol&&(message+=" (warning: cannot import local files with protocol 'file')");var h=_b_.ModuleNotFoundError.$factory(message);throw h.name=e,h}if($B.is_none(d)){if(a===_b_.None)throw _b_.ModuleNotFoundError.$factory(e);var $=$B.$getattr(a,"name");if(!$B.is_none(n)){var m=$B.$getattr(n,"create_module",_b_.None);$B.is_none(m)||(d=$B.$call(m)(a))}if(void 0===d)throw _b_.ImportError.$factory(e);if($B.is_none(d)){d=$B.module.$factory(e);var b=$B.$getattr(a,"origin");b=$B.$getattr(a,"has_location")?"from '"+b+"'":"("+b+")"}}d.__name__=$,d.__loader__=n,d.__package__=$B.$getattr(a,"parent",""),d.__spec__=a;var g=$B.$getattr(a,"submodule_search_locations");(d.$is_package=!$B.is_none(g))&&(d.__path__=g),$B.$getattr(a,"has_location")&&(d.__file__=$B.$getattr(a,"origin"));var y=$B.$getattr(a,"cached");if($B.is_none(y)||(d.__cached__=y),$B.is_none(n)){if($B.is_none(g))throw _b_.ImportError.$factory(e);o[$]=d}else{var v=$B.$getattr(n,"exec_module",_b_.None);if($B.is_none(v))d=$B.$getattr(n,"load_module")($);else{o[$]=d;try{v(d)}catch(e){throw delete o[$],e}}}return o[$]}function import_error(e){var t=_b_.ImportError.$factory(e);throw t.name=e,t}function optimize_import_for_path(e,t){"/"!=e.slice(-1)&&(e+="/");var r="none"==t?_b_.None:url_hook(e,t);$B.path_importer_cache[e]=r}$B.path_importer_cache={},$B.$__import__=function(e,t,r,n,a){var s=!1;var o=!1;if(t.$jsobj&&t.$jsobj.__file__){var i=t.$jsobj.__file__;(i.startsWith($B.brython_path+"Lib/")&&!i.startsWith($B.brython_path+"Lib/site-packages/")||i.startsWith($B.brython_path+"libs/")||i.startsWith("VFS."))&&(o=!0)}var _=$B.imported[e],l=e.split("."),c=n.length>0;if(_==_b_.None&&import_error(e),void 0===_){$B.is_none(n)&&(n=[]);for(var u=0,f="",p="",d=l.length-1,h=_b_.None;u<=d;++u){var $=p;if(p+=f+l[u],f=".",(_=$B.imported[p])==_b_.None)import_error(p);else if(void 0===_){try{import_engine(p,h,o)}catch(e){throw delete $B.imported[p],e}$B.is_none($B.imported[p])?import_error(p):$&&_b_.setattr($B.imported[$],l[u],$B.imported[p])}else $B.imported[$]&&void 0===$B.imported[$][l[u]]&&_b_.setattr($B.imported[$],l[u],$B.imported[p]);if(u<d)try{h=$B.$getattr($B.imported[p],"__path__")}catch(t){if(u==d-1&&$B.imported[p][l[d]]&&$B.imported[p][l[d]].__class__===$B.module)return $B.imported[p][l[d]];if(!c){var m=_b_.ModuleNotFoundError.$factory();throw m.msg="No module named '"+e+"'; '"+p+"' is not a package",m.args=$B.fast_tuple([m.msg]),m.name=e,m.path=_b_.None,m}import_error(e)}}}else if($B.imported[l[0]]&&2==l.length)try{void 0===$B.imported[l[0]][l[1]]&&$B.$setattr($B.imported[l[0]],l[1],_)}catch(e){throw console.log("error",l,_),e}return n.length>0?$B.imported[e]:$B.imported[l[0]]},$B.$import=function(e,t,r,n){var a=!1;for(var s=0,o=$B.last($B.frames_stack)[2],i=o.split(".");e.length>0&&e.startsWith(".");){if(s++,e=e.substr(1),0==i.length)throw _b_.ImportError.$factory("Parent module '' not loaded, cannot perform relative import");o=i.join("."),i.pop()}s>0&&(e=o+(e.length>0?"."+e:""));i=e.split(".");"."==e[e.length-1]&&i.pop();for(var _=[],l=!0,c=0,u=i.length;c<u;c++){var f=i[c];if(l&&""==f){if(elt=_.pop(),void 0===elt)throw _b_.ImportError.$factory("Parent module '' not loaded, cannot perform relative import")}else l=!1,_.push(f)}e=_.join(".");t=void 0===t?[]:t,r=void 0===r?{}:r,n=void 0===n?{}:n,10==$B.$options.debug&&(console.log("$import "+e),console.log("use VFS ? "+$B.use_VFS),console.log("use static stdlib paths ? "+$B.static_stdlib_import));var p=$B.frames_stack[$B.frames_stack.length-1][3],d=p.__import__,h=$B.obj_dict(p);void 0===d&&(d=$B.$__import__);var $="function"==typeof d?d:$B.$getattr(d,"__call__");var m=$(e,h,void 0,t,0);if(t&&0!=t.length){var b=t,g={};if(t&&"*"==t[0]&&(b=$B.$getattr(m,"__all__",g))!==g&&(r={}),b===g)for(var y in m)"_"!==y[0]&&(n[y]=m[y]);else{c=0;for(var v=b.length;c<v;++c){var x=b[c],w=r[x]||x;try{n[w]=$B.$getattr(m,x)}catch(t){if(!$B.is_exc(t,[_b_.AttributeError]))throw t;try{$B.$getattr(d,"__call__")(e+"."+x,h,void 0,[],0),n[w]=$B.$getattr(m,x)}catch(t){if("__future__"===e)throw _b_.SyntaxError.$factory("future feature "+x+" is not defined");if(t.$py_error)throw t;throw $B.debug>1&&(console.log(t),console.log($B.last($B.frames_stack))),_b_.ImportError.$factory("cannot import name '"+x+"'")}}}}return n}(w=r[e])?n[w]=$B.imported[e]:n[_[0]]=m},$B.$import_from=function(e,t,r,n,a){var s=$B.last($B.frames_stack)[2].split(".");if(n>0){if(void 0===(o=$B.imported[s.join(".")]))throw _b_.ImportError.$factory("attempted relative import with no known parent package");if(!o.$is_package){if(1==s.length)throw _b_.ImportError.$factory("attempted relative import with no known parent package");s.pop(),o=$B.imported[s.join(".")]}for(;n>0;){var o;if(!(o=$B.imported[s.join(".")]).$is_package)throw _b_.ImportError.$factory("attempted relative import with no known parent package");n--,s.pop()}if(e){var i=o.__name__+"."+e;$B.$import(i,[],{},{}),o=$B.imported[i]}if(t.length>0&&"*"==t[0])for(var _ in o)_.startsWith("$")||_.startsWith("_")||(a[_]=o[_]);else for(var l of t){var c=r[l]||l;if(void 0!==o[l])a[c]=o[l];else{var u=o.__name__+"."+l;$B.$import(u,[],{},{}),a[c]=$B.imported[u]}}}else $B.$import(e,t,r,a)},$B.import_all=function(e,t){for(var r in t)-1=="_$".indexOf(r.charAt(0))&&(e[r]=t[r])},$B.$path_hooks=[url_hook],$B.$meta_path=[VFSFinder,StdlibStaticFinder,PathFinder],$B.finders={VFS:VFSFinder,stdlib_static:StdlibStaticFinder,path:PathFinder,CPython:finder_cpython};var Loader={__class__:$B.$type,__mro__:[_b_.object],__name__:"Loader"},_importlib_module={__class__:Module,__name__:"_importlib",Loader:Loader,VFSFinder:VFSFinder,StdlibStatic:StdlibStaticFinder,ImporterPath:PathFinder,UrlPathFinder:url_hook,optimize_import_for_path:optimize_import_for_path};_importlib_module.__repr__=_importlib_module.__str__=function(){return"<module '_importlib' (built-in)>"},$B.imported._importlib=_importlib_module}(__BRYTHON__);var $B=__BRYTHON__;for(var gc in $B.unicode={Cc:[[0,32],[127,33]],Zs:[32,160,5760,[8192,11],8239,8287,12288],Po:[[33,3],[37,3],[42,3,2],47,58,59,63,64,92,161,167,182,183,191,894,903,[1370,6],1417,[1472,3,3],1523,1524,1545,1546,1548,1549,1563,1566,1567,[1642,4],1748,[1792,14],[2039,3],[2096,15],2142,2404,2405,2416,2557,2678,2800,3191,3204,3572,3663,3674,3675,[3844,15],3860,3973,[4048,5],4057,4058,[4170,6],4347,[4960,9],5742,[5867,3],5941,5942,[6100,3],[6104,3],[6144,6],[6151,4],6468,6469,6686,6687,[6816,7],[6824,6],[7002,7],[7164,4],[7227,5],7294,7295,[7360,8],7379,8214,8215,[8224,8],[8240,9],[8251,4],[8257,3],[8263,11],8275,[8277,10],[11513,4],11518,11519,11632,11776,11777,[11782,3],11787,[11790,9],11800,11801,11803,11806,11807,[11818,5],[11824,10],[11836,4],11841,[11843,13],11858,[12289,3],12349,12539,42238,42239,[42509,3],42611,42622,[42738,6],[43124,4],43214,43215,[43256,3],43260,43310,43311,43359,[43457,13],43486,43487,[43612,4],43742,43743,43760,43761,44011,[65040,7],65049,65072,65093,65094,[65097,4],[65104,3],[65108,4],[65119,3],65128,65130,65131,[65281,3],[65285,3],[65290,3,2],65295,65306,65307,65311,65312,65340,65377,65380,65381,[65792,3],66463,66512,66927,67671,67871,67903,[68176,9],68223,[68336,7],[68409,7],[68505,4],[69461,5],[69703,7],69819,69820,[69822,4],[69952,4],70004,70005,[70085,4],70093,70107,[70109,3],[70200,6],70313,[70731,5],70746,70747,70749,70854,[71105,23],[71233,3],[71264,13],[71484,3],71739,[72004,3],72162,[72255,8],[72346,3],[72350,5],[72769,5],72816,72817,73463,73464,73727,[74864,5],92782,92783,92917,[92983,5],92996,[93847,4],94178,113823,[121479,5],125278,125279],Sc:[36,[162,4],1423,1547,2046,2047,2546,2547,2555,2801,3065,3647,6107,[8352,32],43064,65020,65129,65284,65504,65505,65509,65510,[73693,4],123647,126128],Ps:[40,91,123,3898,3900,5787,8218,8222,8261,8317,8333,8968,8970,9001,[10088,7,2],10181,[10214,5,2],[10627,11,2],10712,10714,10748,[11810,4,2],11842,[12296,5,2],[12308,4,2],12317,64831,65047,[65077,8,2],65095,[65113,3,2],65288,65339,65371,65375,65378],Pe:[41,93,125,3899,3901,5788,8262,8318,8334,8969,8971,9002,[10089,7,2],10182,[10215,5,2],[10628,11,2],10713,10715,10749,[11811,4,2],[12297,5,2],[12309,4,2],12318,12319,64830,65048,[65078,8,2],65096,[65114,3,2],65289,65341,[65373,3,3]],Sm:[43,[60,3],124,126,172,177,215,247,1014,[1542,3],8260,8274,[8314,3],[8330,3],8472,[8512,5],8523,[8592,5],8602,8603,[8608,3,3],8622,8654,8655,8658,8660,[8692,268],8992,8993,9084,[9115,25],[9180,6],9655,9665,[9720,8],9839,[10176,5],[10183,31],[10224,16],[10496,131],[10649,63],[10716,32],[10750,258],[11056,21],[11079,6],64297,65122,[65124,3],65291,[65308,3],65372,65374,65506,[65513,4],120513,120539,120571,120597,120629,120655,120687,120713,120745,120771,126704,126705],Pd:[45,1418,1470,5120,6150,[8208,6],11799,11802,11834,11835,11840,12316,12336,12448,65073,65074,65112,65123,65293,69293],Nd:[[48,10],[1632,10],[1776,10],[1984,10],[2406,10],[2534,10],[2662,10],[2790,10],[2918,10],[3046,10],[3174,10],[3302,10],[3430,10],[3558,10],[3664,10],[3792,10],[3872,10],[4160,10],[4240,10],[6112,10],[6160,10],[6470,10],[6608,10],[6784,10],[6800,10],[6992,10],[7088,10],[7232,10],[7248,10],[42528,10],[43216,10],[43264,10],[43472,10],[43504,10],[43600,10],[44016,10],[65296,10],[66720,10],[68912,10],[69734,10],[69872,10],[69942,10],[70096,10],[70384,10],[70736,10],[70864,10],[71248,10],[71360,10],[71472,10],[71904,10],[72016,10],[72784,10],[73040,10],[73120,10],[92768,10],[93008,10],[120782,50],[123200,10],[123632,10],[125264,10],[130032,10]],Lu:[[65,26],[192,23],[216,7],[256,28,2],[313,8,2],[330,24,2],[377,3,2],385,[386,3,2],391,[393,3],[398,4],403,404,[406,3],412,413,415,[416,4,2],423,425,428,430,431,[433,3],437,439,440,444,[452,4,3],[463,7,2],[478,9,2],497,500,[502,3],[506,29,2],570,571,573,574,577,[579,4],[584,4,2],880,882,886,895,902,[904,3],908,910,911,[913,17],[931,9],975,[978,3],[984,12,2],1012,1015,1017,1018,[1021,51],[1120,17,2],[1162,28,2],[1217,7,2],[1232,48,2],[1329,38],[4256,38],4295,4301,[5024,86],[7312,43],[7357,3],[7680,75,2],[7838,49,2],[7944,8],[7960,6],[7976,8],[7992,8],[8008,6],[8025,4,2],[8040,8],[8120,4],[8136,4],[8152,4],[8168,5],[8184,4],8450,8455,[8459,3],[8464,3],8469,[8473,5],[8484,4,2],[8491,3],[8496,4],8510,8511,8517,8579,[11264,47],11360,[11362,3],[11367,4,2],[11374,3],11378,11381,[11390,3],[11394,49,2],11499,11501,11506,[42560,23,2],[42624,14,2],[42786,7,2],[42802,31,2],[42873,3,2],[42878,5,2],42891,42893,42896,42898,[42902,11,2],[42923,4],[42928,5],[42934,5,2],42946,[42948,4],42953,42997,[65313,26],[66560,40],[66736,36],[68736,51],[71840,32],[93760,32],[119808,26],[119860,26],[119912,26],119964,119966,[119967,3,3],119974,[119977,4],[119982,8],[120016,26],120068,120069,[120071,4],[120077,8],[120086,7],120120,120121,[120123,4],[120128,5],120134,[120138,7],[120172,26],[120224,26],[120276,26],[120328,26],[120380,26],[120432,26],[120488,25],[120546,25],[120604,25],[120662,25],[120720,25],120778,[125184,34]],Sk:[94,96,168,175,180,184,[706,4],[722,14],[741,7],749,[751,17],885,900,901,8125,[8127,3],[8141,3],[8157,3],[8173,3],8189,8190,12443,12444,[42752,23],42784,42785,42889,42890,43867,43882,43883,[64434,16],65342,65344,65507,[127995,5]],Pc:[95,8255,8256,8276,65075,65076,[65101,3],65343],Ll:[[97,26],181,[223,24],[248,8],[257,28,2],[312,9,2],[329,24,2],[378,3,2],383,384,387,389,392,396,397,402,405,[409,3],414,[417,3,2],424,426,427,429,432,436,438,441,442,[445,3],[454,3,3],[462,8,2],[477,10,2],496,499,501,[505,30,2],[564,6],572,575,576,578,[583,5,2],[592,68],[661,27],881,[883,3,4],892,893,912,[940,35],976,977,[981,3],[985,12,2],[1008,4],[1013,3,3],1020,[1072,48],[1121,17,2],[1163,27,2],[1218,7,2],[1231,49,2],[1376,41],[4304,43],[4349,3],[5112,6],[7296,9],[7424,44],[7531,13],[7545,34],[7681,75,2],[7830,8],[7839,49,2],[7936,8],[7952,6],[7968,8],[7984,8],[8e3,6],[8016,8],[8032,8],[8048,14],[8064,8],[8080,8],[8096,8],[8112,5],8118,8119,8126,[8130,3],8134,8135,[8144,4],8150,8151,[8160,8],[8178,3],8182,8183,8458,8462,8463,8467,[8495,3,5],8508,8509,[8518,4],8526,8580,[11312,47],11361,11365,[11366,4,2],11377,11379,11380,[11382,6],[11393,50,2],11492,11500,11502,11507,[11520,38],11559,11565,[42561,23,2],[42625,14,2],[42787,7,2],42800,[42801,33,2],[42866,7],42874,42876,[42879,5,2],42892,42894,42897,[42899,3],[42903,10,2],42927,[42933,6,2],42947,42952,42954,42998,43002,[43824,43],[43872,9],[43888,80],[64256,7],[64275,5],[65345,26],[66600,40],[66776,36],[68800,51],[71872,32],[93792,32],[119834,26],[119886,7],[119894,18],[119938,26],[119990,4],119995,[119997,7],[120005,11],[120042,26],[120094,26],[120146,26],[120198,26],[120250,26],[120302,26],[120354,26],[120406,26],[120458,28],[120514,25],[120540,6],[120572,25],[120598,6],[120630,25],[120656,6],[120688,25],[120714,6],[120746,25],[120772,6],120779,[125218,34]],So:[166,169,174,176,1154,1421,1422,1550,1551,1758,1769,1789,1790,2038,2554,2928,[3059,6],3066,3199,3407,3449,[3841,3],3859,[3861,3],[3866,6],[3892,3,2],[4030,8],[4039,6],4046,4047,[4053,4],4254,4255,[5008,10],5741,6464,[6622,34],[7009,10],[7028,9],8448,8449,[8451,4],8456,8457,8468,8470,8471,[8478,6],[8485,3,2],8494,8506,8507,8522,8524,8525,8527,8586,8587,[8597,5],[8604,4],8609,8610,8612,8613,[8615,7],[8623,31],8656,[8657,3,2],[8662,30],[8960,8],[8972,20],[8994,7],[9003,81],[9085,30],[9140,40],[9186,69],[9280,11],[9372,78],[9472,183],[9656,9],[9666,54],[9728,111],[9840,248],[10132,44],[10240,256],[11008,48],11077,11078,[11085,39],[11126,32],[11159,105],[11493,6],11856,11857,[11904,26],[11931,89],[12032,214],[12272,12],12292,12306,12307,12320,12342,12343,12350,12351,12688,12689,[12694,10],[12736,36],[12800,31],[12842,30],12880,[12896,32],[12938,39],[12992,320],[19904,64],[42128,55],[43048,4],43062,43063,43065,[43639,3],65021,65508,65512,65517,65518,65532,65533,[65847,9],[65913,17],[65932,3],[65936,13],65952,[66e3,45],67703,67704,68296,71487,[73685,8],[73697,17],[92988,4],92997,113820,[118784,246],[119040,39],[119081,60],[119146,3],119171,119172,[119180,30],[119214,59],[119296,66],119365,[119552,87],[120832,512],[121399,4],[121453,8],[121462,14],121477,121478,123215,126124,126254,[126976,44],[127024,100],[127136,15],[127153,15],[127169,15],[127185,37],[127245,161],[127462,29],[127504,44],[127552,9],127568,127569,[127584,6],[127744,251],[128e3,728],[128736,13],[128752,13],[128768,116],[128896,89],[128992,12],[129024,12],[129040,56],[129104,10],[129120,40],[129168,30],129200,129201,[129280,121],[129402,82],[129485,135],[129632,14],[129648,5],[129656,3],[129664,7],[129680,25],[129712,7],[129728,3],[129744,7],[129792,147],[129940,55]],Lo:[170,186,443,[448,4],660,[1488,27],[1519,4],[1568,32],[1601,10],1646,1647,[1649,99],1749,1774,1775,[1786,3],1791,1808,[1810,30],[1869,89],1969,[1994,33],[2048,22],[2112,25],[2144,11],[2208,21],[2230,18],[2308,54],2365,2384,[2392,10],[2418,15],[2437,8],2447,2448,[2451,22],[2474,7],2482,[2486,4],2493,2510,2524,2525,[2527,3],2544,2545,2556,[2565,6],2575,2576,[2579,22],[2602,7],2610,2611,2613,2614,2616,2617,[2649,4],2654,[2674,3],[2693,9],[2703,3],[2707,22],[2730,7],2738,2739,[2741,5],2749,2768,2784,2785,2809,[2821,8],2831,2832,[2835,22],[2858,7],2866,2867,[2869,5],2877,2908,2909,[2911,3],2929,2947,[2949,6],[2958,3],[2962,4],2969,[2970,3,2],2975,2979,2980,[2984,3],[2990,12],3024,[3077,8],[3086,3],[3090,23],[3114,16],3133,[3160,3],3168,3169,3200,[3205,8],[3214,3],[3218,23],[3242,10],[3253,5],3261,3294,3296,3297,3313,3314,[3332,9],[3342,3],[3346,41],3389,3406,[3412,3],[3423,3],[3450,6],[3461,18],[3482,24],[3507,9],3517,[3520,7],[3585,48],3634,3635,[3648,6],3713,[3714,3,2],[3719,4],[3724,24],3749,[3751,10],3762,3763,3773,[3776,5],[3804,4],3840,[3904,8],[3913,36],[3976,5],[4096,43],4159,[4176,6],[4186,4],4193,4197,4198,[4206,3],[4213,13],4238,[4352,329],[4682,4],[4688,7],4696,[4698,4],[4704,41],[4746,4],[4752,33],[4786,4],[4792,7],4800,[4802,4],[4808,15],[4824,57],[4882,4],[4888,67],[4992,16],[5121,620],[5743,17],[5761,26],[5792,75],[5873,8],[5888,13],[5902,4],[5920,18],[5952,18],[5984,13],[5998,3],[6016,52],6108,[6176,35],[6212,53],[6272,5],[6279,34],6314,[6320,70],[6400,31],[6480,30],[6512,5],[6528,44],[6576,26],[6656,23],[6688,53],[6917,47],[6981,7],[7043,30],7086,7087,[7098,44],[7168,36],[7245,3],[7258,30],[7401,4],[7406,6],7413,7414,7418,[8501,4],[11568,56],[11648,23],[11680,7],[11688,7],[11696,7],[11704,7],[11712,7],[11720,7],[11728,7],[11736,7],12294,12348,[12353,86],12447,[12449,90],12543,[12549,43],[12593,94],[12704,32],[12784,16],13312,19903,19968,40956,[40960,21],[40982,1143],[42192,40],[42240,268],[42512,16],42538,42539,42606,[42656,70],42895,42999,[43003,7],[43011,3],[43015,4],[43020,23],[43072,52],[43138,50],[43250,6],43259,43261,43262,[43274,28],[43312,23],[43360,29],[43396,47],[43488,5],[43495,9],[43514,5],[43520,41],[43584,3],[43588,8],[43616,16],[43633,6],43642,[43646,50],43697,43701,43702,[43705,5],43712,43714,43739,43740,[43744,11],43762,[43777,6],[43785,6],[43793,6],[43808,7],[43816,7],[43968,35],44032,55203,[55216,23],[55243,49],[63744,366],[64112,106],64285,[64287,10],[64298,13],[64312,5],64318,64320,64321,64323,64324,[64326,108],[64467,363],[64848,64],[64914,54],[65008,12],[65136,5],[65142,135],[65382,10],[65393,45],[65440,31],[65474,6],[65482,6],[65490,6],[65498,3],[65536,12],[65549,26],[65576,19],65596,65597,[65599,15],[65616,14],[65664,123],[66176,29],[66208,49],[66304,32],[66349,20],[66370,8],[66384,38],[66432,30],[66464,36],[66504,8],[66640,78],[66816,40],[66864,52],[67072,311],[67392,22],[67424,8],[67584,6],67592,[67594,44],67639,67640,67644,[67647,23],[67680,23],[67712,31],[67808,19],67828,67829,[67840,22],[67872,26],[67968,56],68030,68031,68096,[68112,4],[68117,3],[68121,29],[68192,29],[68224,29],[68288,8],[68297,28],[68352,54],[68416,22],[68448,19],[68480,18],[68608,73],[68864,36],[69248,42],69296,69297,[69376,29],69415,[69424,22],[69552,21],[69600,23],[69635,53],[69763,45],[69840,25],[69891,36],69956,69959,[69968,35],70006,[70019,48],[70081,4],70106,70108,[70144,18],[70163,25],[70272,7],70280,[70282,4],[70287,15],[70303,10],[70320,47],[70405,8],70415,70416,[70419,22],[70442,7],70450,70451,[70453,5],70461,70480,[70493,5],[70656,53],[70727,4],[70751,3],[70784,48],70852,70853,70855,[71040,47],[71128,4],[71168,48],71236,[71296,43],71352,[71424,27],[71680,44],[71935,8],71945,[71948,8],71957,71958,[71960,24],71999,72001,[72096,8],[72106,39],72161,72163,72192,[72203,40],72250,72272,[72284,46],72349,[72384,57],[72704,9],[72714,37],72768,[72818,30],[72960,7],72968,72969,[72971,38],73030,[73056,6],73063,73064,[73066,32],73112,[73440,19],73648,[73728,922],[74880,196],[77824,1071],[82944,583],[92160,569],[92736,31],[92880,30],[92928,48],[93027,21],[93053,19],[93952,75],94032,94208,100343,[100352,1238],101632,101640,[110592,287],[110928,3],[110948,4],[110960,396],[113664,107],[113776,13],[113792,9],[113808,10],[123136,45],123214,[123584,44],[124928,197],[126464,4],[126469,27],126497,126498,126500,126503,[126505,10],[126516,4],126521,126523,126530,[126535,4,2],126542,126543,126545,126546,126548,[126551,6,2],126562,126564,[126567,4],[126572,7],[126580,4],[126585,4],126590,[126592,10],[126603,17],[126625,3],[126629,5],[126635,17],131072,173789,173824,177972,177984,178205,178208,183969,183984,191456,[194560,542],196608,201546],Pi:[171,8216,8219,8220,8223,8249,11778,11780,11785,11788,11804,11808],Cf:[173,[1536,6],1564,1757,1807,2274,6158,[8203,5],[8234,5],[8288,5],[8294,10],65279,[65529,3],69821,69837,[78896,9],[113824,4],[119155,8],917505,[917536,96]],No:[178,179,185,[188,3],[2548,6],[2930,6],[3056,3],[3192,7],[3416,7],[3440,9],[3882,10],[4969,20],[6128,10],6618,8304,[8308,6],[8320,10],[8528,16],8585,[9312,60],[9450,22],[10102,30],11517,[12690,4],[12832,10],[12872,8],[12881,15],[12928,10],[12977,15],[43056,6],[65799,45],[65909,4],65930,65931,[66273,27],[66336,4],[67672,8],[67705,7],[67751,9],[67835,5],[67862,6],68028,68029,[68032,16],[68050,46],[68160,9],68221,68222,[68253,3],[68331,5],[68440,8],[68472,8],[68521,7],[68858,6],[69216,31],[69405,10],[69457,4],[69573,7],[69714,20],[70113,20],71482,71483,[71914,9],[72794,19],[73664,21],[93019,7],[93824,23],[119520,20],[119648,25],[125127,9],[126065,59],[126125,3],[126129,4],[126209,45],[126255,15],[127232,13]],Pf:[187,8217,8221,8250,11779,11781,11786,11789,11805,11809],Lt:[[453,3,3],498,[8072,8],[8088,8],[8104,8],8124,8140,8188],Lm:[[688,18],[710,12],[736,5],748,750,884,890,1369,1600,1765,1766,2036,2037,2042,2074,2084,2088,2417,3654,3782,4348,6103,6211,6823,[7288,6],[7468,63],7544,[7579,37],8305,8319,[8336,13],11388,11389,11631,11823,12293,[12337,5],12347,12445,12446,[12540,3],40981,[42232,6],42508,42623,42652,42653,[42775,9],42864,42888,43e3,43001,43471,43494,43632,43741,43763,43764,[43868,4],43881,65392,65438,65439,[92992,4],[94099,13],94176,94177,94179,[123191,7],125259],Mn:[[768,112],[1155,5],[1425,45],1471,1473,1474,1476,1477,1479,[1552,11],[1611,21],1648,[1750,7],[1759,6],1767,1768,[1770,4],1809,[1840,27],[1958,11],[2027,9],2045,[2070,4],[2075,9],[2085,3],[2089,5],[2137,3],[2259,15],[2275,32],2362,2364,[2369,8],2381,[2385,7],2402,2403,2433,2492,[2497,4],2509,2530,2531,2558,2561,2562,2620,2625,2626,2631,2632,[2635,3],2641,2672,2673,2677,2689,2690,2748,[2753,5],2759,2760,2765,2786,2787,[2810,6],2817,2876,2879,[2881,4],2893,2901,2902,2914,2915,2946,3008,3021,3072,3076,[3134,3],[3142,3],[3146,4],3157,3158,3170,3171,3201,3260,3263,3270,3276,3277,3298,3299,3328,3329,3387,3388,[3393,4],3405,3426,3427,3457,3530,[3538,3],3542,3633,[3636,7],[3655,8],3761,[3764,9],[3784,6],3864,3865,[3893,3,2],[3953,14],[3968,5],3974,3975,[3981,11],[3993,36],4038,[4141,4],[4146,6],4153,4154,4157,4158,4184,4185,[4190,3],[4209,4],4226,4229,4230,4237,4253,[4957,3],[5906,3],[5938,3],5970,5971,6002,6003,6068,6069,[6071,7],6086,[6089,11],6109,[6155,3],6277,6278,6313,[6432,3],6439,6440,6450,[6457,3],6679,6680,6683,6742,[6744,7],6752,6754,[6757,8],[6771,10],6783,[6832,14],6847,6848,[6912,4],6964,[6966,5],6972,6978,[7019,9],7040,7041,[7074,4],7080,7081,[7083,3],7142,7144,7145,7149,[7151,3],[7212,8],7222,7223,[7376,3],[7380,13],[7394,7],7405,7412,7416,7417,[7616,58],[7675,5],[8400,13],8417,[8421,12],[11503,3],11647,[11744,32],[12330,4],12441,12442,42607,[42612,10],42654,42655,42736,42737,43010,43014,43019,43045,43046,43052,43204,43205,[43232,18],43263,[43302,8],[43335,11],[43392,3],43443,[43446,4],43452,43453,43493,[43561,6],43569,43570,43573,43574,43587,43596,43644,43696,[43698,3],43703,43704,43710,43711,43713,43756,43757,43766,44005,44008,44013,64286,[65024,16],[65056,16],66045,66272,[66422,5],[68097,3],68101,68102,[68108,4],[68152,3],68159,68325,68326,[68900,4],69291,69292,[69446,11],69633,[69688,15],[69759,3],[69811,4],69817,69818,[69888,3],[69927,5],[69933,8],70003,70016,70017,[70070,9],[70089,4],70095,[70191,3],70196,70198,70199,70206,70367,[70371,8],70400,70401,70459,70460,70464,[70502,7],[70512,5],[70712,8],[70722,3],70726,70750,[70835,6],70842,70847,70848,70850,70851,[71090,4],71100,71101,71103,71104,71132,71133,[71219,8],71229,71231,71232,71339,71341,[71344,6],71351,[71453,3],[71458,4],[71463,5],[71727,9],71737,71738,71995,71996,71998,72003,[72148,4],72154,72155,72160,[72193,10],[72243,6],[72251,4],72263,[72273,6],[72281,3],[72330,13],72344,72345,[72752,7],[72760,6],72767,[72850,22],[72874,7],72882,72883,72885,72886,[73009,6],73018,73020,73021,[73023,7],73031,73104,73105,73109,73111,73459,73460,[92912,5],[92976,7],94031,[94095,4],94180,113821,113822,[119143,3],[119163,8],[119173,7],[119210,4],[119362,3],[121344,55],[121403,50],121461,121476,[121499,5],[121505,15],[122880,7],[122888,17],[122907,7],122915,122916,[122918,5],[123184,7],[123628,4],[125136,7],[125252,7],[917760,240]],Me:[1160,1161,6846,[8413,4],[8418,3],[42608,3]],Mc:[2307,2363,[2366,3],[2377,4],2382,2383,2434,2435,[2494,3],2503,2504,2507,2508,2519,2563,[2622,3],2691,[2750,3],2761,2763,2764,2818,2819,2878,2880,2887,2888,2891,2892,2903,3006,3007,3009,3010,[3014,3],[3018,3],3031,[3073,3],[3137,4],3202,3203,3262,[3264,5],3271,3272,3274,3275,3285,3286,3330,3331,[3390,3],[3398,3],[3402,3],3415,3458,3459,[3535,3],[3544,8],3570,3571,3902,3903,3967,4139,4140,4145,4152,4155,4156,4182,4183,[4194,3],[4199,7],4227,4228,[4231,6],4239,[4250,3],6070,[6078,8],6087,6088,[6435,4],[6441,3],6448,6449,[6451,6],6681,6682,6741,6743,6753,6755,6756,[6765,6],6916,6965,6971,[6973,5],6979,6980,7042,7073,7078,7079,7082,7143,[7146,3],7150,7154,7155,[7204,8],7220,7221,7393,7415,12334,12335,43043,43044,43047,43136,43137,[43188,16],43346,43347,43395,43444,43445,43450,43451,[43454,3],43567,43568,43571,43572,43597,43643,43645,43755,43758,43759,43765,44003,44004,44006,44007,44009,44010,44012,69632,69634,69762,[69808,3],69815,69816,69932,69957,69958,70018,[70067,3],70079,70080,70094,[70188,3],70194,70195,70197,[70368,3],70402,70403,70462,70463,[70465,4],70471,70472,[70475,3],70487,70498,70499,[70709,3],70720,70721,70725,[70832,3],70841,[70843,4],70849,[71087,3],[71096,4],71102,[71216,3],71227,71228,71230,71340,71342,71343,71350,71456,71457,71462,[71724,3],71736,[71984,6],71991,71992,71997,72e3,72002,[72145,3],[72156,4],72164,72249,72279,72280,72343,72751,72766,72873,72881,72884,[73098,5],73107,73108,73110,73461,73462,[94033,55],94192,94193,119141,119142,[119149,6]],Nl:[[5870,3],[8544,35],[8581,4],12295,[12321,9],[12344,3],[42726,10],[65856,53],66369,66378,[66513,5],[74752,111]],Zl:[8232],Zp:[8233],Cs:[55296,56191,56192,56319,56320,57343],Co:[57344,63743,983040,1048573,1048576,1114109],digits:[[48,10],178,179,185,[1632,10],[1776,10],[1984,10],[2406,10],[2534,10],[2662,10],[2790,10],[2918,10],[3046,10],[3174,10],[3302,10],[3430,10],[3558,10],[3664,10],[3792,10],[3872,10],[4160,10],[4240,10],[4969,9],[6112,10],[6160,10],[6470,10],[6608,11],[6784,10],[6800,10],[6992,10],[7088,10],[7232,10],[7248,10],8304,[8308,6],[8320,10],[9312,9],[9332,9],[9352,9],9450,[9461,9],9471,[10102,9],[10112,9],[10122,9],[42528,10],[43216,10],[43264,10],[43472,10],[43504,10],[43600,10],[44016,10],[65296,10],[66720,10],[68160,4],[68912,10],[69216,9],[69714,9],[69734,10],[69872,10],[69942,10],[70096,10],[70384,10],[70736,10],[70864,10],[71248,10],[71360,10],[71472,10],[71904,10],[72016,10],[72784,10],[73040,10],[73120,10],[92768,10],[93008,10],[120782,50],[123200,10],[123632,10],[125264,10],[127232,11],[130032,10]],numeric:[[48,10],178,179,185,[188,3],[1632,10],[1776,10],[1984,10],[2406,10],[2534,10],[2548,6],[2662,10],[2790,10],[2918,10],[2930,6],[3046,13],[3174,10],[3192,7],[3302,10],[3416,7],[3430,19],[3558,10],[3664,10],[3792,10],[3872,20],[4160,10],[4240,10],[4969,20],[5870,3],[6112,10],[6128,10],[6160,10],[6470,10],[6608,11],[6784,10],[6800,10],[6992,10],[7088,10],[7232,10],[7248,10],8304,[8308,6],[8320,10],[8528,51],[8581,5],[9312,60],[9450,22],[10102,30],11517,12295,[12321,9],[12344,3],[12690,4],[12832,10],[12872,8],[12881,15],[12928,10],[12977,15],13317,13443,14378,15181,19968,19971,19975,19977,20061,20108,20116,20118,20159,20160,20191,20200,20237,20336,20740,20806,[20841,3,2],21313,[21315,3],21324,[21441,4],22235,22769,22777,24186,24318,24319,[24332,3],24336,25342,25420,26578,28422,29590,30334,32902,33836,36014,36019,36144,38433,38470,38476,38520,38646,[42528,10],[42726,10],[43056,6],[43216,10],[43264,10],[43472,10],[43504,10],[43600,10],[44016,10],63851,63859,63864,63922,63953,63955,63997,[65296,10],[65799,45],[65856,57],65930,65931,[66273,27],[66336,4],66369,66378,[66513,5],[66720,10],[67672,8],[67705,7],[67751,9],[67835,5],[67862,6],68028,68029,[68032,16],[68050,46],[68160,9],68221,68222,[68253,3],[68331,5],[68440,8],[68472,8],[68521,7],[68858,6],[68912,10],[69216,31],[69405,10],[69457,4],[69573,7],[69714,30],[69872,10],[69942,10],[70096,10],[70113,20],[70384,10],[70736,10],[70864,10],[71248,10],[71360,10],[71472,12],[71904,19],[72016,10],[72784,29],[73040,10],[73120,10],[73664,21],[74752,111],[92768,10],[93008,10],[93019,7],[93824,23],[119520,20],[119648,25],[120782,50],[123200,10],[123632,10],[125127,9],[125264,10],[126065,59],[126125,3],[126129,4],[126209,45],[126255,15],[127232,13],[130032,10],131073,131172,131298,131361,133418,133507,133516,133532,133866,133885,133913,140176,141720,146203,156269,194704],Cn:[[888,2],[896,4],[907,1],[909,1],[930,1],[1328,1],[1367,2],[1419,2],[1424,1],[1480,8],[1515,4],[1525,11],[1565,1],[1806,1],[1867,2],[1970,14],[2043,2],[2094,2],[2111,1],[2140,2],[2143,1],[2155,53],[2229,1],[2248,11],[2436,1],[2445,2],[2449,2],[2473,1],[2481,1],[2483,3],[2490,2],[2501,2],[2505,2],[2511,8],[2520,4],[2526,1],[2532,2],[2559,2],[2564,1],[2571,4],[2577,2],[2601,1],[2609,1],[2612,1],[2615,1],[2618,2],[2621,1],[2627,4],[2633,2],[2638,3],[2642,7],[2653,1],[2655,7],[2679,10],[2692,1],[2702,1],[2706,1],[2729,1],[2737,1],[2740,1],[2746,2],[2758,1],[2762,1],[2766,2],[2769,15],[2788,2],[2802,7],[2816,1],[2820,1],[2829,2],[2833,2],[2857,1],[2865,1],[2868,1],[2874,2],[2885,2],[2889,2],[2894,7],[2904,4],[2910,1],[2916,2],[2936,10],[2948,1],[2955,3],[2961,1],[2966,3],[2971,1],[2973,1],[2976,3],[2981,3],[2987,3],[3002,4],[3011,3],[3017,1],[3022,2],[3025,6],[3032,14],[3067,5],[3085,1],[3089,1],[3113,1],[3130,3],[3141,1],[3145,1],[3150,7],[3159,1],[3163,5],[3172,2],[3184,7],[3213,1],[3217,1],[3241,1],[3252,1],[3258,2],[3269,1],[3273,1],[3278,7],[3287,7],[3295,1],[3300,2],[3312,1],[3315,13],[3341,1],[3345,1],[3397,1],[3401,1],[3408,4],[3428,2],[3456,1],[3460,1],[3479,3],[3506,1],[3516,1],[3518,2],[3527,3],[3531,4],[3541,1],[3543,1],[3552,6],[3568,2],[3573,12],[3643,4],[3676,37],[3715,1],[3717,1],[3723,1],[3748,1],[3750,1],[3774,2],[3781,1],[3783,1],[3790,2],[3802,2],[3808,32],[3912,1],[3949,4],[3992,1],[4029,1],[4045,1],[4059,37],[4294,1],[4296,5],[4302,2],[4681,1],[4686,2],[4695,1],[4697,1],[4702,2],[4745,1],[4750,2],[4785,1],[4790,2],[4799,1],[4801,1],[4806,2],[4823,1],[4881,1],[4886,2],[4955,2],[4989,3],[5018,6],[5110,2],[5118,2],[5789,3],[5881,7],[5901,1],[5909,11],[5943,9],[5972,12],[5997,1],[6001,1],[6004,12],[6110,2],[6122,6],[6138,6],[6159,1],[6170,6],[6265,7],[6315,5],[6390,10],[6431,1],[6444,4],[6460,4],[6465,3],[6510,2],[6517,11],[6572,4],[6602,6],[6619,3],[6684,2],[6751,1],[6781,2],[6794,6],[6810,6],[6830,2],[6849,63],[6988,4],[7037,3],[7156,8],[7224,3],[7242,3],[7305,7],[7355,2],[7368,8],[7419,5],[7674,1],[7958,2],[7966,2],[8006,2],[8014,2],[8024,1],[8026,1],[8028,1],[8030,1],[8062,2],[8117,1],[8133,1],[8148,2],[8156,1],[8176,2],[8181,1],[8191,1],[8293,1],[8306,2],[8335,1],[8349,3],[8384,16],[8433,15],[8588,4],[9255,25],[9291,21],[11124,2],[11158,1],[11311,1],[11359,1],[11508,5],[11558,1],[11560,5],[11566,2],[11624,7],[11633,14],[11671,9],[11687,1],[11695,1],[11703,1],[11711,1],[11719,1],[11727,1],[11735,1],[11743,1],[11859,45],[11930,1],[12020,12],[12246,26],[12284,4],[12352,1],[12439,2],[12544,5],[12592,1],[12687,1],[12772,12],[12831,1],[40957,3],[42125,3],[42183,9],[42540,20],[42744,8],[42944,2],[42955,42],[43053,3],[43066,6],[43128,8],[43206,8],[43226,6],[43348,11],[43389,3],[43470,1],[43482,4],[43519,1],[43575,9],[43598,2],[43610,2],[43715,24],[43767,10],[43783,2],[43791,2],[43799,9],[43815,1],[43823,1],[43884,4],[44014,2],[44026,6],[55204,12],[55239,4],[55292,4],[64110,2],[64218,38],[64263,12],[64280,5],[64311,1],[64317,1],[64319,1],[64322,1],[64325,1],[64450,17],[64832,16],[64912,2],[64968,40],[65022,2],[65050,6],[65107,1],[65127,1],[65132,4],[65141,1],[65277,2],[65280,1],[65471,3],[65480,2],[65488,2],[65496,2],[65501,3],[65511,1],[65519,10],[65534,2],[65548,1],[65575,1],[65595,1],[65598,1],[65614,2],[65630,34],[65787,5],[65795,4],[65844,3],[65935,1],[65949,3],[65953,47],[66046,130],[66205,3],[66257,15],[66300,4],[66340,9],[66379,5],[66427,5],[66462,1],[66500,4],[66518,42],[66718,2],[66730,6],[66772,4],[66812,4],[66856,8],[66916,11],[66928,144],[67383,9],[67414,10],[67432,152],[67590,2],[67593,1],[67638,1],[67641,3],[67645,2],[67670,1],[67743,8],[67760,48],[67827,1],[67830,5],[67868,3],[67898,5],[67904,64],[68024,4],[68048,2],[68100,1],[68103,5],[68116,1],[68120,1],[68150,2],[68155,4],[68169,7],[68185,7],[68256,32],[68327,4],[68343,9],[68406,3],[68438,2],[68467,5],[68498,7],[68509,12],[68528,80],[68681,55],[68787,13],[68851,7],[68904,8],[68922,294],[69247,1],[69290,1],[69294,2],[69298,78],[69416,8],[69466,86],[69580,20],[69623,9],[69710,4],[69744,15],[69826,11],[69838,2],[69865,7],[69882,6],[69941,1],[69960,8],[70007,9],[70112,1],[70133,11],[70162,1],[70207,65],[70279,1],[70281,1],[70286,1],[70302,1],[70314,6],[70379,5],[70394,6],[70404,1],[70413,2],[70417,2],[70441,1],[70449,1],[70452,1],[70458,1],[70469,2],[70473,2],[70478,2],[70481,6],[70488,5],[70500,2],[70509,3],[70517,139],[70748,1],[70754,30],[70856,8],[70874,166],[71094,2],[71134,34],[71237,11],[71258,6],[71277,19],[71353,7],[71370,54],[71451,2],[71468,4],[71488,192],[71740,100],[71923,12],[71943,2],[71946,2],[71956,1],[71959,1],[71990,1],[71993,2],[72007,9],[72026,70],[72104,2],[72152,2],[72165,27],[72264,8],[72355,29],[72441,263],[72713,1],[72759,1],[72774,10],[72813,3],[72848,2],[72872,1],[72887,73],[72967,1],[72970,1],[73015,3],[73019,1],[73022,1],[73032,8],[73050,6],[73062,1],[73065,1],[73103,1],[73106,1],[73113,7],[73130,310],[73465,183],[73649,15],[73714,13],[74650,102],[74863,1],[74869,11],[75076,2748],[78895,1],[78905,4039],[83527,8633],[92729,7],[92767,1],[92778,4],[92784,96],[92910,2],[92918,10],[92998,10],[93018,1],[93026,1],[93048,5],[93072,688],[93851,101],[94027,4],[94088,7],[94112,64],[94181,11],[94194,14],[100344,8],[101590,42],[101641,8951],[110879,49],[110931,17],[110952,8],[111356,2308],[113771,5],[113789,3],[113801,7],[113818,2],[113828,4956],[119030,10],[119079,2],[119273,23],[119366,154],[119540,12],[119639,9],[119673,135],[119893,1],[119965,1],[119968,2],[119971,2],[119975,2],[119981,1],[119994,1],[119996,1],[120004,1],[120070,1],[120075,2],[120085,1],[120093,1],[120122,1],[120127,1],[120133,1],[120135,3],[120145,1],[120486,2],[120780,2],[121484,15],[121504,1],[121520,1360],[122887,1],[122905,2],[122914,1],[122917,1],[122923,213],[123181,3],[123198,2],[123210,4],[123216,368],[123642,5],[123648,1280],[125125,2],[125143,41],[125260,4],[125274,4],[125280,785],[126133,76],[126270,194],[126468,1],[126496,1],[126499,1],[126501,2],[126504,1],[126515,1],[126520,1],[126522,1],[126524,6],[126531,4],[126536,1],[126538,1],[126540,1],[126544,1],[126547,1],[126549,2],[126552,1],[126554,1],[126556,1],[126558,1],[126560,1],[126563,1],[126565,2],[126571,1],[126579,1],[126584,1],[126589,1],[126591,1],[126602,1],[126620,5],[126628,1],[126634,1],[126652,52],[126706,270],[127020,4],[127124,12],[127151,2],[127168,1],[127184,1],[127222,10],[127406,56],[127491,13],[127548,4],[127561,7],[127570,14],[127590,154],[128728,8],[128749,3],[128765,3],[128884,12],[128985,7],[129004,20],[129036,4],[129096,8],[129114,6],[129160,8],[129198,2],[129202,78],[129401,1],[129484,1],[129620,12],[129646,2],[129653,3],[129659,5],[129671,9],[129705,7],[129719,9],[129731,13],[129751,41],[129939,1],[129995,37],[130042,1030],[173790,34],[177973,11],[178206,2],[183970,14],[191457,3103],[195102,1506],[201547,715958],[917506,30],[917632,128],[918e3,65040],[1048574,2]]},$B.unicode_casefold={223:[115,115],304:[105,775],329:[700,110],496:[106,780],912:[953,776,769],944:[965,776,769],1415:[1381,1410],7830:[104,817],7831:[116,776],7832:[119,778],7833:[121,778],7834:[97,702],7838:[223],8016:[965,787],8018:[965,787,768],8020:[965,787,769],8022:[965,787,834],8064:[7936,953],8065:[7937,953],8066:[7938,953],8067:[7939,953],8068:[7940,953],8069:[7941,953],8070:[7942,953],8071:[7943,953],8072:[8064],8073:[8065],8074:[8066],8075:[8067],8076:[8068],8077:[8069],8078:[8070],8079:[8071],8080:[7968,953],8081:[7969,953],8082:[7970,953],8083:[7971,953],8084:[7972,953],8085:[7973,953],8086:[7974,953],8087:[7975,953],8088:[8080],8089:[8081],8090:[8082],8091:[8083],8092:[8084],8093:[8085],8094:[8086],8095:[8087],8096:[8032,953],8097:[8033,953],8098:[8034,953],8099:[8035,953],8100:[8036,953],8101:[8037,953],8102:[8038,953],8103:[8039,953],8104:[8096],8105:[8097],8106:[8098],8107:[8099],8108:[8100],8109:[8101],8110:[8102],8111:[8103],8114:[8048,953],8115:[945,953],8116:[940,953],8118:[945,834],8119:[945,834,953],8124:[8115],8130:[8052,953],8131:[951,953],8132:[942,953],8134:[951,834],8135:[951,834,953],8140:[8131],8146:[953,776,768],8147:[953,776,769],8150:[953,834],8151:[953,776,834],8162:[965,776,768],8163:[965,776,769],8164:[961,787],8166:[965,834],8167:[965,776,834],8178:[8060,953],8179:[969,953],8180:[974,953],8182:[969,834],8183:[969,834,953],8188:[8179],64256:[102,102],64257:[102,105],64258:[102,108],64259:[102,102,105],64260:[102,102,108],64261:[115,116],64262:[115,116],64275:[1396,1398],64276:[1396,1381],64277:[1396,1387],64278:[1406,1398],64279:[1396,1389]},$B.unicode_bidi_whitespace=[9,10,11,12,13,28,29,30,31,32,133,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8287,12288],$B.unicode_identifiers={XID_Start:[95,[65,26],[97,26],170,181,186,[192,23],[216,31],[248,458],[710,12],[736,5],748,750,[880,5],[886,2],[891,3],895,902,[904,3],908,[910,20],[931,83],[1015,139],[1162,166],[1329,38],1369,[1376,41],[1488,27],[1519,4],[1568,43],[1646,2],[1649,99],1749,[1765,2],[1774,2],[1786,3],1791,1808,[1810,30],[1869,89],1969,[1994,33],[2036,2],2042,[2048,22],2074,2084,2088,[2112,25],[2144,11],[2208,21],[2230,18],[2308,54],2365,2384,[2392,10],2417,[2418,15],[2437,8],[2447,2],[2451,22],[2474,7],2482,[2486,4],2493,2510,[2524,2],[2527,3],[2544,2],2556,[2565,6],[2575,2],[2579,22],[2602,7],[2610,2],[2613,2],[2616,2],[2649,4],2654,[2674,3],[2693,9],[2703,3],[2707,22],[2730,7],[2738,2],[2741,5],2749,2768,[2784,2],2809,[2821,8],[2831,2],[2835,22],[2858,7],[2866,2],[2869,5],2877,[2908,2],[2911,3],2929,2947,[2949,6],[2958,3],[2962,4],[2969,2],2972,[2974,2],[2979,2],[2984,3],[2990,12],3024,[3077,8],[3086,3],[3090,23],[3114,16],3133,[3160,3],[3168,2],3200,[3205,8],[3214,3],[3218,23],[3242,10],[3253,5],3261,3294,[3296,2],[3313,2],[3332,9],[3342,3],[3346,41],3389,3406,[3412,3],[3423,3],[3450,6],[3461,18],[3482,24],[3507,9],3517,[3520,7],[3585,48],3634,[3648,7],[3713,2],3716,[3718,5],[3724,24],3749,[3751,10],3762,3773,[3776,5],3782,[3804,4],3840,[3904,8],[3913,36],[3976,5],[4096,43],4159,[4176,6],[4186,4],4193,[4197,2],[4206,3],[4213,13],4238,[4256,38],4295,4301,[4304,43],4348,[4349,332],[4682,4],[4688,7],4696,[4698,4],[4704,41],[4746,4],[4752,33],[4786,4],[4792,7],4800,[4802,4],[4808,15],[4824,57],[4882,4],[4888,67],[4992,16],[5024,86],[5112,6],[5121,620],[5743,17],[5761,26],[5792,75],[5870,11],[5888,13],[5902,4],[5920,18],[5952,18],[5984,13],[5998,3],[6016,52],6103,6108,[6176,89],[6272,41],6314,[6320,70],[6400,31],[6480,30],[6512,5],[6528,44],[6576,26],[6656,23],[6688,53],6823,[6917,47],[6981,7],[7043,30],[7086,2],[7098,44],[7168,36],[7245,3],[7258,36],[7296,9],[7312,43],[7357,3],[7401,4],[7406,6],[7413,2],7418,[7424,192],[7680,278],[7960,6],[7968,38],[8008,6],[8016,8],8025,8027,8029,[8031,31],[8064,53],[8118,7],8126,[8130,3],[8134,7],[8144,4],[8150,6],[8160,13],[8178,3],[8182,7],8305,8319,[8336,13],8450,8455,[8458,10],8469,8472,[8473,5],8484,8486,8488,[8490,16],[8508,4],[8517,5],8526,[8544,41],[11264,47],[11312,47],[11360,133],[11499,4],[11506,2],[11520,38],11559,11565,[11568,56],11631,[11648,23],[11680,7],[11688,7],[11696,7],[11704,7],[11712,7],[11720,7],[11728,7],[11736,7],12293,12294,12295,[12321,9],[12337,5],[12344,5],[12353,86],[12445,3],[12449,90],[12540,4],[12549,43],[12593,94],[12704,32],[12784,16],[13312,6592],[19968,20989],[40960,1165],[42192,46],[42240,269],[42512,16],[42538,2],[42560,47],42623,[42624,30],[42656,80],[42775,9],[42786,103],[42891,53],[42946,9],[42997,13],[43011,3],[43015,4],[43020,23],[43072,52],[43138,50],[43250,6],43259,[43261,2],[43274,28],[43312,23],[43360,29],[43396,47],43471,[43488,5],43494,[43495,9],[43514,5],[43520,41],[43584,3],[43588,8],[43616,23],43642,[43646,50],43697,[43701,2],[43705,5],43712,43714,[43739,3],[43744,11],43762,[43763,2],[43777,6],[43785,6],[43793,6],[43808,7],[43816,7],[43824,43],[43868,14],[43888,115],[44032,11172],[55216,23],[55243,49],[63744,366],[64112,106],[64256,7],[64275,5],64285,[64287,10],[64298,13],[64312,5],64318,[64320,2],[64323,2],[64326,108],[64467,139],[64612,218],[64848,64],[64914,54],[65008,10],65137,65139,65143,65145,65147,65149,[65151,126],[65313,26],[65345,26],[65382,56],[65440,31],[65474,6],[65482,6],[65490,6],[65498,3],[65536,12],[65549,26],[65576,19],[65596,2],[65599,15],[65616,14],[65664,123],[65856,53],[66176,29],[66208,49],[66304,32],[66349,30],[66384,38],[66432,30],[66464,36],[66504,8],[66513,5],[66560,158],[66736,36],[66776,36],[66816,40],[66864,52],[67072,311],[67392,22],[67424,8],[67584,6],67592,[67594,44],[67639,2],67644,[67647,23],[67680,23],[67712,31],[67808,19],[67828,2],[67840,22],[67872,26],[67968,56],[68030,2],68096,[68112,4],[68117,3],[68121,29],[68192,29],[68224,29],[68288,8],[68297,28],[68352,54],[68416,22],[68448,19],[68480,18],[68608,73],[68736,51],[68800,51],[68864,36],[69248,42],[69296,2],[69376,29],69415,[69424,22],[69552,21],[69600,23],[69635,53],[69763,45],[69840,25],[69891,36],69956,69959,[69968,35],70006,[70019,48],[70081,4],70106,70108,[70144,18],[70163,25],[70272,7],70280,[70282,4],[70287,15],[70303,10],[70320,47],[70405,8],[70415,2],[70419,22],[70442,7],[70450,2],[70453,5],70461,70480,[70493,5],[70656,53],[70727,4],[70751,3],[70784,48],[70852,2],70855,[71040,47],[71128,4],[71168,48],71236,[71296,43],71352,[71424,27],[71680,44],[71840,64],[71935,8],71945,[71948,8],[71957,2],[71960,24],71999,72001,[72096,8],[72106,39],72161,72163,72192,[72203,40],72250,72272,[72284,46],72349,[72384,57],[72704,9],[72714,37],72768,[72818,30],[72960,7],[72968,2],[72971,38],73030,[73056,6],[73063,2],[73066,32],73112,[73440,19],73648,[73728,922],[74752,111],[74880,196],[77824,1071],[82944,583],[92160,569],[92736,31],[92880,30],[92928,48],[92992,4],[93027,21],[93053,19],[93760,64],[93952,75],94032,[94099,13],[94176,2],94179,[94208,6136],[100352,1238],[101632,9],[110592,287],[110928,3],[110948,4],[110960,396],[113664,107],[113776,13],[113792,9],[113808,10],[119808,85],[119894,71],[119966,2],119970,[119973,2],[119977,4],[119982,12],119995,[119997,7],[120005,65],[120071,4],[120077,8],[120086,7],[120094,28],[120123,4],[120128,5],120134,[120138,7],[120146,340],[120488,25],[120514,25],[120540,31],[120572,25],[120598,31],[120630,25],[120656,31],[120688,25],[120714,31],[120746,25],[120772,8],[123136,45],[123191,7],123214,[123584,44],[124928,197],[125184,68],125259,[126464,4],[126469,27],[126497,2],126500,126503,[126505,10],[126516,4],126521,126523,126530,126535,126537,126539,[126541,3],[126545,2],126548,126551,126553,126555,126557,126559,[126561,2],126564,[126567,4],[126572,7],[126580,4],[126585,4],126590,[126592,10],[126603,17],[126625,3],[126629,5],[126635,17],[131072,42718],[173824,4149],[177984,222],[178208,5762],[183984,7473],[194560,542],[196608,4939]],XID_Continue:[[48,10],[65,26],95,[97,26],170,181,183,186,[192,23],[216,31],[248,458],[710,12],[736,5],748,750,[768,117],[886,2],[891,3],895,902,903,[904,3],908,[910,20],[931,83],[1015,139],[1155,5],[1162,166],[1329,38],1369,[1376,41],[1425,45],1471,[1473,2],[1476,2],1479,[1488,27],[1519,4],[1552,11],[1568,74],[1646,102],1749,[1750,7],[1759,10],[1770,19],1791,1808,1809,[1810,57],[1869,101],[1984,54],2042,2045,[2048,46],[2112,28],[2144,11],[2208,21],[2230,18],[2259,15],[2275,129],[2406,10],2417,[2418,18],[2437,8],[2447,2],[2451,22],[2474,7],2482,[2486,4],2492,2493,[2494,7],[2503,2],[2507,4],2519,[2524,2],[2527,5],[2534,12],2556,2558,[2561,3],[2565,6],[2575,2],[2579,22],[2602,7],[2610,2],[2613,2],[2616,2],2620,[2622,5],[2631,2],[2635,3],2641,[2649,4],2654,[2662,16],[2689,3],[2693,9],[2703,3],[2707,22],[2730,7],[2738,2],[2741,5],2748,2749,[2750,8],[2759,3],[2763,3],2768,[2784,4],[2790,10],2809,[2810,6],2817,[2818,2],[2821,8],[2831,2],[2835,22],[2858,7],[2866,2],[2869,5],2876,2877,2878,2879,2880,[2881,4],[2887,2],[2891,3],[2901,3],[2908,2],[2911,5],[2918,10],2929,2946,2947,[2949,6],[2958,3],[2962,4],[2969,2],2972,[2974,2],[2979,2],[2984,3],[2990,12],[3006,5],[3014,3],[3018,4],3024,3031,[3046,10],3072,[3073,12],[3086,3],[3090,23],[3114,16],3133,[3134,7],[3142,3],[3146,4],[3157,2],[3160,3],[3168,4],[3174,10],3200,3201,[3202,2],[3205,8],[3214,3],[3218,23],[3242,10],[3253,5],3260,3261,3262,3263,[3264,5],3270,[3271,2],[3274,4],[3285,2],3294,[3296,4],[3302,10],[3313,2],[3328,13],[3342,3],[3346,51],[3398,3],[3402,5],[3412,4],[3423,5],[3430,10],[3450,6],3457,[3458,2],[3461,18],[3482,24],[3507,9],3517,[3520,7],3530,[3535,6],3542,[3544,8],[3558,10],[3570,2],[3585,58],[3648,15],[3664,10],[3713,2],3716,[3718,5],[3724,24],3749,[3751,23],[3776,5],3782,[3784,6],[3792,10],[3804,4],3840,[3864,2],[3872,10],3893,3895,3897,[3902,10],[3913,36],[3953,20],[3974,18],[3993,36],4038,[4096,74],[4176,78],[4256,38],4295,4301,[4304,43],4348,[4349,332],[4682,4],[4688,7],4696,[4698,4],[4704,41],[4746,4],[4752,33],[4786,4],[4792,7],4800,[4802,4],[4808,15],[4824,57],[4882,4],[4888,67],[4957,3],[4969,9],[4992,16],[5024,86],[5112,6],[5121,620],[5743,17],[5761,26],[5792,75],[5870,11],[5888,13],[5902,7],[5920,21],[5952,20],[5984,13],[5998,3],[6002,2],[6016,84],6103,6108,6109,[6112,10],[6155,3],[6160,10],[6176,89],[6272,43],[6320,70],[6400,31],[6432,12],[6448,12],[6470,40],[6512,5],[6528,44],[6576,26],[6608,11],[6656,28],[6688,63],6752,6753,6754,[6755,26],6783,[6784,10],[6800,10],6823,[6832,14],[6847,2],[6912,76],[6992,10],[7019,9],[7040,116],[7168,56],[7232,10],[7245,49],[7296,9],[7312,43],[7357,3],[7376,3],[7380,39],[7424,250],[7675,283],[7960,6],[7968,38],[8008,6],[8016,8],8025,8027,8029,[8031,31],[8064,53],[8118,7],8126,[8130,3],[8134,7],[8144,4],[8150,6],[8160,13],[8178,3],[8182,7],[8255,2],8276,8305,8319,[8336,13],[8400,13],8417,[8421,12],8450,8455,[8458,10],8469,8472,[8473,5],8484,8486,8488,[8490,16],[8508,4],[8517,5],8526,[8544,41],[11264,47],[11312,47],[11360,133],[11499,9],[11520,38],11559,11565,[11568,56],11631,11647,[11648,23],[11680,7],[11688,7],[11696,7],[11704,7],[11712,7],[11720,7],[11728,7],[11736,7],[11744,32],12293,12294,12295,[12321,15],[12337,5],[12344,5],[12353,86],[12441,2],[12445,3],[12449,90],[12540,4],[12549,43],[12593,94],[12704,32],[12784,16],[13312,6592],[19968,20989],[40960,1165],[42192,46],[42240,269],[42512,28],[42560,48],[42612,10],42623,[42624,114],[42775,9],[42786,103],[42891,53],[42946,9],[42997,51],43052,[43072,52],[43136,70],[43216,10],[43232,24],43259,[43261,49],[43312,36],[43360,29],[43392,65],43471,[43472,10],[43488,31],[43520,55],[43584,14],[43600,10],[43616,23],43642,43643,43644,43645,[43646,69],[43739,3],[43744,16],43762,[43763,4],[43777,6],[43785,6],[43793,6],[43808,7],[43816,7],[43824,43],[43868,14],[43888,123],44012,44013,[44016,10],[44032,11172],[55216,23],[55243,49],[63744,366],[64112,106],[64256,7],[64275,5],64285,64286,[64287,10],[64298,13],[64312,5],64318,[64320,2],[64323,2],[64326,108],[64467,139],[64612,218],[64848,64],[64914,54],[65008,10],[65024,16],[65056,16],[65075,2],[65101,3],65137,65139,65143,65145,65147,65149,[65151,126],[65296,10],[65313,26],65343,[65345,26],[65382,89],[65474,6],[65482,6],[65490,6],[65498,3],[65536,12],[65549,26],[65576,19],[65596,2],[65599,15],[65616,14],[65664,123],[65856,53],66045,[66176,29],[66208,49],66272,[66304,32],[66349,30],[66384,43],[66432,30],[66464,36],[66504,8],[66513,5],[66560,158],[66720,10],[66736,36],[66776,36],[66816,40],[66864,52],[67072,311],[67392,22],[67424,8],[67584,6],67592,[67594,44],[67639,2],67644,[67647,23],[67680,23],[67712,31],[67808,19],[67828,2],[67840,22],[67872,26],[67968,56],[68030,2],68096,[68097,3],[68101,2],[68108,8],[68117,3],[68121,29],[68152,3],68159,[68192,29],[68224,29],[68288,8],[68297,30],[68352,54],[68416,22],[68448,19],[68480,18],[68608,73],[68736,51],[68800,51],[68864,40],[68912,10],[69248,42],[69291,2],[69296,2],[69376,29],69415,[69424,33],[69552,21],[69600,23],69632,69633,69634,[69635,68],[69734,10],[69759,60],[69840,25],[69872,10],[69888,53],[69942,10],69956,[69957,3],[69968,36],70006,[70016,69],[70089,4],70094,70095,[70096,11],70108,[70144,18],[70163,37],70206,[70272,7],70280,[70282,4],[70287,15],[70303,10],[70320,59],[70384,10],[70400,4],[70405,8],[70415,2],[70419,22],[70442,7],[70450,2],[70453,5],[70459,10],[70471,2],[70475,3],70480,70487,[70493,7],[70502,7],[70512,5],[70656,75],[70736,10],70750,[70751,3],[70784,70],70855,[70864,10],[71040,54],[71096,9],[71128,6],[71168,65],71236,[71248,10],[71296,57],[71360,10],[71424,27],[71453,15],[71472,10],[71680,59],[71840,74],[71935,8],71945,[71948,8],[71957,2],[71960,30],[71991,2],[71995,9],[72016,10],[72096,8],[72106,46],[72154,8],72163,72164,72192,[72193,62],72263,72272,[72273,73],72349,[72384,57],[72704,9],[72714,45],[72760,9],[72784,10],[72818,30],[72850,22],72873,[72874,13],[72960,7],[72968,2],[72971,44],73018,[73020,2],[73023,9],[73040,10],[73056,6],[73063,2],[73066,37],[73104,2],[73107,6],[73120,10],[73440,23],73648,[73728,922],[74752,111],[74880,196],[77824,1071],[82944,583],[92160,569],[92736,31],[92768,10],[92880,30],[92912,5],[92928,55],[92992,4],[93008,10],[93027,21],[93053,19],[93760,64],[93952,75],94031,94032,[94033,55],[94095,17],[94176,2],94179,94180,[94192,2],[94208,6136],[100352,1238],[101632,9],[110592,287],[110928,3],[110948,4],[110960,396],[113664,107],[113776,13],[113792,9],[113808,10],[113821,2],[119141,5],[119149,6],[119163,8],[119173,7],[119210,4],[119362,3],[119808,85],[119894,71],[119966,2],119970,[119973,2],[119977,4],[119982,12],119995,[119997,7],[120005,65],[120071,4],[120077,8],[120086,7],[120094,28],[120123,4],[120128,5],120134,[120138,7],[120146,340],[120488,25],[120514,25],[120540,31],[120572,25],[120598,31],[120630,25],[120656,31],[120688,25],[120714,31],[120746,25],[120772,8],[120782,50],[121344,55],[121403,50],121461,121476,[121499,5],[121505,15],[122880,7],[122888,17],[122907,7],[122915,2],[122918,5],[123136,45],[123184,14],[123200,10],123214,[123584,58],[124928,197],[125136,7],[125184,76],[125264,10],[126464,4],[126469,27],[126497,2],126500,126503,[126505,10],[126516,4],126521,126523,126530,126535,126537,126539,[126541,3],[126545,2],126548,126551,126553,126555,126557,126559,[126561,2],126564,[126567,4],[126572,7],[126580,4],[126585,4],126590,[126592,10],[126603,17],[126625,3],[126629,5],[126635,17],[130032,10],[131072,42718],[173824,4149],[177984,222],[178208,5762],[183984,7473],[194560,542],[196608,4939],[917760,240]]},$B.unicode_tables={},$B.unicode)$B.unicode_tables[gc]={},$B.unicode[gc].forEach(function(e){if(Array.isArray(e))for(var t=e[2]||1,r=0,n=e[1];r<n;r+=1)$B.unicode_tables[gc][e[0]+r*t]=!0;else $B.unicode_tables[gc][e]=!0});for(var key in $B.unicode_identifiers){$B.unicode_tables[key]={};for(const e of $B.unicode_identifiers[key])if(Array.isArray(e))for(var i=0;i<e[1];i++)$B.unicode_tables[key][e[0]+i]=!0;else $B.unicode_tables[key][e]=!0}$B.is_unicode_cn=function(e){for(var t=$B.unicode.Cn,r=0,n=t.length;r<n;r++)return e>=t[r][0]&&e<t[r][0]+t[r][1];return!1},function($B){var _b_=$B.builtins,unicode_tables=$B.unicode_tables;function pypos2jspos(e,t){if(void 0===e.surrogates)return t;for(var r=0;e.surrogates[r]<t;)r++;return t+r}function jspos2pypos(e,t){if(void 0===e.surrogates)return t;for(var r=0;e.surrogates[r]+r<t;)r++;return t-r}function to_string(e){if(Array.isArray(e)){for(var t=0,r=e.length;t<r;t++)e[t]=to_string(e[t]);return e}return!e.__class__||e instanceof String?e:e.$brython_value}$B.has_surrogate=function(e){for(var t=0;t<e.length;t++)if(code=e.charCodeAt(t),code>=55296&&code<=56319)return!0;return!1},$B.String=function(e){for(var t=[],r=0,n=0,a=e.length;n<a;n++){e.codePointAt(n)>=65536&&(t.push(r),n++),r++}if(0==t.length)return e;var s=new String(e);return s.__class__=str,s.surrogates=t,s};var str={__class__:_b_.type,__dir__:_b_.object.__dir__,$infos:{__module__:"builtins",__name__:"str"},$is_class:!0,$native:!0};function normalize_start_end(e){var t;if(t="string"==typeof e.self?e.self.length:str.__len__(e.self),null===e.start||e.start===_b_.None?e.start=0:e.start<0&&(e.start+=t,e.start=Math.max(0,e.start)),null===e.end||e.end===_b_.None?e.end=t:e.end<0&&(e.end+=t,e.end=Math.max(0,e.end)),!_b_.isinstance(e.start,_b_.int)||!_b_.isinstance(e.end,_b_.int))throw _b_.TypeError.$factory("slice indices must be integers or None or have an __index__ method");e.self.surrogates&&(e.js_start=pypos2jspos(e.self,e.start),e.js_end=pypos2jspos(e.self,e.end))}function reverse(e){return e.split("").reverse().join("")}function check_str(e,t){if(!(e instanceof String||"string"==typeof e||_b_.isinstance(e,str)))throw _b_.TypeError.$factory((t||"")+"must be str, not "+$B.class_name(e))}function to_chars(e){for(var t=[],r=0,n=(e=to_string(e)).length;r<n;r++){var a=e.charCodeAt(r);a>=55296&&a<=56319?(t.push(e.substr(r,2)),r++):t.push(e.charAt(r))}return t}function to_codepoints(e){if(e.codepoints)return e.codepoints;for(var t=[],r=0,n=e.length;r<n;r++){var a=e.charCodeAt(r);if(a>=55296&&a<=56319){var s=65536;s+=(1023&a)<<10,s+=1023&e.charCodeAt(r+1),t.push(s),r++}else t.push(a)}return e.codepoints=t}function preformat(e,t){if(t.empty)return _b_.str.$factory(e);if(t.type&&"s"!=t.type)throw _b_.ValueError.$factory("Unknown format code '"+t.type+"' for object of type 'str'");return e}str.__add__=function(e,t){if(!_b_.isinstance(t,str))try{return $B.$getattr(t,"__radd__")(e)}catch(e){throw _b_.TypeError.$factory("Can't convert "+$B.class_name(t)+" to str implicitly")}return[e,t]=to_string([e,t]),$B.String(e+t)},str.__contains__=function(e,t){if(!_b_.isinstance(t,str))throw _b_.TypeError.$factory("'in <string>' requires string as left operand, not "+$B.class_name(t));if([e,t]=to_string([e,t]),t.__class__===str||_b_.isinstance(t,str))var r=t.length;else r=_b_.len(t);if(0==r)return!0;if(0==(a=e.length))return 0==r;for(var n=0,a=e.length;n<a;n++)if(e.substr(n,r)==t)return!0;return!1},str.__delitem__=function(){throw _b_.TypeError.$factory("'str' object doesn't support item deletion")},str.__dir__=_b_.object.__dir__,str.__eq__=function(e,t){return _b_.isinstance(t,str)?([e,t]=to_string([e,t]),e==t):_b_.NotImplemented},str.__format__=function(e,t){[e,t]=to_string([e,t]);var r=new $B.parse_format_spec(t);if(void 0!==r.sign)throw _b_.ValueError.$factory("Sign not allowed in string format specifier");return r.precision&&(e=e.substr(0,r.precision)),r.align=r.align||"<",$B.format_width(preformat(e,r),r)},str.__getitem__=function(e,t){e=to_string(e);var r=str.__len__(e);if(_b_.isinstance(t,_b_.int)){var n=t;if(t<0&&(n+=r),n>=0&&n<r){var a=pypos2jspos(e,n);return e.codePointAt(a)>=65536?$B.String(e.substr(a,2)):e[a]}throw _b_.IndexError.$factory("string index out of range")}if(_b_.isinstance(t,_b_.slice)){var s=_b_.slice.$conv_for_seq(t,r),o=pypos2jspos(e,s.start),i=pypos2jspos(e,s.stop),_=s.step,l="",c=null;if(_>0){if(i<=o)return"";for(c=o;c<i;c+=_)l+=e[c]}else{if(i>=o)return"";for(c=o;c>i;c+=_)l+=e[c]}return $B.String(l)}if(_b_.isinstance(t,_b_.bool))return e.__getitem__(_b_.int.$factory(t));throw _b_.TypeError.$factory("string indices must be integers")};var prefix=2,suffix=3,mask=2**32-1,str_hash_cache={};function fnv(e){if(0==e.length)return 0;var t=prefix;t=(t^e[0]<<7)&mask;for(var r=0,n=e.length;r<n;r++)t=(1000003*t^e[r])&mask;return-1==(t=((t=(t^e.length)&mask)^suffix)&mask)&&(t=-2),t}str.$nb_str_hash_cache=0,str.__hash__=function(e){if(void 0!==str_hash_cache[e])return str_hash_cache[e];str.$nb_str_hash_cache++,str.$nb_str_hash_cache>1e5&&(str.$nb_str_hash_cache=0,str_hash_cache={});try{return str_hash_cache[e]=fnv(to_codepoints(e))}catch(t){throw console.log("error hash, cps",e,to_codepoints(e)),t}},str.__init__=function(e,t){return _b_.None};var str_iterator=$B.make_iterator_class("str_iterator");str.__iter__=function(e){return str_iterator.$factory(to_chars(e))},str.__len__=function(e){return void 0===(e=to_string(e)).surrogates?e.length:void 0!==e.len?e.len:e.len=e.length-e.surrogates.length};var kwarg_key=new RegExp("([^\\)]*)\\)"),NotANumber=function(){this.name="NotANumber"},number_check=function(e){if(!_b_.isinstance(e,[_b_.int,_b_.float]))throw new NotANumber},get_char_array=function(e,t){return e<=0?"":new Array(e+1).join(t)},format_padding=function(e,t,r){var n=t.padding;return n?(e=e.toString(),n=parseInt(n,10),r&&(n-=1),t.left?e+get_char_array(n-e.length,t.pad_char):get_char_array(n-e.length,t.pad_char)+e):e},format_int_precision=function(e,t){var r,n=t.precision;return n?(n=parseInt(n,10),"-"===(r=e.__class__===$B.long_int?$B.long_int.to_base(e,10):e.toString())[0]?"-"+get_char_array(n-r.length+1,"0")+r.slice(1):get_char_array(n-r.length,"0")+r):e.toString()},format_float_precision=function(e,t,r,n){var a=r.precision;return isFinite(e)?n(e,a,r,t):(e=e===1/0?"inf":e===-1/0?"-inf":"nan",t?e.toUpperCase():e)},format_sign=function(e,t){if(t.sign){if(e>=0)return"+"}else if(t.space&&e>=0)return" ";return""},str_format=function(e,t){return t.pad_char=" ",format_padding(str.$factory(e),t)},num_format=function(e,t){number_check(e),e=e.__class__===$B.long_int?$B.long_int.to_base(e,10):_b_.isinstance(e,_b_.float)?parseInt(e.value):parseInt(e);var r=format_int_precision(e,t);if("0"===t.pad_char){if(e<0)return r=r.substring(1),"-"+format_padding(r,t,!0);var n=format_sign(e,t);if(""!==n)return n+format_padding(r,t,!0)}return format_padding(format_sign(e,t)+r,t)},repr_format=function(e,t){return t.pad_char=" ",format_padding(_b_.repr(e),t)},ascii_format=function(e,t){return t.pad_char=" ",format_padding(_b_.ascii(e),t)},_float_helper=function(e,t){return number_check(e),t.precision?(t.precision=parseInt(t.precision,10),validate_precision(t.precision)):t.decimal_point?t.precision=0:t.precision=6,_b_.isinstance(e,_b_.int)?e:e.value},trailing_zeros=/(.*?)(0+)([eE].*)/,leading_zeros=/\.(0*)/,trailing_dot=/\.$/,validate_precision=function(e){e>20&&(e=20)},floating_point_format=function(e,t,r){e=_float_helper(e,r);var n=r.precision;0==n&&(n=1);var a,s=e.toExponential(n-1),o=s.indexOf("e"),i=parseInt(s.substr(o+1));function _(e){if(r.alternate)return e;if(e.indexOf(".")>-1){for(;e.endsWith("0");)e=e.substr(0,e.length-1);e.endsWith(".")&&(e=e.substr(0,e.length-1))}return e}if(-4<=i&&i<n)r.precision=Math.max(0,n-1-i),a=_(a=floating_point_decimal_format(e,t,r));else{r.precision=Math.max(0,n-1);var l=t?"E":"e",c=floating_point_exponential_format(e,t,r);parts=c.split(l),parts[0]=_(parts[0]),a=parts.join(l)}return format_padding(format_sign(e,r)+a,r)},roundDownToFixed=$B.roundDownToFixed=function(e,t){if(0==t&&e.toString().indexOf("e")>-1)return BigInt(e).toString();const r=Math.pow(10,t);var n=e<0;n&&(e=-e);var a,s=(Math.floor(e*r)/r).toFixed(t),o=(Math.ceil(e*r)/r).toFixed(t);e-s==o-e?a=s[s.length-1].match(/[02468]/)?s:o:a=e-s<o-e?s:o;return n?"-"+a:a},floating_point_decimal_format=function(e,t,r){return e=_float_helper(e,r),format_padding(format_sign(e,r)+format_float_precision(e,t,r,function(e,t,r){var n=roundDownToFixed(e,t);return 0===t&&r.alternate&&(n+="."),Object.is(e,-0)&&(n="-"+n),n}),r)},_floating_exp_helper=function(e,t,r,n){var a=!1,s=e.toString();e<0?(a=!0,s=s.substr(1)):Object.is(e,-0)&&(a=!0);var o,i=s.split("."),_=0,l="+";if("0"==i[0])if(i[1]){l="-",_++;for(var c=0;"0"==i[1][c];)c++;_+=c,o=i[1][c],i[1][c+1]&&(o+="."+i[1].substr(c+1))}else o="0";else _=i[0].length-1,o=i[0][0],i[0].length>1?o+="."+i[0].substr(1)+(i[1]||""):i[1]&&(o+="."+i[1]);return o=parseFloat(o),o=roundDownToFixed(parseFloat(o),t),10==parseFloat(o)&&((i=o.split("."))[0]="1",o=i.join("."),_=parseInt(_)+1),r.alternate&&-1==o.indexOf(".")&&(o+="."),1==_.toString().length&&(_="0"+_),`${a?"-":""}${o}${n?"E":"e"}${l}${_}`},floating_point_exponential_format=function(e,t,r){return e=_float_helper(e,r),format_padding(format_sign(e,r)+format_float_precision(e,t,r,_floating_exp_helper),r)};$B.formatters={floating_point_format:floating_point_format,floating_point_decimal_format:floating_point_decimal_format,floating_point_exponential_format:floating_point_exponential_format};var signed_hex_format=function(e,t,r){var n;if(!_b_.isinstance(e,_b_.int))throw _b_.TypeError.$factory(`%X format: an integer is required, not ${$B.class_name(e)}`);if(n=e.__class__===$B.long_int?e.value.toString(16):(n=parseInt(e)).toString(16),n=format_int_precision(n,r),t&&(n=n.toUpperCase()),"0"===r.pad_char){e<0&&(n=n.substring(1),n="-"+format_padding(n,r,!0));var a=format_sign(e,r);""!==a&&(n=a+format_padding(n,r,!0))}return r.alternate&&(n="-"===n.charAt(0)?t?"-0X"+n.slice(1):"-0x"+n.slice(1):t?"0X"+n:"0x"+n),format_padding(format_sign(e,r)+n,r)},octal_format=function(e,t){var r;if(number_check(e),r=e.__class__===$B.long_int?$B.long_int.to_base(8):(r=parseInt(e)).toString(8),r=format_int_precision(r,t),"0"===t.pad_char){e<0&&(r=r.substring(1),r="-"+format_padding(r,t,!0));var n=format_sign(e,t);""!==n&&(r=n+format_padding(r,t,!0))}return t.alternate&&(r="-"===r.charAt(0)?"-0o"+r.slice(1):"0o"+r),format_padding(r,t)};function series_of_bytes(e,t){if(e.__class__&&e.__class__.$buffer_protocol)for(var r=_b_.iter(e),n=[];;)try{n.push(_b_.next(r))}catch(e){if(e.__class__===_b_.StopIteration){var a=_b_.bytes.$factory(n);return format_padding(_b_.bytes.decode(a,"ascii"),t)}throw e}else try{return bytes_obj=$B.$getattr(e,"__bytes__"),format_padding(_b_.bytes.decode(bytes_obj),t)}catch(t){if(t.__class__===_b_.AttributeError)throw _b_.TypeError.$factory("%b does not accept '"+$B.class_name(e)+"'");throw t}}var single_char_format=function(e,t){if(_b_.isinstance(e,str)&&1==e.length)return e;if(_b_.isinstance(e,_b_.bytes)&&1==e.source.length)e=e.source[0];else try{e=_b_.int.$factory(e)}catch(e){throw _b_.TypeError.$factory("%c requires int or char")}return format_padding(_b_.chr(e),t)},num_flag=function(e,t){"0"!==e||t.padding||t.decimal_point||t.left?t.decimal_point?t.precision=(t.precision||"")+e:t.padding=(t.padding||"")+e:t.pad_char="0"},decimal_point_flag=function(e,t){if(t.decimal_point)throw new UnsupportedChar;t.decimal_point=!0},neg_flag=function(e,t){t.pad_char=" ",t.left=!0},space_flag=function(e,t){t.space=!0},sign_flag=function(e,t){t.sign=!0},alternate_flag=function(e,t){t.alternate=!0},char_mapping={b:series_of_bytes,s:str_format,d:num_format,i:num_format,u:num_format,o:octal_format,r:repr_format,a:ascii_format,g:function(e,t){return floating_point_format(e,!1,t)},G:function(e,t){return floating_point_format(e,!0,t)},f:function(e,t){return floating_point_decimal_format(e,!1,t)},F:function(e,t){return floating_point_decimal_format(e,!0,t)},e:function(e,t){return floating_point_exponential_format(e,!1,t)},E:function(e,t){return floating_point_exponential_format(e,!0,t)},x:function(e,t){return signed_hex_format(e,!1,t)},X:function(e,t){return signed_hex_format(e,!0,t)},c:single_char_format,0:function(e,t){return num_flag("0",t)},1:function(e,t){return num_flag("1",t)},2:function(e,t){return num_flag("2",t)},3:function(e,t){return num_flag("3",t)},4:function(e,t){return num_flag("4",t)},5:function(e,t){return num_flag("5",t)},6:function(e,t){return num_flag("6",t)},7:function(e,t){return num_flag("7",t)},8:function(e,t){return num_flag("8",t)},9:function(e,t){return num_flag("9",t)},"-":neg_flag," ":space_flag,"+":sign_flag,".":decimal_point_flag,"#":alternate_flag},UnsupportedChar=function(){this.name="UnsupportedChar"};function __newobj__(){var e=$B.args("__newobj__",0,{},[],arguments,{},"args",null).args,t=e[1];return t.__class__=e[0],t}str.__mod__=function(e,t){var r,n=(e=to_string(e)).length,a=0,s=null;_b_.isinstance(t,_b_.tuple)?s=0:r=$B.$getattr(t,"__getitem__",_b_.None);var o="",i=function(e){++a;var t=kwarg_key.exec(e.substring(u));if(!t)throw _b_.ValueError.$factory("incomplete format key");var n=t[1];u+=t[0].length;try{var s=r(n)}catch(e){if(e.__class__===_b_.KeyError)throw e;throw _b_.TypeError.$factory("format requires a mapping")}return l(e,s)},_=function(e){var r;if(null===s)r=t;else if(void 0===(r=t[s++]))throw _b_.TypeError.$factory("not enough arguments for format string");return l(e,r)},l=function(e,t){for(var r={pad_char:" "};;){var n=char_mapping[e[u]];try{if(void 0===n)throw new UnsupportedChar;var a=n(t,r);if(void 0!==a)return a;++u}catch(r){if("UnsupportedChar"==r.name){if(invalid_char=e[u],void 0===invalid_char)throw _b_.ValueError.$factory("incomplete format");throw _b_.ValueError.$factory("unsupported format character '"+invalid_char+"' (0x"+invalid_char.charCodeAt(0).toString(16)+") at index "+u)}if("NotANumber"===r.name){var s=e[u],o=t.__class__;throw o=o?o.$infos.__name__:"string"==typeof t?"str":typeof t,_b_.TypeError.$factory("%"+s+" format: a number is required, not "+o)}throw r}}},c=0;do{var u=e.indexOf("%",a);if(u<0){o+=e.substring(a);break}if(o+=e.substring(a,u),!(++u<n))throw _b_.ValueError.$factory("incomplete format");"%"===e[u]?o+="%":(c++,"("===e[u]?(++u,o+=i(e)):o+=_(e)),a=u+1}while(a<n);if(null!==s){if(t.length>s)throw _b_.TypeError.$factory("not enough arguments for format string");if(t.length<s)throw _b_.TypeError.$factory("not all arguments converted during string formatting")}else if(0==c)throw _b_.TypeError.$factory("not all arguments converted during string formatting");return o},str.__mro__=[_b_.object],str.__mul__=function(){var e=$B.args("__mul__",2,{self:null,other:null},["self","other"],arguments,{},null,null),t=to_string(e.self);if(!_b_.isinstance(e.other,_b_.int))throw _b_.TypeError.$factory("Can't multiply sequence by non-int of type '"+$B.class_name(e.other)+"'");return t.repeat(e.other<0?0:e.other)},str.__ne__=function(e,t){var r=str.__eq__(e,t);return r===_b_.NotImplemented?r:!r},str.__new__=function(e,t){if(void 0===e)throw _b_.TypeError.$factory("str.__new__(): not enough arguments");return e===_b_.str?t:{__class__:e,$brython_value:str.$factory(t),__dict__:$B.empty_dict()}},str.__reduce_ex__=function(e){return e=to_string(e),$B.fast_tuple([__newobj__,$B.fast_tuple([e.__class__||_b_.str,e]),_b_.None,_b_.None])},str.__repr__=function(e){e=to_string(e);for(var t=$B.special_string_repr,r="",n=to_chars(e),a=0;a<n.length;a++){var s=_b_.ord(n[a]);if(void 0!==t[s])r+=t[s];else if($B.is_unicode_cn(s)){for(var o=s.toString(16);o.length<4;)o="0"+o;r+="\\u"+o}else s<32||s>=127&&s<160?((s=s.toString(16)).length<2&&(s="0"+s),r+="\\x"+s):s>=768&&s<=879?r+=""+n[a]+" ":"feff"==s.toString(16)?r+="\\ufeff":r+=n[a]}var i=r;if(-1==i.search('"')&&-1==i.search("'"))return"'"+i+"'";if(-1==e.search('"'))return'"'+i+'"';var _=new RegExp("'","g");return i="'"+i.replace(_,"\\'")+"'"},str.__rmod__=function(){var e=$B.args("__rmod__",2,{self:null,other:null},["self","other"],arguments,{},null,null);return _b_.isinstance(e.other,str)?str.__mod__(e.other,e.self):_b_.NotImplemented},str.__rmul__=function(e,t){if(e=to_string(e),_b_.isinstance(t,_b_.int)){t=_b_.int.numerator(t);for(var r="";t>0;)r+=e,t--;return r}return _b_.NotImplemented},str.__setattr__=function(e,t,r){if("string"==typeof e)throw str.hasOwnProperty(t)?_b_.AttributeError.$factory("'str' object attribute '"+t+"' is read-only"):_b_.AttributeError.$factory("'str' object has no attribute '"+t+"'");return _b_.dict.$setitem(e.__dict__,t,r),_b_.None},str.__setitem__=function(e,t,r){throw _b_.TypeError.$factory("'str' object does not support item assignment")};for(var combining=[],cp=768;cp<=879;cp++)combining.push(String.fromCharCode(cp));var combining_re=new RegExp("("+combining.join("|")+")","g");str.__str__=function(e){var t="",r=to_chars(e=to_string(e));if(r.length==e.length)return e.replace(combining_re,"$1");for(var n=0;n<r.length;n++){var a=_b_.ord(r[n]);t+=a>=768&&a<=879?""+r[n]:r[n]}return t},str.toString=function(){return"str"};var $comp_func=function(e,t){return typeof t!=typeof e?_b_.NotImplemented:"string"==typeof e?e>t:e.$brython_value>t.$brython_value};$comp_func+="";var $comps={">":"gt",">=":"ge","<":"lt","<=":"le"};for(var $op in $comps)eval("str.__"+$comps[$op]+"__ = "+$comp_func.replace(/>/gm,$op));var $notimplemented=function(e,t){throw _b_.NotImplementedError.$factory("OPERATOR not implemented for class str")};str.capitalize=function(){var e=to_string($B.args("capitalize",1,{self:self},["self"],arguments,{},null,null).self);return 0==e.length?"":e.charAt(0).toUpperCase()+e.substr(1)},str.casefold=function(){for(var e,t,r=$B.args("casefold",1,{self:self},["self"],arguments,{},null,null),n="",a=to_chars(to_string(r.self)),s=0,o=a.length;s<o;s++)e=a[s],(t=$B.unicode_casefold[e])?t.forEach(function(e){n+=String.fromCharCode(e)}):n+=e.toLowerCase();return n},str.center=function(){var e=$B.args("center",3,{self:null,width:null,fillchar:null},["self","width","fillchar"],arguments,{fillchar:" "},null,null),t=to_string(e.self);if(e.width<=t.length)return t;var r=parseInt((e.width-t.length)/2),n=e.fillchar.repeat(r);return(n+=t+n).length<e.width&&(n+=e.fillchar),n},str.count=function(){var e,t,r=$B.args("count",4,{self:null,sub:null,start:null,stop:null},["self","sub","start","stop"],arguments,{start:null,stop:null},null,null);if(!_b_.isinstance(r.sub,str))throw _b_.TypeError.$factory("Can't convert '"+$B.class_name(r.sub)+"' object to str implicitly");[e,t]=to_string([r.self,r.sub]);var n,a=e;if(null!==r.start)n=null!==r.stop?_b_.slice.$factory(r.start,r.stop):_b_.slice.$factory(r.start,e.length),a=str.__getitem__.apply(null,[e].concat(n));else if(e.length+t.length==0)return 1;if(0==t.length)return r.start==e.length?1:0==a.length?0:a.length+1;for(var s=0,o=0;o<a.length&&(o=a.indexOf(t,o))>=0;)s++,o+=t.length;return s},str.encode=function(){var e=$B.args("encode",3,{self:null,encoding:null,errors:null},["self","encoding","errors"],arguments,{encoding:"utf-8",errors:"strict"},null,null),t=to_string(e.self);if("rot13"==e.encoding||"rot_13"==e.encoding){for(var r="",n=0,a=t.length;n<a;n++){var s=t.charAt(n);r+="a"<=s&&s<="m"||"A"<=s&&s<="M"?String.fromCharCode(String.charCodeAt(s)+13):"m"<s&&s<="z"||"M"<s&&s<="Z"?String.fromCharCode(String.charCodeAt(s)-13):s}return r}return _b_.bytes.__new__(_b_.bytes,e.self,e.encoding,e.errors)},str.endswith=function(){var e,t=$B.args("endswith",4,{self:null,suffix:null,start:null,end:null},["self","suffix","start","end"],arguments,{start:0,end:null},null,null);normalize_start_end(t),e=to_string(t.self);var r=t.suffix;_b_.isinstance(r,_b_.tuple)||(r=[r]);for(var n=to_chars(e).slice(t.start,t.end),a=0,s=r.length;a<s;a++){var o=r[a];if(!_b_.isinstance(o,str))throw _b_.TypeError.$factory("endswith first arg must be str or a tuple of str, not int");if((o=o.__class__?o.$brython_value:o).length<=n.length&&n.slice(n.length-o.length).join("")==o)return!0}return!1},str.expandtabs=function(){var e=$B.args("expandtabs",2,{self:null,tabsize:null},["self","tabsize"],arguments,{tabsize:8},null,null),t=to_string(e.self),r=$B.$GetInt(e.tabsize),n=0,a=0,s="",o=to_chars(t);if(1==r)return t.replace(/\t/g," ");for(;a<o.length;){var i=o[a];switch(i){case"\t":for(;n%r>0;)s+=" ",n++;break;case"\r":case"\n":s+=i,n=0;break;default:s+=i,n++}a++}return s},str.find=function(){var e,t=$B.args("str.find",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:null},null,null);check_str(t.sub),normalize_start_end(t),[e,sub]=to_string([t.self,t.sub]);var r=str.__len__(e),n=str.__len__(sub);if(0==n&&t.start==r)return r;if(r+n==0)return-1;var a=pypos2jspos(e,t.start),s=pypos2jspos(e,t.end),o=e.substring(a,s).indexOf(sub);return-1==o?-1:jspos2pypos(e,a+o)},$B.parse_format=function(e){var t,r,n,a=e.split(":"),s=[];if(1==a.length?t=e:(t=a[0],n=a.splice(1).join(":")),(a=t.split("!")).length>1&&(t=a[0],r=a[1]),void 0!==t){t=t.replace(/\.[_a-zA-Z][_a-zA-Z0-9]*|\[[_a-zA-Z][_a-zA-Z0-9]*\]|\[[0-9]+\]/g,function(e){return s.push(e),""})}return{name:t,name_ext:s,conv:r,spec:n||"",string:e}},$B.split_format=function(e){for(var t,r=0,n=e.length,a="",s=[],o=0;r<n;)if("{"==(t=e.charAt(r))&&"{"==e.charAt(r+1))a+="{",r+=2;else if("}"==t&&"}"==e.charAt(r+1))a+="}",r+=2;else if("{"==t){s.push(a);for(var i=r+1,_=1;i<n;)if("{"==e.charAt(i))_++,i++;else if("}"==e.charAt(i)){if(i++,0==--_){var l=e.substring(r+1,i-1),c=$B.parse_format(l);if(c.raw_name=c.name,c.raw_spec=c.spec,c.name||(c.name=o+"",o++),void 0!==c.spec){function u(e,t){return""==t?"{"+o+++"}":"{"+t+"}"}c.spec=c.spec.replace(/\{(.*?)\}/g,u)}s.push(c),a="";break}}else i++;if(_>0)throw _b_.ValueError.$factory("wrong format "+e);r=i}else a+=t,r++;return a&&s.push(a),s},str.format=function(e){var t=$B.last(arguments);if("mapping"==t.$nat){for(var r=t.mapping,n=$B.$getattr(r,"__getitem__"),a=[],s=0,o=arguments.length-1;s<o;s++)a.push(arguments[s]);var i=$B.args("format",1,{self:null},["self"],a,{},"$args",null)}else r=(i=$B.args("format",1,{self:null},["self"],arguments,{},"$args","$kw")).$kw,n=function(e){return _b_.dict.$getitem(r,e)};e=to_string(i.self);var _,l=$B.split_format(e),c="";for(s=0;s<l.length;s++)if("string"!=typeof l[s]){if(void 0!==(_=l[s]).spec){function u(e,t){return/\d+/.exec(t)?_b_.tuple.__getitem__(i.$args,parseInt(t)):_b_.dict.__getitem__(i.$kw,t)}_.spec=_.spec.replace(/\{(.*?)\}/g,u)}if(_.name.charAt(0).search(/\d/)>-1)var f=parseInt(_.name),p=_b_.tuple.__getitem__(i.$args,f);else p=n(_.name);for(var d=0;d<_.name_ext.length;d++){var h=_.name_ext[d];if("."==h.charAt(0))p=$B.$getattr(p,h.substr(1));else{var $=h.substr(1,h.length-2);$.charAt(0).search(/\d/)>-1&&($=parseInt($)),p=$B.$getattr(p,"__getitem__")($)}}"a"==_.conv?p=_b_.ascii(p):"r"==_.conv?p=_b_.repr(p):"s"==_.conv&&(p=_b_.str.$factory(p)),p.$is_class||p.$factory?c+=p.__class__.__format__(p,_.spec):c+=$B.$getattr(p,"__format__")(_.spec)}else c+=l[s];return c},str.format_map=function(){var e=$B.args("format_map",2,{self:null,mapping:null},["self","mapping"],arguments,{},null,null),t=to_string(e.self);return str.format(t,{$nat:"mapping",mapping:e.mapping})},str.index=function(e){var t=str.find.apply(null,arguments);if(-1===t)throw _b_.ValueError.$factory("substring not found");return t},str.isascii=function(){for(var e=to_string($B.args("isascii",1,{self:null},["self"],arguments,{},null,null).self),t=0,r=e.length;t<r;t++)if(e.charCodeAt(t)>127)return!1;return!0},str.isalnum=function(){var e,t=to_string($B.args("isalnum",1,{self:null},["self"],arguments,{},null,null).self);for(var r of to_chars(t))if(e=_b_.ord(r),!(unicode_tables.Ll[e]||unicode_tables.Lu[e]||unicode_tables.Lm[e]||unicode_tables.Lt[e]||unicode_tables.Lo[e]||unicode_tables.Nd[e]||unicode_tables.digits[e]||unicode_tables.numeric[e]))return!1;return!0},str.isalpha=function(){var e,t=to_string($B.args("isalpha",1,{self:null},["self"],arguments,{},null,null).self);for(var r of to_chars(t))if(e=_b_.ord(r),!(unicode_tables.Ll[e]||unicode_tables.Lu[e]||unicode_tables.Lm[e]||unicode_tables.Lt[e]||unicode_tables.Lo[e]))return!1;return!0},str.isdecimal=function(){var e,t=to_string($B.args("isdecimal",1,{self:null},["self"],arguments,{},null,null).self);for(var r of to_chars(t))if(e=_b_.ord(r),!unicode_tables.Nd[e])return!1;return t.length>0},str.isdigit=function(){var e,t=to_string($B.args("isdigit",1,{self:null},["self"],arguments,{},null,null).self);for(var r of to_chars(t))if(e=_b_.ord(r),!unicode_tables.digits[e])return!1;return t.length>0},str.isidentifier=function(){var e=to_string($B.args("isidentifier",1,{self:null},["self"],arguments,{},null,null).self);if(0==e.length)return!1;var t=to_chars(e);if(void 0===unicode_tables.XID_Start[_b_.ord(t[0])])return!1;for(var r of t){var n=_b_.ord(r);if(void 0===unicode_tables.XID_Continue[n])return!1}return!0},str.islower=function(){var e,t=!1,r=to_string($B.args("islower",1,{self:null},["self"],arguments,{},null,null).self);for(var n of to_chars(r))if(e=_b_.ord(n),unicode_tables.Ll[e])t=!0;else if(unicode_tables.Lu[e]||unicode_tables.Lt[e])return!1;return t},str.isnumeric=function(){var e=to_string($B.args("isnumeric",1,{self:null},["self"],arguments,{},null,null).self);for(var t of to_chars(e))if(!unicode_tables.numeric[_b_.ord(t)])return!1;return e.length>0};var unprintable={},unprintable_gc=["Cc","Cf","Co","Cs","Zl","Zp","Zs"];function $re_escape(e){for(var t="[.*+?|()$^",r=0;r<10;r++){var n=new RegExp("\\"+t.charAt(r),"g");e=e.replace(n,"\\"+t.charAt(r))}return e}function fstring_expression(e){this.type="expression",this.start=e,this.expression="",this.conversion=null,this.fmt=null}function fstring_error(e,t){throw error=Error(e),error.position=t,error}str.isprintable=function(){if(0==Object.keys(unprintable).length){for(var e=0;e<unprintable_gc.length;e++){var t=unicode_tables[unprintable_gc[e]];for(var r in t)unprintable[r]=!0}unprintable[32]=!0}var n=to_string($B.args("isprintable",1,{self:null},["self"],arguments,{},null,null).self);for(var a of to_chars(n))if(unprintable[_b_.ord(a)])return!1;return!0},str.isspace=function(e){var t,r=to_string($B.args("isspace",1,{self:null},["self"],arguments,{},null,null).self);for(var n of to_chars(r))if(t=_b_.ord(n),!unicode_tables.Zs[t]&&-1==$B.unicode_bidi_whitespace.indexOf(t))return!1;return r.length>0},str.istitle=function(e){var t=to_string($B.args("istitle",1,{self:null},["self"],arguments,{},null,null).self);return t.length>0&&str.title(t)==t},str.isupper=function(e){$B.args("islower",1,{self:null},["self"],arguments,{},null,null);var t,r=!1,n=to_string(e);for(var a of to_chars(n))if(t=_b_.ord(a),unicode_tables.Lu[t])r=!0;else if(unicode_tables.Ll[t]||unicode_tables.Lt[t])return!1;return r},str.join=function(){for(var e=$B.args("join",2,{self:null,iterable:null},["self","iterable"],arguments,{},null,null),t=to_string(e.self),r=_b_.iter(e.iterable),n=[];;)try{var a=_b_.next(r);if(!_b_.isinstance(a,str))throw _b_.TypeError.$factory("sequence item 0: expected str instance, "+$B.class_name(a)+" found");n.push(a)}catch(e){if(_b_.isinstance(e,_b_.StopIteration))break;throw e}return n.join(t)},str.ljust=function(e){var t=$B.args("ljust",3,{self:null,width:null,fillchar:null},["self","width","fillchar"],arguments,{fillchar:" "},null,null),r=to_string(t.self),n=str.__len__(r);return t.width<=n?r:r+t.fillchar.repeat(t.width-n)},str.lower=function(e){return to_string($B.args("lower",1,{self:null},["self"],arguments,{},null,null).self).toLowerCase()},str.lstrip=function(e,t){var r=$B.args("lstrip",2,{self:null,chars:null},["self","chars"],arguments,{chars:_b_.None},null,null),n=r.self,a=r.chars;if(a===_b_.None)return e.trimStart();for([n,a]=to_string([n,a]);n.length>0;){var s=!1;for(var o of a)if(n.startsWith(o)){n=n.substr(o.length),s=!0;break}if(!s)return r.self.surrogates?$B.String(n):n}return""},str.maketrans=function(){var e=$B.args("maketrans",3,{x:null,y:null,z:null},["x","y","z"],arguments,{y:null,z:null},null,null),t=$B.empty_dict();if(null===e.y&&null===e.z){if(!_b_.isinstance(e.x,_b_.dict))throw _b_.TypeError.$factory("maketrans only argument must be a dict");for(var r=_b_.list.$factory(_b_.dict.items(e.x)),n=0,a=r.length;n<a;n++){var s=r[n][0],o=r[n][1];if(!_b_.isinstance(s,_b_.int)){if(!_b_.isinstance(s,_b_.str)||1!=s.length)throw _b_.TypeError.$factory("dictionary key "+s+" is not int or 1-char string");s=_b_.ord(s)}if(o!==_b_.None&&!_b_.isinstance(o,[_b_.int,_b_.str]))throw _b_.TypeError.$factory("dictionary value "+o+" is not None, integer or string");_b_.dict.$setitem(t,s,o)}return t}if(_b_.isinstance(e.x,_b_.str)&&_b_.isinstance(e.y,_b_.str)){if(e.x.length!==e.y.length)throw _b_.TypeError.$factory("maketrans arguments must be strings or same length");var i={};if(null!==e.z){if(!_b_.isinstance(e.z,_b_.str))throw _b_.TypeError.$factory("maketrans third argument must be a string");for(n=0,a=e.z.length;n<a;n++)i[_b_.ord(e.z.charAt(n))]=!0}for(n=0,a=e.x.length;n<a;n++){var _=_b_.ord(e.x.charAt(n)),l=e.y.charCodeAt(n);_b_.dict.$setitem(t,_,l)}for(var s in i)_b_.dict.$setitem(t,parseInt(s),_b_.None);return t}throw _b_.TypeError.$factory("maketrans arguments must be strings")},str.maketrans.$type="staticmethod",str.partition=function(){var e,t=$B.args("partition",2,{self:null,sep:null},["self","sep"],arguments,{},null,null);if(""==t.sep)throw _b_.ValueError.$factory("empty separator");check_str(t.sep),[e,sep]=to_string([t.self,t.sep]);var r=to_chars(e),n=e.indexOf(sep);return-1==n?_b_.tuple.$factory([e,"",""]):_b_.tuple.$factory([r.slice(0,n).join(""),sep,r.slice(n+sep.length).join("")])},str.removeprefix=function(){var e,t=$B.args("removeprefix",2,{self:null,prefix:null},["self","prefix"],arguments,{},null,null);if(!_b_.isinstance(t.prefix,str))throw _b_.ValueError.$factory(`prefix should be str, not '${$B.class_name(t.prefix)}'`);return[e,prefix]=to_string([t.self,t.prefix]),str.startswith(e,prefix)?e.substr(prefix.length):e.substr(0)},str.removesuffix=function(){var e,t=$B.args("removesuffix",2,{self:null,suffix:null},["self","suffix"],arguments,{},null,null);if(!_b_.isinstance(t.suffix,str))throw _b_.ValueError.$factory(`suffix should be str, not '${$B.class_name(t.prefix)}'`);return[e,suffix]=to_string([t.self,t.suffix]),suffix.length>0&&str.endswith(e,suffix)?e.substr(0,e.length-suffix.length):e.substr(0)},str.replace=function(e,t,r,n){var a=$B.args("replace",4,{self:null,old:null,new:null,count:null},["self","old","new","count"],arguments,{count:-1},null,null),s=(n=a.count,a.self);t=a.old,r=a.new;if(check_str(t,"replace() argument 1 "),check_str(r,"replace() argument 2 "),!_b_.isinstance(n,[_b_.int,_b_.float]))throw _b_.TypeError.$factory("'"+$B.class_name(n)+"' object cannot be interpreted as an integer");if(_b_.isinstance(n,_b_.float))throw _b_.TypeError.$factory("integer argument expected, got float");if(0==n)return e;if(n.__class__==$B.long_int&&(n=parseInt(n.value)),[t,r]=to_string([t,r]),""==t){if(""==r)return s;if(""==s)return r;var o=s.split("");if(n>-1&&o.length>=n){var i=o.slice(n).join("");return r+o.slice(0,n).join(r)+i}return r+o.join(r)+r}o=str.split(s,t,n);var _=s,l=-1;if(0==t.length){_=r;for(var c=0;c<o.length;c++)_+=o[c]+r;return _+i}for(n<0&&(n=_.length);n>0&&!((l=_.indexOf(t,l))<0);)_=_.substr(0,l)+r+_.substr(l+t.length),l+=r.length,n--;return _},str.rfind=function(e,t){var r,n=$B.args("rfind",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:null},null,null);normalize_start_end(n),check_str(n.sub),[r,sub]=to_string([n.self,n.sub]);var a=str.__len__(r);if(0==str.__len__(sub))return n.js_start>a?-1:str.__len__(r);var s=pypos2jspos(r,n.start),o=pypos2jspos(r,n.end),i=r.substring(s,o).lastIndexOf(sub);return-1==i?-1:jspos2pypos(r,s+i)-n.start},str.rindex=function(){var e=str.rfind.apply(null,arguments);if(-1==e)throw _b_.ValueError.$factory("substring not found");return e},str.rjust=function(e){var t=$B.args("rjust",3,{self:null,width:null,fillchar:null},["self","width","fillchar"],arguments,{fillchar:" "},null,null),r=to_string(t.self),n=str.__len__(r);return t.width<=n?r:$B.String(t.fillchar.repeat(t.width-n)+r)},str.rpartition=function(e,t){var r,n=$B.args("rpartition",2,{self:null,sep:null},["self","sep"],arguments,{},null,null);check_str(n.sep),[r,t]=[n.self,n.sep],r=reverse(r),t=reverse(t);for(var a=str.partition(r,t).reverse(),s=0;s<a.length;s++)a[s]=a[s].split("").reverse().join("");return a},str.rsplit=function(e){var t,r=$B.args("rsplit",3,{self:null,sep:null,maxsplit:null},["self","sep","maxsplit"],arguments,{sep:_b_.None,maxsplit:-1},null,null),n=r.sep;[t,n]=to_string([r.self,r.sep]);var a=reverse(t),s=n===_b_.None?n:reverse(n),o=str.split(a,s,r.maxsplit);o.reverse();for(var i=0;i<o.length;i++)o[i]=reverse(o[i]);return o},str.rstrip=function(){var e=$B.args("rstrip",2,{self:null,chars:null},["self","chars"],arguments,{chars:_b_.None},null,null),t=e.chars,r=to_string(e.self);if(t===_b_.None)return r.trimEnd();for(t=to_string(t);r.length>0;){var n=!1;for(var a of t)if(r.endsWith(a)){r=r.substr(0,r.length-a.length),n=!0;break}if(!n)return r.surrogates?$B.String(r):r}return""},str.split=function(){var e=$B.args("split",3,{self:null,sep:null,maxsplit:null},["self","sep","maxsplit"],arguments,{sep:_b_.None,maxsplit:-1},null,null),t=e.maxsplit,r=e.sep,n=0,a=to_string(e.self);if(t.__class__===$B.long_int&&(t=parseInt(t.value)),""==r)throw _b_.ValueError.$factory("empty separator");if(r===_b_.None){for(var s=[];n<a.length&&a.charAt(n).search(/\s/)>-1;)n++;if(n===a.length-1)return[a];for(var o="";;){if(-1==a.charAt(n).search(/\s/))""==o?o=a.charAt(n):o+=a.charAt(n);else if(""!==o){if(s.push(o),-1!==t&&s.length==t+1)return s.pop(),s.push(o+a.substr(n)),s;o=""}if(++n>a.length-1){o&&s.push(o);break}}return s.map($B.String)}s=[];var i="",_=(r=to_string(r)).length;if(0==t)return[e.self];for(;n<a.length;)if(a.substr(n,_)==r){if(s.push(i),n+=_,t>-1&&s.length>=t)return s.push(a.substr(n)),s.map($B.String);i=""}else i+=a.charAt(n),n++;return s.push(i),s.map($B.String)},str.splitlines=function(e){var t=$B.args("splitlines",2,{self:null,keepends:null},["self","keepends"],arguments,{keepends:!1},null,null);if(!_b_.isinstance(t.keepends,[_b_.bool,_b_.int]))throw _b_.TypeError("integer argument expected, got "+$B.get_class(t.keepends).__name);var r=_b_.int.$factory(t.keepends),n=[],a=0,s=0,o=to_string(t.self);if(!o.length)return n;for(;s<o.length;)"\r\n"==o.substr(s,2)?(n.push(o.slice(a,r?s+2:s)),a=s+=2):"\r"==o[s]||"\n"==o[s]?(n.push(o.slice(a,r?s+1:s)),a=s+=1):s++;return a<o.length&&n.push(o.slice(a)),n.map($B.String)},str.startswith=function(){var e,t=$B.args("startswith",4,{self:null,prefix:null,start:null,end:null},["self","prefix","start","end"],arguments,{start:0,end:null},null,null);normalize_start_end(t);var r=t.prefix;_b_.isinstance(r,_b_.tuple)||(r=[r]),e=to_string(t.self),r=to_string(r);var n=e.substring(t.start,t.end);for(var a of r){if(!_b_.isinstance(a,str))throw _b_.TypeError.$factory("endswith first arg must be str or a tuple of str, not int");if(n.substr(0,a.length)==a)return!0}return!1},str.strip=function(){var e=$B.args("strip",2,{self:null,chars:null},["self","chars"],arguments,{chars:_b_.None},null,null);return e.chars===_b_.None?e.self.trim():str.rstrip(str.lstrip(e.self,e.chars),e.chars)},str.swapcase=function(e){var t,r="",n=to_string($B.args("swapcase",1,{self:e},["self"],arguments,{},null,null).self);for(var a of to_chars(n))t=_b_.ord(a),unicode_tables.Ll[t]?r+=a.toUpperCase():unicode_tables.Lu[t]?r+=a.toLowerCase():r+=a;return r},str.title=function(e){var t,r,n="",a=to_string($B.args("title",1,{self:e},["self"],arguments,{},null,null).self);for(var s of to_chars(a))r=_b_.ord(s),unicode_tables.Ll[r]?t?n+=s:(n+=s.toUpperCase(),t="word"):unicode_tables.Lu[r]||unicode_tables.Lt[r]?(n+=t?s.toLowerCase():s,t="word"):(t=null,n+=s);return n},str.translate=function(){var e,t=$B.args("translate",2,{self:null,table:null},["self","table"],arguments,{},null,null),r=t.table,n=[],a=$B.$getattr(r,"__getitem__"),s=to_string(t.self);for(var o of to_chars(s)){e=_b_.ord(o);try{var i=a(e);i!==_b_.None&&("string"==typeof i?n.push(i):"number"==typeof i&&n.push(String.fromCharCode(i)))}catch(e){n.push(o)}}return n.join("")},str.upper=function(e){return to_string($B.args("upper",1,{self:null},["self"],arguments,{},null,null).self).toUpperCase()},str.zfill=function(e,t){var r=$B.args("zfill",2,{self:null,width:null},["self","width"],arguments,{},null,null),n=to_string(r.self),a=str.__len__(n);if(r.width<=a)return n;switch(n.charAt(0)){case"+":case"-":return n.charAt(0)+"0".repeat(r.width-a)+n.substr(1);default:return"0".repeat(r.width-a)+n}},str.$factory=function(e,t,r){if(0==arguments.length)return"";if(void 0===e)return $B.UndefinedType.__str__();if(null===e)return"<Javascript null>";if(void 0!==t){var n=$B.args("str",3,{arg:null,encoding:null,errors:null},["arg","encoding","errors"],arguments,{encoding:"utf-8",errors:"strict"},null,null);t=n.encoding,r=n.errors}if(("string"==typeof e||e instanceof String||"number"==typeof e)&&isFinite(e))return e.toString();try{if(e.$is_class||e.$factory)return $B.$getattr(e.__class__,"__str__")(e);if(e.__class__&&e.__class__===_b_.bytes&&void 0!==t)return _b_.bytes.decode(e,n.encoding,n.errors);var a=e.__class__||$B.get_class(e);if(void 0===a)return $B.JSObj.__str__($B.JSObj.$factory(e));if(null===(s=$B.$getattr(a,"__str__",null))||e.__class__&&e.__class__!==_b_.object&&s===_b_.object.__str__)var s=$B.$getattr(a,"__repr__")}catch(t){throw console.log("no __str__ for",e),console.log("err ",t),$B.debug>1&&console.log(t),console.log("Warning - no method __str__ or __repr__, default to toString",e),t}var o=$B.$call(s)(e);if("string"==typeof o||_b_.isinstance(o,str))return o;throw _b_.TypeError.$factory(`__str__ returned non-string (type ${$B.class_name(o)})`)},$B.set_func_names(str,"builtins"),_b_.str=str,$B.parse_format_spec=function(e){if(""==e)this.empty=!0;else{var t=0,r="<>=^",n="0123456789",a=r.indexOf(e.charAt(0));-1!=a?e.charAt(1)&&-1!=r.indexOf(e.charAt(1))?(this.fill=e.charAt(0),this.align=e.charAt(1),t=2):(this.align=r[a],this.fill=" ",t++):(a=r.indexOf(e.charAt(1)),e.charAt(1)&&-1!=a&&(this.align=r[a],this.fill=e.charAt(0),t=2));var s=e.charAt(t);for("+"!=s&&"-"!=s&&" "!=s||(this.sign=s,t++,s=e.charAt(t)),"#"==s&&(this.alternate=!0,t++,s=e.charAt(t)),"0"==s&&(this.fill="0",-1==a&&(this.align="="),t++,s=e.charAt(t));s&&n.indexOf(s)>-1;)void 0===this.width?this.width=s:this.width+=s,t++,s=e.charAt(t);if(void 0!==this.width&&(this.width=parseInt(this.width)),void 0===this.width&&"{"==s){var o=e.substr(t).search("}");this.width=e.substring(t,o),console.log("width","["+this.width+"]"),t+=o+1}if(","==s&&(this.comma=!0,t++,s=e.charAt(t)),"."==s){if(-1==n.indexOf(e.charAt(t+1)))throw _b_.ValueError.$factory("Missing precision in format spec");for(this.precision=e.charAt(t+1),t+=2,s=e.charAt(t);s&&n.indexOf(s)>-1;)this.precision+=s,t++,s=e.charAt(t);this.precision=parseInt(this.precision)}if(s&&"bcdeEfFgGnosxX%".indexOf(s)>-1&&(this.type=s,t++,s=e.charAt(t)),t!==e.length)throw _b_.ValueError.$factory("Invalid format specifier: "+e)}this.toString=function(){return(void 0===this.fill?"":_b_.str.$factory(this.fill))+(this.align||"")+(this.sign||"")+(this.alternate?"#":"")+(this.sign_aware?"0":"")+(this.width||"")+(this.comma?",":"")+(this.precision?"."+this.precision:"")+(this.type||"")}},$B.format_width=function(e,t){if(t.width&&e.length<t.width){var r=t.fill||" ",n=t.align||"<",a=t.width-e.length;switch(n){case"<":return e+r.repeat(a);case">":return r.repeat(a)+e;case"=":return"+-".indexOf(e.charAt(0))>-1?e.charAt(0)+r.repeat(a)+e.substr(1):r.repeat(a)+e;case"^":var s=parseInt(a/2);return r.repeat(s)+e+r.repeat(a-s)}}return e},$B.parse_fstring=function(e){for(var t,r,n=[],a=0,s="",o=null,i=0;a<e.length;)if(null===o)"{"==(r=e.charAt(a))?"{"==e.charAt(a+1)?(o="string",s="{",a+=2):(o="expression",t=a+1,i=1,a++):"}"==r?e.charAt(a+1)==r?(o="string",s="}",a+=2):fstring_error(" f-string: single '}' is not allowed",a):(o="string",s=r,a++);else if("string"==o){for(var _=a;_<e.length;)if("{"==(r=e.charAt(_))){if("{"!=e.charAt(_+1)){n.push(s),o="expression",t=_+1,a=_+1;break}s+="{",_+=2}else"}"==r?e.charAt(_+1)==r?(s+=r,_+=2):fstring_error(" f-string: single '}' is not allowed",a):(s+=r,_++);a=_+1}else if("debug"==o){for(;" "==e.charAt(_);)_++;"}"==e.charAt(_)&&(n.push(s),o=null,s="",a=_+1)}else{_=a,i=1;var l=0;for(s=new fstring_expression(t);_<e.length;)if("{"==(r=e.charAt(_))&&0==l)i++,s.expression+=r,_++;else if("}"==r&&0==l){if(0==(i-=1)){""==s.expression&&fstring_error("f-string: empty expression not allowed",a),n.push(s),o=null,s="",a=_+1;break}s.expression+=r,_++}else{if("\\"==r)throw Error("f-string expression part cannot include a backslash");if(0==l&&"!"==r&&null===s.fmt&&":}".indexOf(e.charAt(_+2))>-1){if(0==s.expression.length)throw Error("f-string: empty expression not allowed");if(-1=="ars".indexOf(e.charAt(_+1)))throw Error("f-string: invalid conversion character: expected 's', 'r', or 'a'");s.conversion=e.charAt(_+1),_+=2}else if("("==r||"["==r)l++,s.expression+=r,_++;else if(")"==r||"]"==r)l--,s.expression+=r,_++;else if('"'==r){var c;if('"""'==e.substr(_,3))if(-1==(c=e.indexOf('"""',_+3)))fstring_error("f-string: unterminated string",a);else{var u=e.substring(_,c+3);u=u.replace("\n","\\n\\"),s.expression+=u,_=c+3}else-1==(c=e.indexOf('"',_+1))?fstring_error("f-string: unterminated string",a):(s.expression+=e.substring(_,c+1),_=c+1)}else if(0==l&&":"==r){s.fmt=!0;for(var f=0,p=!1,d=_+1;d<e.length;d++)if("{"==e[d])"{"==e[d+1]?d+=2:f++;else if("}"==e[d])if("}"==e[d+1])d+=2;else{if(0==f){p=!0;var h=e.substring(_+1,d);s.format=$B.parse_fstring(h),_=d;break}f--}p||fstring_error("invalid format",a)}else if("="==r){var $=s.expression,m=$.charAt($.length-1),b=("()".indexOf(m)>-1?"\\":"")+m;if(0==$.length||l>0||"="==e.charAt(_+1)||"=!<>:".search(b)>-1)s.expression+=r,_+=1;else{for(tail=r;e.charAt(_+1).match(/\s/);)tail+=e.charAt(_+1),_++;for(n.push(s.expression+tail);$.match(/\s$/);)$=$.substr(0,$.length-1);s.expression=$,o="debug",_++}}else s.expression+=r,_++}i>0&&fstring_error("f-string: expected '}'",a)}for(var g of(s.length>0&&n.push(s),n))if("object"==typeof g&&void 0!==g.fmt_pos&&":"!=g.expression.charAt(g.fmt_pos))throw console.log("mauvais format",e,n),Error();return n};var _chr=$B.codepoint2jsstring=function(e){if(e>=65536&&e<=1114111){var t=e-65536;return String.fromCodePoint(55296|t>>10)+String.fromCodePoint(56320|1023&t)}return String.fromCodePoint(e)},_ord=$B.jsstring2codepoint=function(e){if(1==e.length)return e.charCodeAt(0);var t=65536;return t+=(1023&e.charCodeAt(0))<<10,t+=1023&e.charCodeAt(1)}}(__BRYTHON__),function($B){var _b_=$B.builtins;function $err(e,t){var r="unsupported operand type(s) for "+e+" : 'int' and '"+$B.class_name(t)+"'";throw _b_.TypeError.$factory(r)}function int_value(e){return"boolean"==typeof e?e?1:0:void 0!==e.$brython_value?e.$brython_value:e}function bigint_value(e){return"boolean"==typeof e?e?1n:0n:"number"==typeof e?BigInt(e):e.__class__===$B.long_int?e.value:_b_.isinstance(e,_b_.int)?bigint_value(e.$brython_value):void 0}var int={__class__:_b_.type,__dir__:_b_.object.__dir__,__mro__:[_b_.object],$infos:{__module__:"builtins",__name__:"int"},$is_class:!0,$native:!0,$descriptors:{numerator:!0,denominator:!0,imag:!0,real:!0}},int_or_long=int.$int_or_long=function(e){var t=Number(e);return Number.isSafeInteger(t)?t:$B.fast_long_int(e)};int.$to_js_number=function(e){return"number"==typeof e?e:e.__class__===$B.long_int?Number(e.value):_b_.isinstance(e,_b_.int)?int.$to_js_value(e.$brython_value):null},int.$to_bigint=bigint_value,int.as_integer_ratio=function(){var e=$B.args("as_integer_ratio",1,{self:null},["self"],arguments,{},null,null);return $B.fast_tuple([e.self,1])},int.from_bytes=function(){var e,t,r=$B.args("from_bytes",3,{bytes:null,byteorder:null,signed:null},["bytes","byteorder","signed"],arguments,{signed:!1},null,null),n=r.bytes,a=r.byteorder,s=r.signed;if(_b_.isinstance(n,[_b_.bytes,_b_.bytearray]))e=n.source,t=n.source.length;else{t=(e=_b_.list.$factory(n)).length;for(var o=0;o<t;o++)_b_.bytes.$factory([e[o]])}if("big"==a)e.reverse();else if("little"!=a)throw _b_.ValueError.$factory("byteorder must be either 'little' or 'big'");var i=e[0];s&&i>=128&&(i-=256),i=BigInt(i);var _=256n;for(o=1;o<t;o++)i+=_*BigInt(e[o]),_*=256n;return s?e[t-1]<128?int_or_long(i):int_or_long(i-_):int_or_long(i)},int.to_bytes=function(){var e=$B.args("to_bytes",3,{self:null,len:null,byteorder:null,signed:null},["self","len","byteorder","*","signed"],arguments,{signed:!1},null,null),t=e.self,r=e.len,n=e.byteorder,a=e.signed;if(!_b_.isinstance(r,_b_.int))throw _b_.TypeError.$factory("integer argument expected, got "+$B.class_name(r));if(-1==["little","big"].indexOf(n))throw _b_.ValueError.$factory("byteorder must be either 'little' or 'big'");if(_b_.isinstance(t,$B.long_int))return $B.long_int.to_bytes(t,r,n,a);if(t<0){if(!a)throw _b_.OverflowError.$factory("can't convert negative int to unsigned");t=Math.pow(256,r)+t}for(var s=[],o=t;o>0;){var i=Math.floor(o/256),_=o-256*i;if(s.push(_),s.length>r)throw _b_.OverflowError.$factory("int too big to convert");o=i}for(;s.length<r;)s.push(0);return"big"==n&&s.reverse(),{__class__:_b_.bytes,source:s}},int.__abs__=function(e){return Math.abs(int_value(e))},int.__add__=function(e,t){return"number"==typeof t?int_or_long(BigInt(e)+BigInt(t)):t.__class__===$B.long_int?int_or_long(BigInt(e)+t.value):"boolean"==typeof t?int_or_long(BigInt(e)+(t?1n:0n)):_b_.isinstance(t,_b_.int)?int.__add__(e,t.$brython_value):_b_.NotImplemented};var op_model=int.__add__+"";function preformat(e,t){if(t.empty)return _b_.str.$factory(e);if(t.type&&-1=="bcdoxXn".indexOf(t.type))throw _b_.ValueError.$factory("Unknown format code '"+t.type+"' for object of type 'int'");var r;switch(t.type){case void 0:case"d":r=e.toString();break;case"b":r=(t.alternate?"0b":"")+e.toString(2);break;case"c":r=_b_.chr(e);break;case"o":r=(t.alternate?"0o":"")+e.toString(8);break;case"x":r=(t.alternate?"0x":"")+e.toString(16);break;case"X":r=(t.alternate?"0X":"")+e.toString(16).toUpperCase();break;case"n":return e}return void 0!==t.sign&&(" "==t.sign||"+"==t.sign)&&e>=0&&(r=t.sign+r),r}function extended_euclidean(e,t){var r,n,a;return 0==t?[e,1n,0n]:([r,n,a]=extended_euclidean(t,e%t),[r,a,n-e/t*a])}function __newobj__(){var e=$B.args("__newobj__",0,{},[],arguments,{},"args",null).args,t=e.slice(1);return t.__class__=e[0],t}for(var attr of(int.__bool__=function(e){return 0!=int_value(e).valueOf()},int.__ceil__=function(e){return Math.ceil(int_value(e))},int.__divmod__=function(e,t){return _b_.isinstance(t,int)?$B.fast_tuple([int.__floordiv__(e,t),int.__mod__(e,t)]):_b_.NotImplemented},int.__eq__=function(e,t){int_value(e);return _b_.isinstance(t,int)?int_value(e)==int_value(t):_b_.NotImplemented},int.__float__=function(e){return $B.fast_float(int_value(e))},int.__format__=function(e,t){var r=new $B.parse_format_spec(t);if(r.type&&-1!="eEfFgG%".indexOf(r.type))return _b_.float.__format__(e,t);r.align=r.align||">";var n=preformat(e,r);if(r.comma){for(var a="-"==n[0]?"-":"",s=n.substr(a.length),o=s.length,i=Math.ceil(s.length/3),_=[],l=0;l<i;l++)_.push(s.substring(o-3*l-3,o-3*l));_.reverse(),n=a+_.join(",")}return $B.format_width(n,r)},int.__floordiv__=function(e,t){if("number"==typeof t){if(0==t)throw _b_.ZeroDivisionError.$factory("division by zero");return Math.floor(e/t)}if("boolean"==typeof t){if(!1===t)throw _b_.ZeroDivisionError.$factory("division by zero");return e}return t.__class__===$B.long_int?Math.floor(e/Number(t.value)):_b_.isinstance(t,_b_.int)?int.__floordiv__(e,t.$brython_value):_b_.NotImplemented},int.__hash__=function(e){if(e.$brython_value){var t=$B.$getattr(e.__class__,"__hash__");return t===int.__hash__?"number"==typeof e.$brython_value?e.$brython_value:$B.long_int.__hash__(e.$brython_value):t(e)}return e.valueOf()},int.__index__=function(e){return int_value(e)},int.__init__=function(e){return _b_.None},int.__int__=function(e){return e},int.__invert__=function(e){return~e},int.__mod__=function(e,t){if(_b_.isinstance(t,_b_.tuple)&&1==t.length&&(t=t[0]),t.__class__===$B.long_int){if(e=BigInt(e),0==(t=t.value))throw _b_.ZeroDivisionError.$factory("integer division or modulo by zero");return int_or_long((e%t+t)%t)}if(_b_.isinstance(t,int)){if(!1===(t=int_value(t))?t=0:!0===t&&(t=1),0==t)throw _b_.ZeroDivisionError.$factory("integer division or modulo by zero");return(e%t+t)%t}return _b_.NotImplemented},eval("int.__mul__ = "+op_model.replace(/\+/g,"*").replace(/add/g,"mul")),int.__ne__=function(e,t){var r=int.__eq__(e,t);return r===_b_.NotImplemented?r:!r},int.__neg__=function(e){return-e},int.__new__=function(e,t,r){if(void 0===e)throw _b_.TypeError.$factory("int.__new__(): not enough arguments");if(!_b_.isinstance(e,_b_.type))throw _b_.TypeError.$factory("int.__new__(X): X is not a type object");return e===int?int.$factory(t,r):{__class__:e,__dict__:$B.empty_dict(),$brython_value:int.$factory(t,r),toString:function(){return t}}},int.__pos__=function(e){return e},int.__pow__=function(e,t,r){if(!_b_.isinstance(t,int))return _b_.NotImplemented;if("boolean"==typeof t&&(t=t?1:0),"number"==typeof t||_b_.isinstance(t,int)){if(void 0!==r&&r!==_b_.None){if(e=bigint_value(e),t=bigint_value(t),1==(r=bigint_value(r)))return 0;var n=1n,a=e%r,s=t;if(s<0){var o,i,_;if([o,i,_]=extended_euclidean(e,r),1!=o)throw _b_.ValueError.$factory("not relative primes: "+e+" and "+r);return int.__pow__(int_or_long(i),int_or_long(-s),int_or_long(r))}for(;s>0;)s%2n==1n&&(n=n*a%r),s>>=1n,a=a*a%r;return int_or_long(n)}return"number"==typeof t?t>=0?int_or_long(BigInt(e)**BigInt(t)):$B.fast_float(Math.pow(e,t)):t.__class__===$B.long_int?t.value>=0?int_or_long(BigInt(e)**t.value):$B.fast_float(Math.pow(e,t)):_b_.isinstance(t,_b_.int)?int_or_long(int.__pow__(e,t.$brython_value)):_b_.NotImplemented}if(_b_.isinstance(t,_b_.float))return t=_b_.float.numerator(t),e>=0?$B.fast_float(Math.pow(e,t)):_b_.complex.__pow__($B.make_complex(e,0),t);if(_b_.isinstance(t,_b_.complex)){var l=Math.pow(e,t.$real),c=Math.log(e);return $B.make_complex(l*Math.cos(c),l*Math.sin(c))}var u=$B.$getattr(t,"__rpow__",_b_.None);if(u!==_b_.None)return u(e);$err("**",t)},int.__reduce_ex__=function(e){return $B.fast_tuple([__newobj__,$B.fast_tuple([e.__class__||int,int_value(e)]),_b_.None,_b_.None,_b_.None])},int.__repr__=function(e){return $B.builtins_repr_check(int,arguments),int_value(e).toString()},int.__setattr__=function(e,t,r){if("number"==typeof e||"boolean"==typeof e){var n=$B.class_name(e);throw _b_.dir(e).indexOf(t)>-1?_b_.AttributeError.$factory("attribute '"+t+`' of '${n}' objects is not writable`):_b_.AttributeError.$factory(`'${n}' object has no attribute '${t}'`)}return _b_.dict.$setitem(e.__dict__,t,r),_b_.None},eval("int.__sub__ = "+op_model.replace(/\+/g,"-").replace(/__add__/g,"__sub__")),int.__truediv__=function(e,t){if(_b_.isinstance(t,int)){if(0==(t=int_value(t)))throw _b_.ZeroDivisionError.$factory("division by zero");return t.__class__===$B.long_int?$B.fast_float(e/parseInt(t.value)):$B.fast_float(e/t)}return _b_.NotImplemented},int.bit_count=function(e){var t=_b_.bin(_b_.abs(e)),r=0;for(var n of t)"1"==n&&r++;return r},int.bit_length=function(e){var t=_b_.bin(e);return(t=$B.$getattr(t,"lstrip")("-0b")).length},int.numerator=function(e){return int_value(e)},int.denominator=function(e){return int.$factory(1)},int.imag=function(e){return int.$factory(0)},int.real=function(e){return e},["numerator","denominator","imag","real"]))int[attr].setter=function(e){return function(t,r){throw _b_.AttributeError.$factory(`attribute '${e}' of '${$B.class_name(t)}' objects is not writable`)}}(attr);int.__and__=function(e,t){return"number"==typeof t?int_or_long(BigInt(e)&BigInt(t)):"boolean"==typeof t?e&(t?1:0):t.__class__===$B.long_int?int_or_long(BigInt(e)&t.value):_b_.isinstance(t,_b_.int)?int.__and__(e,t.$brython_value):_b_.NotImplemented};var model=int.__and__+"";eval("int.__lshift__ = "+model.replace(/&/g,"<<").replace(/__and__/g,"__lshift__")),eval("int.__rshift__ = "+model.replace(/&/g,">>").replace(/__and__/g,"__rshift__")),eval("int.__or__ = "+model.replace(/&/g,"|").replace(/__and__/g,"__or__")),eval("int.__xor__ = "+model.replace(/&/g,"^").replace(/__and__/g,"__xor__")),int.__ge__=function(e,t){return e=int_value(e),"number"==typeof t?e>=t:t.__class__===$B.long_int?e>=t.value:"boolean"==typeof t?e>=t?1:0:_b_.isinstance(t,_b_.int)?e>=t.$brython_value:_b_.NotImplemented},int.__gt__=function(e,t){var r=int.__le__(e,t);return r===_b_.NotImplemented?r:!r},int.__le__=function(e,t){return e=int_value(e),"number"==typeof t?e<=t:t.__class__===$B.long_int?e<=t.value:"boolean"==typeof t?e<=t?1:0:_b_.isinstance(t,_b_.int)?e<=t.$brython_value:_b_.NotImplemented},int.__lt__=function(e,t){var r=int.__ge__(e,t);return r===_b_.NotImplemented?r:!r};var r_opnames=["add","sub","mul","truediv","floordiv","mod","pow","lshift","rshift","and","xor","or","divmod"];for(var r_opname of r_opnames)void 0===int["__r"+r_opname+"__"]&&int["__"+r_opname+"__"]&&(int["__r"+r_opname+"__"]=function(e){return function(t,r){return _b_.isinstance(r,int)?(r=int_value(r),int["__"+e+"__"](r,t)):_b_.NotImplemented}}(r_opname));var $valid_digits=function(e){var t="";if(0===e)return"0";if(e<10){for(var r=0;r<e;r++)t+=String.fromCharCode(r+48);return t}for(t="0123456789",r=10;r<e;r++)t+=String.fromCharCode(r+55);return t};int.$factory=function(e,t){var r={},n=$B.args("int",2,{x:null,base:null},["x","/","base"],arguments,{x:r,base:r},null,null),a=(e=n.x,t=void 0===n.base?r:n.base,e);if(e===r||void 0===e){if(t!==r)throw _b_.TypeError.$factory("int() missing string argument");return 0}if(_b_.isinstance(e,[_b_.bytes,_b_.bytearray])?e=$B.$getattr(e,"decode")("latin-1"):_b_.isinstance(e,_b_.memoryview)&&(e=$B.$getattr(_b_.memoryview.tobytes(e),"decode")("latin-1")),!_b_.isinstance(e,_b_.str)){if(t!==r)throw _b_.TypeError.$factory("int() can't convert non-string with explicit base");for(var s of["__int__","__index__","__trunc__"]){var o=$B.$getattr($B.get_class(e),s,_b_.None);if(o!==_b_.None){var i=$B.$call(o)(e);if("__trunc__"==s){if($B.warn(_b_.DeprecationWarning,"The delegation of int() to __trunc__ is deprecated."),null===(_=$B.$getattr(i,"__index__",null)))throw _b_.TypeError.$factory(`__trunc__ returned non-Integral (type ${$B.class_name(i)})`);i=$B.$call(_)()}if(_b_.isinstance(i,_b_.int))return"number"!=typeof i&&i.__class__!==$B.long_int&&$B.warn(_b_.DeprecationWarning,s+" returned non-int (type "+$B.class_name(i)+").  The ability to return an instance of a strict subclass of int is deprecated, and may be removed in a future version of Python."),int_value(i);var _,l=$B.get_class(i);if(null===(_=$B.$getattr(l,"__index__",null)))throw _b_.TypeError.$factory(s+`returned non-int (type ${$B.class_name(i)})`);return int_value(i)}}throw _b_.TypeError.$factory(`int() argument must be a string, a bytes-like object or a real number, not '${$B.class_name(e)}'`)}if(!((t=t===r?10:$B.PyNumber_Index(t))>=2&&t<=36)&&0!=t)throw _b_.ValueError.$factory("invalid base");function c(e){throw _b_.ValueError.$factory("invalid literal for int() with base "+e+": "+_b_.repr(a))}"string"!=typeof e&&(e=e.valueOf());var u=e.trim(),f="";if(u.startsWith("+")||u.startsWith("-")){f=u[0];u=u.substr(1)}if(2==u.length&&0==t&&("0b"==u||"0o"==u||"0x"==u))throw _b_.ValueError.$factory("invalid value");if(u.endsWith("_")&&c(t),e.indexOf("__")>-1&&c(t),u.length>2){var p=u.substr(0,2).toUpperCase();if(0==t){if("0B"==p)t=2;else if("0O"==p)t=8;else if("0X"==p)t=16;else if(u.startsWith("0")){if((u=u.replace(/_/g,"")).match(/^0+$/))return 0;c(t)}}else("0X"==p&&16!=t||"0O"==p&&8!=t)&&c(t);if("0B"==p&&2==t||"0O"==p||"0X"==p)for(u=u.substr(2);u.startsWith("_");)u=u.substr(1)}0==t&&(t=10);var d=$valid_digits(t);if(null===new RegExp("^[+-]?["+d+"]["+d+"_]*$","i").exec(u)?c(t):u=u.replace(/_/g,""),10==t)i=BigInt(u);else{t=BigInt(t);i=0n;for(var h,$=1n,m=u.length-1;m>=0;m--)h=u[m].toUpperCase(),i+=$*BigInt(d.indexOf(h)),$*=t}"-"==f&&(i=-i);var b=Number(i);return Number.isSafeInteger(b)?Number(i):$B.fast_long_int(i)},$B.set_func_names(int,"builtins"),_b_.int=int,$B.$bool=function(e){if(null==e)return!1;switch(typeof e){case"boolean":return e;case"number":case"string":return!!e;default:if(e.$is_class)return!0;var t=e.__class__||$B.get_class(e),r={},n=$B.$getattr(t,"__bool__",r);if(n!==r){var a=$B.$call(n)(e);if(!0!==a&&!1!==a)throw _b_.TypeError.$factory("__bool__ should return bool, returned "+$B.class_name(a));return a}try{return _b_.len(e)>0}catch(e){return!0}}};var bool={__bases__:[int],__class__:_b_.type,__mro__:[int,_b_.object],$infos:{__name__:"bool",__module__:"builtins"},$is_class:!0,$native:!0,$descriptors:{numerator:!0,denominator:!0,imag:!0,real:!0},__and__:function(e,t){return _b_.isinstance(t,bool)?e&&t:_b_.isinstance(t,int)?int.__and__(bool.__index__(e),int.__index__(t)):_b_.NotImplemented},__float__:function(e){return e?$B.fast_float(1):$B.fast_float(0)}};bool.__hash__=bool.__index__=bool.__int__=function(e){return e.valueOf()?1:0},bool.__neg__=function(e){return-$B.int_or_bool(e)},bool.__or__=function(e,t){return _b_.isinstance(t,bool)?e||t:_b_.isinstance(t,int)?int.__or__(bool.__index__(e),int.__index__(t)):_b_.NotImplemented},bool.__pos__=$B.int_or_bool,bool.__repr__=function(e){return $B.builtins_repr_check(bool,arguments),e?"True":"False"},bool.__xor__=function(e,t){return _b_.isinstance(t,bool)?!!(e^t):_b_.isinstance(t,int)?int.__xor__(bool.__index__(e),int.__index__(t)):_b_.NotImplemented},bool.$factory=function(){var e=$B.args("bool",1,{x:null},["x"],arguments,{x:!1},null,null);return $B.$bool(e.x)},bool.numerator=int.numerator,bool.denominator=int.denominator,bool.real=int.real,bool.imag=int.imag,_b_.bool=bool,$B.set_func_names(bool,"builtins")}(__BRYTHON__),function($B){var _b_=$B.builtins;try{eval("window")}catch(e){window=self}var long_int={__class__:_b_.type,__mro__:[_b_.int,_b_.object],$infos:{__module__:"builtins",__name__:"int"},$is_class:!0,$native:!0,$descriptors:{numerator:!0,denominator:!0,imag:!0,real:!0}},max_safe_divider=$B.max_int/9,int_or_long=_b_.int.$int_or_long,len=(Math.pow(2,53)-1+"").length-1;function preformat(e,t){if(t.empty)return _b_.str.$factory(e);if(t.type&&-1=="bcdoxXn".indexOf(t.type))throw _b_.ValueError.$factory("Unknown format code '"+t.type+"' for object of type 'int'");var r;switch(t.type){case void 0:case"d":r=e.toString();break;case"b":r=(t.alternate?"0b":"")+BigInt(e.value).toString(2);break;case"c":r=_b_.chr(e);break;case"o":r=(t.alternate?"0o":"")+BigInt(e.value).toString(8);break;case"x":r=(t.alternate?"0x":"")+BigInt(e.value).toString(16);break;case"X":r=(t.alternate?"0X":"")+BigInt(e.value).toString(16).toUpperCase();break;case"n":return e}return void 0!==t.sign&&(" "==t.sign||"+"==t.sign)&&e>=0&&(r=t.sign+r),r}function _infos(e){var t=$B.long_int.bit_length(e),r=2n**BigInt(t-1),n=BigInt(e.value)-r;return{nbits:t,pow2:r,rest:n,relative_rest:new Number(n)/new Number(r)}}long_int.$to_js_number=function(e){return Number(e.value)},long_int.__format__=function(e,t){var r=new $B.parse_format_spec(t);if(r.type&&-1!="eEfFgG%".indexOf(r.type))return _b_.float.__format__(e,t);r.align=r.align||">";var n=preformat(e,r);if(r.comma){for(var a="-"==n[0]?"-":"",s=n.substr(a.length),o=s.length,i=Math.ceil(s.length/3),_=[],l=0;l<i;l++)_.push(s.substring(o-3*l-3,o-3*l));_.reverse(),n=a+_.join(",")}return $B.format_width(n,r)},long_int.__abs__=function(e){return $B.fast_long_int(e.value>0?e.value:-e.value)},long_int.__add__=function(e,t){return"number"==typeof t?int_or_long(e.value+BigInt(t)):t.__class__===$B.long_int?int_or_long(e.value+t.value):"boolean"==typeof t?int_or_long(e.value+(t?1n:0n)):_b_.isinstance(t,_b_.int)?long_int.__add__(e,t.$brython_value):_b_.NotImplemented},long_int.__divmod__=function(e,t){var r,n=e.value,a=_b_.int.$to_bigint(t),s=n-(r=n>=0&&a>0||n<=0&&a<0?n/a:n/a-1n)*a;return $B.fast_tuple([int_or_long(r),int_or_long(s)])},long_int.__eq__=function(e,t){return t.__class__===$B.long_int?e.value==t.value:"number"!=typeof t&&"boolean"!=typeof t&&(_b_.isinstance(t,_b_.int)?long_int.__eq__(e,t.$brython_value):_b_.NotImplemented)},long_int.__float__=function(e){if(!isFinite(Number(e.value)))throw _b_.OverflowError.$factory("int too large to convert to float");return $B.fast_float(Number(e.value))},long_int.__floordiv__=function(e,t){return"number"==typeof t?int_or_long(e.value/BigInt(t)):t.__class__===$B.long_int?int_or_long(e.value/t.value):"boolean"==typeof t?int_or_long(e.value/(t?1n:0n)):_b_.isinstance(t,_b_.int)?int_or_long(e.value/t.$brython_value):_b_.NotImplemented},long_int.__ge__=function(e,t){return"number"==typeof t?e.value>=t:t.__class__===$B.long_int?e.value>=t.value:"boolean"==typeof t?e.value>=(t?1:0):_b_.isinstance(t,_b_.int)?e.value>=t.$brython_value:_b_.NotImplemented},long_int.__gt__=function(e,t){var r=long_int.__le__(e,t);return r===_b_.NotImplemented?r:!r},long_int.__hash__=function(e){var t=e.value>=0?1n:-1n;self_pos=e.value*t;var r=t*(self_pos%2305843009213693951n);return e.__hashvalue__=int_or_long(r)},long_int.__index__=function(e){return e},long_int.__invert__=function(e){return int_or_long(-1n-e.value)},long_int.__le__=function(e,t){return"number"==typeof t?e.value<=t:t.__class__===$B.long_int?e.value<=t.value:"boolean"==typeof t?e.value<=(t?1:0):_b_.isinstance(t,_b_.int)?e.value<=t.$brython_value:_b_.NotImplemented},long_int.__lt__=function(e,t){var r=long_int.__ge__(e,t);return r===_b_.NotImplemented?r:!r},long_int.__lshift__=function(e,t){return"number"==typeof t?int_or_long(e.value<<BigInt(t)):t.__class__===$B.long_int?int_or_long(e.value<<t.value):"boolean"==typeof t?int_or_long(e.value<<(t?1n:0n)):_b_.isinstance(t,_b_.int)?long_int.__lshift__(e,t.$brython_value):_b_.NotImplemented},long_int.__mod__=function(e,t){return"number"==typeof t?int_or_long(e.value%BigInt(t)):t.__class__===$B.long_int?int_or_long(e.value%t.value):"boolean"==typeof t?int_or_long(e.value%(t?1n:0n)):_b_.isinstance(t,_b_.int)?long_int.__mod__(e,t.$brython_value):_b_.NotImplemented},long_int.__mro__=[_b_.int,_b_.object],long_int.__mul__=function(e,t){return"number"==typeof t?int_or_long(e.value*BigInt(t)):"boolean"==typeof t?int_or_long(e.value*(t?1n:0n)):t.__class__===$B.long_int?int_or_long(e.value*t.value):_b_.isinstance(t,_b_.int)?long_int.__mul__(e,t.$brython_value):_b_.NotImplemented},long_int.__ne__=function(e,t){var r=long_int.__eq__(e,t);return r===_b_.NotImplemented?r:!r},long_int.__neg__=function(e){return $B.fast_long_int(-e.value)},long_int.__pos__=function(e){return e},long_int.__pow__=function(e,t,r){return"number"==typeof t?int_or_long(e.value**BigInt(t)):"boolean"==typeof t?int_or_long(e.value**t?1n:0n):t.__class__===$B.long_int?int_or_long(e.value**t.value):_b_.isinstance(t,_b_.int)?long_int.__pow__(e,t.$brython_value):_b_.NotImplemented},long_int.__rshift__=function(e,t){return"number"==typeof t?int_or_long(e.value>>BigInt(t)):t.__class__===$B.long_int?int_or_long(e.value>>t.value):"boolean"==typeof t?int_or_long(e.value>>(t?1n:0n)):_b_.isinstance(t,_b_.int)?long_int.__rshift__(e,t.$brython_value):_b_.NotImplemented},long_int.__str__=long_int.__repr__=function(e){return e.value.toString()},long_int.__sub__=function(e,t){return"number"==typeof t?int_or_long(e.value-BigInt(t)):"boolean"==typeof t?int_or_long(e.value-(t?1n:0n)):t.__class__===$B.long_int?int_or_long(e.value-t.value):_b_.isinstance(t,_b_.int)?long_int.__sub__(e,t.$brython_value):_b_.NotImplemented},long_int.__truediv__=function(e,t){return"number"==typeof t?$B.fast_float(Number(e.value)/t):"boolean"==typeof t?$B.fast_float(Number(e.value)*(t?1:0)):t.__class__===$B.long_int?$B.fast_float(Number(e.value)/Number(t.value)):_b_.isinstance(t,_b_.int)?long_int.__truediv__(e,t.$brython_value):_b_.NotImplemented},long_int.bit_count=function(e){var t=e.value.toString(2),r=0;for(var n of t)"1"==n&&r++;return r},long_int.bit_length=function(e){return e.value.toString(2).length},long_int.$log2=function(e){if(e.value<0)throw _b_.ValueError.$factory("math domain error");var t=_infos(e);return _b_.float.$factory(t.nbits-1+Math.log(1+t.relative_rest/Math.LN2))},long_int.$log10=function(x){if(x.value<0)throw _b_.ValueError.$factory("math domain error");var x_string=x.value.toString(),exp=x_string.length-1,mant=eval(x_string[0]+"."+x_string.substr(1));return _b_.float.$factory(exp+Math.log10(mant))},long_int.numerator=function(e){return e},long_int.denominator=function(e){return _b_.int.$factory(1)},long_int.imag=function(e){return _b_.int.$factory(0)},long_int.real=function(e){return e},long_int.__and__=function(e,t){return"number"==typeof t?int_or_long(e.value&BigInt(t)):"boolean"==typeof t?int_or_long(e.value&(t?1n:0n)):t.__class__===$B.long_int?int_or_long(e.value&t.value):_b_.isinstance(t,_b_.int)?long_int.__and__(e,t.$brython_value):_b_.NotImplemented};var model=long_int.__and__+"";function digits(e){for(var t={},r=0;r<e&&10!=r;r++)t[r]=!0;if(e>10)for(r=0;r<e-10;r++)t[String.fromCharCode(65+r)]=!0,t[String.fromCharCode(97+r)]=!0;return t}eval("long_int.__or__ = "+model.replace(/&/g,"|").replace(/__and__/g,"__or__")),eval("long_int.__xor__ = "+model.replace(/&/g,"^").replace(/__and__/g,"__xor__")),long_int.to_bytes=function(e,t,r,n){var a=[],s=e.value;if(!$B.$bool(n)&&s<0)throw _b_.OverflowError.$factory("can't convert negative int to unsigned");for(;s>0;){var o=s/256n,i=s-256n*o;if(s=o,a.push(Number(i)),a.length>t)throw _b_.OverflowError.$factory("int too big to convert")}for(;a.length<t;)a.push(0);return"big"==r&&a.reverse(),_b_.bytes.$factory(a)};var MAX_SAFE_INTEGER=Math.pow(2,53)-1,MIN_SAFE_INTEGER=-MAX_SAFE_INTEGER;function isSafeInteger(e){return"number"==typeof e&&Math.round(e)===e&&MIN_SAFE_INTEGER<=e&&e<=MAX_SAFE_INTEGER}function intOrLong(e){var t=parseInt(e.value)*(e.pos?1:-1);return t>MIN_SAFE_INTEGER&&t<MAX_SAFE_INTEGER?t:e}function extended_euclidean_algorithm(e,t){for(var r,n,a=0,s=1,o=1,i=0,_=t,l=e;$B.rich_comp("__ne__",_,0);)r=$B.rich_op("__floordiv__",l,_),n=$B.rich_op("__sub__",l,$B.rich_op("__mul__",r,_)),l=_,_=n,n=$B.rich_op("__sub__",s,$B.rich_op("__mul__",r,a)),s=a,a=n,n=$B.rich_op("__sub__",i,$B.rich_op("__mul__",r,o)),i=o,o=n;return[l,s,i]}function inverse_of(e,t){var r,n,a;if([r,n,a]=extended_euclidean_algorithm(e,t),$B.rich_comp("__ne__",r,1))throw Error(`${e} has no multiplicative inverse '\n            'modulo ${t}`);return $B.rich_op("__mod__",n,t)}long_int.$from_int=function(e){return{__class__:long_int,value:e.toString(),pos:e>0}},long_int.$factory=function(e,t){for(var r=digits(t),n=0;n<e.length;n++)if(!r[e.charAt(n)])throw _b_.ValueError.$factory('int argument is not a valid number: "'+e+'"');if(10==t)s=BigInt(e);else{t=BigInt(t);var a,s=0n,o=1n;for(n=e.length-1;n>=0;n--)a=e[n].toUpperCase(),s+=o*BigInt(_digits.indexOf(a)),o*=t}return{__class__:$B.long_int,value:s}},$B.inverse_of=inverse_of,$B.set_func_names(long_int,"builtins"),$B.long_int=long_int,$B.fast_long_int=function(e){if("bigint"!=typeof e)throw console.log("expected bigint, got",e),Error("not a big int");return{__class__:$B.long_int,value:e}}}(__BRYTHON__),function($B){var _b_=$B.builtins,object=_b_.object;function $err(e,t){var r="unsupported operand type(s) for "+e+": 'float' and '"+$B.class_name(t)+"'";throw _b_.TypeError.$factory(r)}function float_value(e){return void 0!==e.$brython_value?e.$brython_value:e}var float={__class__:_b_.type,__dir__:object.__dir__,$infos:{__module__:"builtins",__name__:"float"},$is_class:!0,$native:!0,$descriptors:{numerator:!0,denominator:!0,imag:!0,real:!0}};function check_self_is_float(e,t){if(e.__class__===_b_.float||_b_.isinstance(e,_b_.float))return!0;throw _b_.TypeError.$factory(`descriptor '${t}' requires a 'float' object but received a '${$B.class_name(e)}'`)}function preformat(e,t){var r=e.value;if(t.empty)return _b_.str.$factory(e);if(t.type&&-1=="eEfFgGn%".indexOf(t.type))throw _b_.ValueError.$factory("Unknown format code '"+t.type+"' for object of type 'float'");if(isNaN(r))return"f"==t.type||"g"==t.type?"nan":"NAN";if(r==Number.POSITIVE_INFINITY)return"f"==t.type||"g"==t.type?"inf":"INF";if(void 0===t.precision&&void 0!==t.type&&(t.precision=6),"%"==t.type&&(r*=100),"e"==t.type){var n=r.toExponential(t.precision),a=parseInt(n.substr(n.search("e")+1));return Math.abs(a)<10&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),n}if(void 0!==t.precision){var s=t.precision;if(0==s)return Math.round(r)+"";var o=(n=$B.roundDownToFixed(r,s)).indexOf(".");if(void 0===t.type||"%"!=t.type&&"f"!=t.type.toLowerCase()){if(t.type&&"g"==t.type.toLowerCase()){var i=preformat(e,{type:"e"}).split("e"),_=(n=-4<=(a=parseInt(i[1]))&&a<t.precision?preformat(e,{type:"f",precision:t.precision-1-a}):preformat(e,{type:"e",precision:t.precision-1})).split("e");if(t.alternate)-1==_[0].search(/\./)&&(_[0]+=".");else{var l=_[0];if(l.indexOf(".")>0)for(;l.endsWith("0");)l=l.substr(0,l.length-1);l.endsWith(".")&&(l=l.substr(0,l.length-1)),_[0]=l}return n=_.join("e"),"G"==t.type&&(n=n.toUpperCase()),n}if(void 0===t.type){if(t.type="g",-1==(n=preformat(e,t)).indexOf(".")){a=(a=n.length-1)<10?"0"+a:a;var c=n.startsWith("-")?2:1;return`${n.substr(0,c)+"."+n.substr(c)}e+${a}`}t.type=void 0}else{var u=r.toExponential(t.precision-1);if((a=parseInt(u.substr(u.search("e")+1)))<-4||a>=t.precision-1){for(var f=u.split("e");f[0].endsWith("0");)f[0]=f[0].substr(0,f[0].length-1);n=f.join("e")}}}else if(-1==o)n+="."+"0".repeat(t.precision);else{var p=t.precision-n.length+o+1;p>0&&(n+="0".repeat(p))}}else n=_b_.str.$factory(e);if(void 0===t.type||-1!="gGn".indexOf(t.type)){if(-1==n.search("e"))for(;"0"==n.charAt(n.length-1);)n=n.substr(0,n.length-1);"."==n.charAt(n.length-1)&&(void 0===t.type?n+="0":n=n.substr(0,n.length-1))}return void 0!==t.sign&&(" "==t.sign||"+"==t.sign)&&r>0&&(n=t.sign+n),"%"==t.type&&(n+="%"),n}float.$to_js_number=function(e){return e.__class__===float?e.value:float.$to_js_number(e.value)},float.numerator=function(e){return e.value},float.denominator=function(e){return 1},float.imag=function(e){return 0},float.real=function(e){return e.value},float.__float__=function(e){return e},$B.shift1_cache={},float.as_integer_ratio=function(e){if(isinf(e))throw _b_.OverflowError.$factory("Cannot pass infinity to float.as_integer_ratio.");if(isnan(e))throw _b_.ValueError.$factory("Cannot pass NaN to float.as_integer_ratio.");for(var t,r=frexp(e),n=r[0],a=r[1],s=0;s<300&&n!=Math.floor(n);s++)n*=2,a--;return numerator=_b_.int.$factory(n),py_exponent=_b_.abs(a),denominator=1,void 0!==$B.shift1_cache[py_exponent]?t=$B.shift1_cache[py_exponent]:(t=$B.$getattr(1,"__lshift__")(py_exponent),$B.shift1_cache[py_exponent]=t),py_exponent=t,a>0?numerator=$B.rich_op("__mul__",numerator,py_exponent):denominator=py_exponent,$B.fast_tuple([_b_.int.$factory(numerator),_b_.int.$factory(denominator)])},float.__abs__=function(e){return check_self_is_float(e,"__abs__"),fast_float(Math.abs(e.value))},float.__bool__=function(e){return check_self_is_float(e,"__bool__"),_b_.bool.$factory(e.value)},float.__ceil__=function(e){if(check_self_is_float(e,"__ceil__"),isnan(e))throw _b_.ValueError.$factory("cannot convert float NaN to integer");if(isinf(e))throw _b_.OverflowError.$factory("cannot convert float infinity to integer");return Math.ceil(e.value)},float.__divmod__=function(e,t){return check_self_is_float(e,"__divmod__"),_b_.isinstance(t,[_b_.int,float])?$B.fast_tuple([float.__floordiv__(e,t),float.__mod__(e,t)]):_b_.NotImplemented},float.__eq__=function(e,t){return check_self_is_float(e,"__eq__"),(!isNaN(e.value)||!isNaN(t))&&(_b_.isinstance(t,_b_.int)?e.value==t:_b_.isinstance(t,float)?e.value==t.value:_b_.isinstance(t,_b_.complex)?0==t.$imag&&e.value==t.$real:_b_.NotImplemented)},float.__floor__=function(e){if(check_self_is_float(e,"__floor__"),isnan(e))throw _b_.ValueError.$factory("cannot convert float NaN to integer");if(isinf(e))throw _b_.OverflowError.$factory("cannot convert float infinity to integer");return Math.floor(e.value)},float.__floordiv__=function(e,t){if(check_self_is_float(e,"__floordiv__"),_b_.isinstance(t,float)){if(0==t.value)throw _b_.ZeroDivisionError.$factory("division by zero");return fast_float(Math.floor(e.value/t.value))}if(_b_.isinstance(t,_b_.int)){if(0==t.valueOf())throw _b_.ZeroDivisionError.$factory("division by zero");return fast_float(Math.floor(e.value/t))}return _b_.NotImplemented},float.fromhex=function(e){if(!_b_.isinstance(e,_b_.str))throw _b_.ValueError.$factory("argument must be a string");var t=e.trim();switch(t.toLowerCase()){case"+inf":case"inf":case"+infinity":case"infinity":return fast_float(1/0);case"-inf":case"-infinity":return fast_float(-1/0);case"+nan":case"nan":return fast_float(Number.NaN);case"-nan":return fast_float(-Number.NaN);case"":throw _b_.ValueError.$factory("could not convert string to float")}var r=/^(\d*)(\.?)(\d*)$/.exec(t);if(null!==r){var n=parseFloat(r[1]),a=16;if(r[2])for(var s of r[3])n+=parseInt(s,16)/a,a*=16;return fast_float(n)}var o=/^(\+|-)?(0x)?([0-9A-F]+\.?)?(\.[0-9A-F]+)?(p(\+|-)?\d+)?$/i.exec(t);if(null==o)throw _b_.ValueError.$factory("invalid hexadecimal floating-point string");var i=o[1],_=parseInt(o[3]||"0",16),l=o[4]||".0",c=o[5]||"p0";i="-"==i?-1:1;for(var u=_,f=1,p=l.length;f<p;f++)u+=parseInt(l.charAt(f),16)/Math.pow(16,f);return fast_float(i*u*Math.pow(2,parseInt(c.substring(1))))},float.__getformat__=function(e){if("double"==e||"float"==e)return"IEEE, little-endian";throw _b_.ValueError.$factory("__getformat__() argument 1 must be 'double' or 'float'")},float.__format__=function(e,t){check_self_is_float(e,"__format__");var r=new $B.parse_format_spec(t);r.align=r.align||">";var n=preformat(e,r).split("."),a=n[0];if(r.comma){for(var s=a.length,o=Math.ceil(a.length/3),i=[],_=0;_<o;_++)i.push(a.substring(s-3*_-3,s-3*_));i.reverse(),n[0]=i.join(",")}return $B.format_width(n.join("."),r)};var nan_hash=$B.$py_next_hash--;function isninf(e){var t=e;return _b_.isinstance(e,float)&&(t=float.numerator(e)),t==-1/0||t==Number.NEGATIVE_INFINITY}function isinf(e){var t=e;return _b_.isinstance(e,float)&&(t=float.numerator(e)),t==1/0||t==-1/0||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY}function isnan(e){var t=e;return _b_.isinstance(e,float)&&(t=float.numerator(e)),isNaN(t)}function fabs(e){return 0==e?fast_float(0):e>0?float.$factory(e):float.$factory(-e)}function frexp(e){var t=e;if(_b_.isinstance(e,float)&&(t=e.value),isNaN(t)||isinf(t))return[t,-1];if(0==t)return[0,0];var r=1,n=0,a=t;for(a<0&&(r=-r,a=-a);a<.5;)a*=2,n--;for(;a>=1;)a*=.5,n++;return[a*=r,n]}function ldexp(e,t){if(isninf(e))return float.$factory("-inf");if(isinf(e))return float.$factory("inf");var r=e;if(_b_.isinstance(e,float)&&(r=e.value),0==r)return r;var n=t;return _b_.isinstance(t,float)&&(n=t.value),$B.fast_float(r*Math.pow(2,n))}function __newobj__(){var e=$B.args("__newobj__",0,{},[],arguments,{},"args",null).args;return{__class__:e[0],value:e[1]}}float.__hash__=function(e){if(check_self_is_float(e,"__hash__"),void 0!==e.__hashvalue__)return e.__hashvalue__;var t=e.value;if(t===1/0)return 314159;if(t===-1/0)return-271828;if(isNaN(t))return e.__hashvalue__=nan_hash;if(t===Number.MAX_VALUE)return e.__hashvalue__=$B.fast_long_int(2234066890152476671n);if(Number.isInteger(t))return _b_.int.__hash__(t);var r=frexp(e);r[0]*=Math.pow(2,31);var n=_b_.int.$factory(r[0]);return r[0]=(r[0]-n)*Math.pow(2,31),4294967295&n+_b_.int.$factory(r[0])+(r[1]<<15)},float.$funcs={isinf:isinf,isninf:isninf,isnan:isnan,fabs:fabs,frexp:frexp,ldexp:ldexp},float.hex=function(e){switch((e=float_value(e)).valueOf()){case 1/0:case-1/0:case Number.NaN:case-Number.NaN:return e;case-0:return"-0x0.0p0";case 0:return"0x0.0p0"}var t=frexp(fabs(e.valueOf())),r=t[0],n=t[1],a=1-Math.max(-1021-n,0);r=ldexp(r,a),n-=a;var s="0123456789ABCDEF".split(""),o=s[Math.floor(r)];o+=".",r-=Math.floor(r);for(var i=0;i<13;i++)r*=16,o+=s[Math.floor(r)],r-=Math.floor(r);var _="+";return n<0&&(_="-",n=-n),e.value<0?"-0x"+o+"p"+_+n:"0x"+o+"p"+_+n},float.__init__=function(e,t){return _b_.None},float.__int__=function(e){if(check_self_is_float(e,"__int__"),Number.isInteger(e.value)){var t=BigInt(e.value),r=Number(t);return Number.isSafeInteger(r)?r:$B.fast_long_int(t)}return parseInt(e.value)},float.is_integer=function(e){return Number.isInteger(e.value)},float.__mod__=function(e,t){if(check_self_is_float(e,"__mod__"),0==t)throw _b_.ZeroDivisionError.$factory("float modulo");if(_b_.isinstance(t,_b_.int))return t=_b_.int.numerator(t),fast_float((e.value%t+t)%t);if(_b_.isinstance(t,float)){var r=Math.floor(e.value/t.value),n=e.value-t.value*r;return 0==n&&t.value<0?fast_float(-0):fast_float(n)}return _b_.NotImplemented},float.__mro__=[object],float.__mul__=function(e,t){return _b_.isinstance(t,_b_.int)?t.__class__==$B.long_int?fast_float(e.value*parseFloat(t.value)):(t=_b_.int.numerator(t),fast_float(e.value*t)):_b_.isinstance(t,float)?fast_float(e.value*t.value):_b_.NotImplemented},float.__ne__=function(e,t){var r=float.__eq__(e,t);return r===_b_.NotImplemented?r:!r},float.__neg__=function(e){return fast_float(-e.value)},float.__new__=function(e,t){if(void 0===e)throw _b_.TypeError.$factory("float.__new__(): not enough arguments");if(!_b_.isinstance(e,_b_.type))throw _b_.TypeError.$factory("float.__new__(X): X is not a type object");return{__class__:e,value:float.$factory(t).value}},float.__pos__=function(e){return fast_float(+e.value)},float.__pow__=function(e,t){var r=_b_.isinstance(t,_b_.int);if(r||_b_.isinstance(t,float)){if(r||(t=t.value),1==e.value)return fast_float(1);if(0==t)return fast_float(1);if(isNaN(t))return fast_float(Number.NaN);if(isNaN(e.value))return fast_float(Number.NaN);if(-1==e.value&&!isFinite(t))return fast_float(1);if(0==e.value&&isFinite(t)&&t<0)throw _b_.ZeroDivisionError.$factory("0.0 cannot be raised to a negative power");return 0==e.value&&isFinite(t)&&t>=0?Number.isInteger(t)&&t%2==1?e:fast_float(0):e.value!=Number.NEGATIVE_INFINITY||isNaN(t)?e.value!=Number.POSITIVE_INFINITY||isNaN(t)?t!=Number.NEGATIVE_INFINITY||isNaN(e.value)?t!=Number.POSITIVE_INFINITY||isNaN(e.value)?e.value<0&&!Number.isInteger(t)?_b_.complex.__pow__($B.make_complex(e.value,0),fast_float(t)):fast_float(Math.pow(e.value,t)):Math.abs(e.value)<1?fast_float(0):fast_float(Number.POSITIVE_INFINITY):Math.abs(e.value)<1?fast_float(Number.POSITIVE_INFINITY):fast_float(0):t>0?e:fast_float(0):t%2==-1?fast_float(-0):t<0?fast_float(0):t%2==1?fast_float(Number.NEGATIVE_INFINITY):fast_float(Number.POSITIVE_INFINITY)}return _b_.NotImplemented},float.__reduce_ex__=function(e){return $B.fast_tuple([__newobj__,$B.fast_tuple([e.__class__||_b_.int,e.value]),_b_.None,_b_.None,_b_.None])},float.__repr__=function(e){if($B.builtins_repr_check(float,arguments),(e=e.value)==1/0)return"inf";if(e==-1/0)return"-inf";if(isNaN(e))return"nan";if(0===e)return 1/e==-1/0?"-0.0":"0.0";var t=e+"";-1==t.search(/[.eE]/)&&(t+=".0");var r,n,a=t.split(/e/i);if(2==a.length){var s=a[0];if((i=a[1]).startsWith("-"))return exp_str=parseInt(i.substr(1))+"",exp_str.length<2&&(exp_str="0"+exp_str),s+"e-"+exp_str}[r,n]=t.split(".");var o="";if("-"==r[0]&&(r=r.substr(1),o="-"),r.length>16){for(var i=r.length-1,_=r[0],l=r.substr(1)+n;l.endsWith("0");)l=l.substr(0,l.length-1);s=_;return l.length>0&&(s+="."+l),o+s+"e+"+i}if("0"==r){for(i=0;i<n.length&&"0"==n.charAt(i);)i++;if(i>3){var c=n.substr(i);for(i=(i+1).toString();c.endsWith("0");)c=c.substr(0,t.length-1);s=c[0];return c.length>1&&(s+="."+c.substr(1)),1==i.length&&(i="0"+i),o+s+"e-"+i}}return _b_.str.$factory(t)},float.__setattr__=function(e,t,r){if(e.__class__===float)throw void 0===float[t]?_b_.AttributeError.$factory("'float' object has no attribute '"+t+"'"):_b_.AttributeError.$factory("'float' object attribute '"+t+"' is read-only");return e[t]=r,_b_.None},float.__truediv__=function(e,t){if(_b_.isinstance(t,_b_.int)){if(0==t.valueOf())throw _b_.ZeroDivisionError.$factory("division by zero");return _b_.isinstance(t,$B.long_int)?float.$factory(e.value/Number(t.value)):float.$factory(e.value/t)}if(_b_.isinstance(t,float)){if(0==t.value)throw _b_.ZeroDivisionError.$factory("division by zero");return float.$factory(e.value/t.value)}return _b_.NotImplemented};var $op_func=function(e,t){return _b_.isinstance(t,_b_.int)?"boolean"==typeof t?t?$B.fast_float(e.value-1):e:t.__class__===$B.long_int?float.$factory(e.value-parseInt(t.value)):fast_float(e.value-t):_b_.isinstance(t,float)?fast_float(e.value-t.value):_b_.NotImplemented};$op_func+="";var $ops={"+":"add","-":"sub"};for(var $op in $ops){var $opf=$op_func.replace(/-/gm,$op);$opf=$opf.replace(/__rsub__/gm,"__r"+$ops[$op]+"__"),eval("float.__"+$ops[$op]+"__ = "+$opf)}var $comp_func=function(e,t){if(_b_.isinstance(t,_b_.int))return t.__class__===$B.long_int?e.value>parseInt(t.value):e.value>t.valueOf();if(_b_.isinstance(t,float))return e.value>t.value;if(_b_.isinstance(t,_b_.bool))return e.value>_b_.bool.__hash__(t);if(_b_.hasattr(t,"__int__")||_b_.hasattr(t,"__index__"))return _b_.int.__gt__(e.value,$B.$GetInt(t));var r=$B.$getattr(t,"__le__",_b_.None);if(r!==_b_.None)return r(e);throw _b_.TypeError.$factory("unorderable types: float() > "+$B.class_name(t)+"()")};for(var $op in $comp_func+="",$B.$comps)eval("float.__"+$B.$comps[$op]+"__ = "+$comp_func.replace(/>/gm,$op).replace(/__gt__/gm,"__"+$B.$comps[$op]+"__").replace(/__le__/,"__"+$B.$inv_comps[$op]+"__"));var r_opnames=["add","sub","mul","truediv","floordiv","mod","pow","lshift","rshift","and","xor","or","divmod"];for(var r_opname of r_opnames)void 0===float["__r"+r_opname+"__"]&&float["__"+r_opname+"__"]&&(float["__r"+r_opname+"__"]=function(e){return function(t,r){var n=_b_.int.$to_js_number(r);if(null!==n){var a=$B.fast_float(n);return float["__"+e+"__"](a,t)}return _b_.NotImplemented}}(r_opname));function $FloatClass(e){return new Number(e)}function to_digits(e){for(var t="",r=0;r<e.length;r++){var n="".indexOf(e[r]);t+=n>-1?n:e[r]}return t}$B.fast_float=fast_float=function(e){return{__class__:_b_.float,value:e}},float.$factory=function(value){if(void 0===value)return fast_float(0);switch($B.check_nb_args_no_kw("float",1,arguments),value){case!0:return fast_float(1);case!1:return fast_float(0)}var original_value=value;if("number"==typeof value)return fast_float(value);if(value.__class__===float)return value;if(_b_.isinstance(value,_b_.memoryview)&&(value=_b_.memoryview.tobytes(value)),_b_.isinstance(value,_b_.bytes))try{value=$B.$getattr(value,"decode")("utf-8")}catch(e){throw _b_.ValueError.$factory("could not convert string to float: "+_b_.repr(original_value))}if("string"==typeof value)switch(value=value.trim(),value.toLowerCase()){case"+inf":case"inf":case"+infinity":case"infinity":return fast_float(Number.POSITIVE_INFINITY);case"-inf":case"-infinity":return fast_float(Number.NEGATIVE_INFINITY);case"+nan":case"nan":return fast_float(Number.NaN);case"-nan":return fast_float(-Number.NaN);case"":throw _b_.ValueError.$factory("count not convert string to float");default:if(value=value.charAt(0)+value.substr(1).replace(/_/g,""),value=to_digits(value),isFinite(value))return fast_float(eval(value));throw _b_.ValueError.$factory("could not convert string to float: "+_b_.repr(original_value))}var klass=value.__class__,float_method=$B.$getattr(klass,"__float__",null);if(null===float_method){var index_method=$B.$getattr(klass,"__index__",null);if(null===index_method)throw _b_.TypeError.$factory("float() argument must be a string or a number, not '"+$B.class_name(value)+"'");var res=$B.$call(index_method)(value),klass=$B.get_class(res);if(klass===_b_.int)return fast_float(res);if(klass===$B.long_int)return $B.long_int.__float__(res);if(klass.__mro__.indexOf(_b_.int)>-1){var msg=`${$B.class_name(value)}.__index__ returned non-int (type ${$B.class_name(res)}).  The ability to return an instance of a strict subclass of int is deprecated, and may be removed in a future version of Python.`;return $B.warn(_b_.DeprecationWarning,msg),fast_float(res)}throw _b_.TypeError.$factory(`__index__ returned non-int (type ${$B.class_name(res)})`)}var res=$B.$call(float_method)(value),klass=$B.get_class(res);if(klass!==_b_.float){if(klass.__mro__.indexOf(_b_.float)>-1){var msg=`${$B.class_name(value)}.__float__ returned non-float (type ${$B.class_name(res)}).  The ability to return an instance of a strict subclass of float is deprecated, and may be removed in a future version of Python.`;return $B.warn(_b_.DeprecationWarning,msg),float.$factory(res.value)}throw _b_.TypeError.$factory(`__float__ returned non-float (type ${$B.class_name(res)})`)}return res},$B.$FloatClass=$FloatClass,$B.set_func_names(float,"builtins");var FloatSubclass=$B.FloatSubclass={__class__:_b_.type,__mro__:[object],$infos:{__module__:"builtins",__name__:"float"},$is_class:!0};for(var $attr in float)"function"==typeof float[$attr]&&(FloatSubclass[$attr]=function(e){return function(){var t=[],r=0;if(arguments.length>0){t=[arguments[0].valueOf()],r=1;for(var n=1,a=arguments.length;n<a;n++)t[r++]=arguments[n]}return float[e].apply(null,t)}}($attr));$B.set_func_names(FloatSubclass,"builtins"),_b_.float=float,$B.MAX_VALUE=fast_float(Number.MAX_VALUE),$B.MIN_VALUE=fast_float(Number.MIN_VALUE)}(__BRYTHON__),function($B){var _b_=$B.builtins;function $UnsupportedOpType(e,t,r){throw _b_.TypeError.$factory("unsupported operand type(s) for "+e+": '"+t+"' and '"+r+"'")}var complex={__class__:_b_.type,__dir__:_b_.object.__dir__,$infos:{__module__:"builtins",__name__:"complex"},$is_class:!0,$native:!0,$descriptors:{real:!0,imag:!0}};function complex2expo(e){var t=Math.sqrt(e.$real.value*e.$real.value+e.$imag.value*e.$imag.value),r=e.$imag.value/t,n=e.$real.value/t;return{norm:t,angle:0==n?1==r?Math.PI/2:3*Math.PI/2:0==r?1==n?0:Math.PI:Math.atan(r/n)}}function hypot(){var e=$B.args("hypot",0,{},[],arguments,{},"args",null);return _b_.float.$factory(Math.hypot(...e.args))}function c_powi(e,t){return t>0?c_powu(e,t):c_quot(c_1,c_powu(e,-t))}function c_powu(e,t){for(var r=1,n=c_1,a=e;r>0&&t>=r;)t&r&&(n=c_prod(n,a)),r<<=1,a=c_prod(a,a);return n}function c_prod(e,t){return make_complex(e.$real.value*t.$real.value-e.$imag.value*t.$imag.value,e.$real.value*t.$imag.value+e.$imag.value*t.$real.value)}function c_quot(e,t){var r=_b_.abs(t.$real.value),n=_b_.abs(t.$imag.value);if($B.rich_comp("__ge__",r,n)){if(0==r)throw _b_.ZeroDivisionError.$factory();var a=t.$imag.value/t.$real.value,s=t.$real.value+t.$imag.value*a;return make_complex((e.$real.value+e.$imag.value*a)/s,(e.$imag.value-e.$real.value*a)/s)}if(n>=r){a=t.$real.value/t.$imag.value,s=t.$real.value*a+t.$imag.value;if(0==t.$imag.value)throw _b_.ZeroDivisionError.$factory();return make_complex((e.$real.value*a+e.$imag.value)/s,(e.$imag.value*a-e.$real.value)/s)}return _b_.float("nan")}complex.__abs__=function(e){var t=isFinite(e.$real.value),r=isFinite(e.$imag.value);if(t&&isNaN(e.$imag.value)||r&&isNaN(e.$real.value)||isNaN(e.$imag.value)&&isNaN(e.$real.value))return $B.fast_float(NaN);if(!t||!r)return $B.fast_float(1/0);var n=Math.sqrt(Math.pow(e.$real.value,2)+Math.pow(e.$imag.value,2));if(!isFinite(n)&&t&&r)throw _b_.OverflowError.$factory("absolute value too large");return $B.fast_float(n)},complex.__add__=function(e,t){return _b_.isinstance(t,complex)?make_complex(e.$real.value+t.$real.value,e.$imag.value+t.$imag.value):_b_.isinstance(t,_b_.int)?(t=_b_.int.numerator(t),make_complex($B.add(e.$real.value,t.valueOf()),e.$imag.value)):_b_.isinstance(t,_b_.float)?make_complex(e.$real.value+t.value,e.$imag.value):_b_.NotImplemented},complex.__bool__=function(e){return 0!=e.$real||0!=e.$imag},complex.__complex__=function(e){return e},complex.__eq__=function(e,t){return _b_.isinstance(t,complex)?e.$real.value==t.$real.value&&e.$imag.value==t.$imag.value:_b_.isinstance(t,_b_.int)?0==e.$imag.value&&e.$real.value==t.valueOf():_b_.isinstance(t,_b_.float)?0==e.$imag.value&&e.$real.value==t.value:_b_.NotImplemented},complex.__hash__=function(e){return 1000003*e.$imag.value+e.$real.value},complex.__init__=function(){return _b_.None},complex.__invert__=function(e){return~e},complex.__mro__=[_b_.object],complex.__mul__=function(e,t){return _b_.isinstance(t,complex)?make_complex(e.$real.value*t.$real.value-e.$imag.value*t.$imag.value,e.$imag.value*t.$real.value+e.$real.value*t.$imag.value):_b_.isinstance(t,_b_.int)?make_complex(e.$real.value*t.valueOf(),e.$imag.value*t.valueOf()):_b_.isinstance(t,_b_.float)?make_complex(e.$real.value*t.value,e.$imag.value*t.value):_b_.isinstance(t,_b_.bool)?t.valueOf()?e:make_complex(0,0):void $UnsupportedOpType("*",complex,t)},complex.__ne__=function(e,t){var r=complex.__eq__(e,t);return r===_b_.NotImplemented?r:!r},complex.__neg__=function(e){return make_complex(-e.$real.value,-e.$imag.value)},complex.__new__=function(e){if(void 0===e)throw _b_.TypeError.$factory("complex.__new__(): not enough arguments");var t={},r=$B.args("complex",3,{cls:null,real:null,imag:null},["cls","real","imag"],arguments,{real:0,imag:t},null,null),n=r.real,a=r.imag;if("string"==typeof n){if(a!==t)throw _b_.TypeError.$factory("complex() can't take second arg if first is a string");{var s=n;(n=n.trim()).startsWith("(")&&n.endsWith(")")&&(n=(n=n.substr(1)).substr(0,n.length-1));var o=/^\s*([\+\-]*[0-9_]*\.?[0-9_]*(e[\+\-]*[0-9_]*)?)([\+\-]?)([0-9_]*\.?[0-9_]*(e[\+\-]*[0-9_]*)?)(j?)\s*$/i.exec(n);function i(e){var t=parseFloat(e.charAt(0)+e.substr(1).replace(/_/g,""));if(isNaN(t))throw _b_.ValueError.$factory("could not convert string to complex: '"+s+"'");return t}if(null===o)throw _b_.ValueError.$factory("complex() arg is a malformed string");if("."==o[_real]||"."==o[_imag]||".e"==o[_real]||".e"==o[_imag]||"e"==o[_real]||"e"==o[_imag])throw _b_.ValueError.$factory("complex() arg is a malformed string");return""!=o[_j]?""==o[_sign]?(n=0,a="+"==o[_real]||""==o[_real]?1:"-"==o[_real]?-1:i(o[_real])):(n=i(o[_real]),a=""==o[_imag]?1:i(o[_imag]),a="-"==o[_sign]?-a:a):(n=i(o[_real]),a=0),make_complex(n,a)}}if(a=a===t?0:a,2==arguments.length&&n.__class__===complex&&0==a)return n;if(_b_.isinstance(n,[_b_.float,_b_.int])&&_b_.isinstance(a,[_b_.float,_b_.int]))return make_complex(n,a);var _=$B.to_num(n,["__complex__","__float__","__index__"]);if(null===_)throw _b_.TypeError.$factory("complex() first argument must be a  string or a number, not '"+$B.class_name(n)+"'");if(n=_,a=_convert(a),!_b_.isinstance(n,_b_.float)&&!_b_.isinstance(n,_b_.int)&&!_b_.isinstance(n,_b_.complex))throw _b_.TypeError.$factory("complex() argument must be a string or a number");if("string"==typeof a)throw _b_.TypeError.$factory("complex() second arg can't be a string");if(!_b_.isinstance(a,_b_.float)&&!_b_.isinstance(a,_b_.int)&&!_b_.isinstance(a,_b_.complex)&&a!==t)throw _b_.TypeError.$factory("complex() argument must be a string or a number");return a=complex.__mul__(complex.$factory("1j"),a),complex.__add__(a,n)},complex.__pos__=function(e){return e},complex.__pow__=function(e,t){if(1==t)return e;if(_b_.isinstance(t,_b_.int)&&_b_.abs(t)<100)return c_powi(e,t);_b_.isinstance(t,_b_.float)&&(t=_b_.float.$to_js_number(t));var r=complex2expo(e),n=r.angle,a=Math.pow(r.norm,t);if(_b_.isinstance(t,_b_.int))return make_complex(a*Math.cos(n*t),a*Math.sin(n*t));if(_b_.isinstance(t,_b_.float))return make_complex(a*Math.cos(n*t.value),a*Math.sin(n*t.value));if(_b_.isinstance(t,complex)){var s=t.$real.value,o=t.$imag.value,i=Math.pow(r.norm,s)*Math.pow(Math.E,-o*n),_=o*Math.log(r.norm)-s*n;return make_complex(i*Math.cos(_),i*Math.sin(_))}throw _b_.TypeError.$factory("unsupported operand type(s) for ** or pow(): 'complex' and '"+$B.class_name(t)+"'")},complex.__radd__=function(e,t){return _b_.isinstance(t,_b_.bool)&&(t=t?1:0),_b_.isinstance(t,_b_.int)?make_complex(t+e.$real.value,e.$imag.value):_b_.isinstance(t,_b_.float)?make_complex(t.value+e.$real.value,e.$imag.value):_b_.NotImplemented},complex.__repr__=function(e){$B.builtins_repr_check(complex,arguments);var t=Number.isInteger(e.$real.value)?e.$real.value+"":_b_.str.$factory(e.$real),r=Number.isInteger(e.$imag.value)?e.$imag.value+"":_b_.str.$factory(e.$imag);return r.endsWith(".0")&&(r=r.substr(0,r.length-2)),e.$imag instanceof Number&&e.$imag==parseInt(e.$imag)&&0==e.$imag&&1/e.$imag==-1/0&&(r="-0"),0==e.$real.value?1/e.$real.value<0?r.startsWith("-")?"-0"+r+"j":"-0+"+r+"j":r+"j":e.$imag.value>0||isNaN(e.$imag.value)?"("+t+"+"+r+"j)":0==e.$imag.value?1/e.$imag.value<0?"("+t+"-0j)":"("+t+"+0j)":"("+t+"-"+_b_.str.$factory(-e.$imag.value)+"j)"},complex.__rmul__=function(e,t){return _b_.isinstance(t,_b_.bool)&&(t=t?1:0),_b_.isinstance(t,_b_.int)?make_complex(t*e.$real.value,t*e.$imag.value):_b_.isinstance(t,_b_.float)?make_complex(t.value*e.$real.value,t.value*e.$imag.value):_b_.NotImplemented},complex.__sqrt__=function(e){if(0==e.$imag)return complex(Math.sqrt(e.$real.value));var t=e.$real.value,r=e.$imag.value,n=Math.sqrt((t+sqrt)/2),a=Number.sign(r)*Math.sqrt((-t+sqrt)/2);return make_complex(n,a)},complex.__sub__=function(e,t){return _b_.isinstance(t,complex)?make_complex(e.$real.value-t.$real.value,e.$imag.value-t.$imag.value):_b_.isinstance(t,_b_.int)?(t=_b_.int.numerator(t),make_complex(e.$real.value-t.valueOf(),e.$imag.value)):_b_.isinstance(t,_b_.float)?make_complex(e.$real.value-t.value,e.$imag.value):_b_.NotImplemented},complex.__truediv__=function(e,t){if(_b_.isinstance(t,complex)){if(0==t.$real.value&&0==t.$imag.value)throw _b_.ZeroDivisionError.$factory("division by zero");var r=e.$real.value*t.$real.value+e.$imag.value*t.$imag.value,n=t.$real.value*t.$real.value+t.$imag.value*t.$imag.value,a=e.$imag.value*t.$real.value-e.$real.value*t.$imag.value;return make_complex(r/n,a/n)}if(_b_.isinstance(t,_b_.int)){if(!t.valueOf())throw _b_.ZeroDivisionError.$factory("division by zero");return complex.__truediv__(e,complex.$factory(t.valueOf()))}if(_b_.isinstance(t,_b_.float)){if(!t.value)throw _b_.ZeroDivisionError.$factory("division by zero");return complex.__truediv__(e,complex.$factory(t.value))}$UnsupportedOpType("//","complex",t.__class__)},complex.conjugate=function(e){return make_complex(e.$real.value,-e.$imag.value)},complex.__ior__=complex.__or__;var r_opnames=["add","sub","mul","truediv","floordiv","mod","pow","lshift","rshift","and","xor","or"];for(var r_opname of r_opnames)void 0===complex["__r"+r_opname+"__"]&&complex["__"+r_opname+"__"]&&(complex["__r"+r_opname+"__"]=function(e){return function(t,r){return _b_.isinstance(r,_b_.int)?(r=make_complex(r,0),complex["__"+e+"__"](r,t)):_b_.isinstance(r,_b_.float)?(r=make_complex(r.value,0),complex["__"+e+"__"](r,t)):_b_.isinstance(r,complex)?complex["__"+e+"__"](r,t):_b_.NotImplemented}}(r_opname));var $comp_func=function(e,t){if(void 0===t||t==_b_.None)return _b_.NotImplemented;throw _b_.TypeError.$factory("no ordering relation is defined for complex numbers")};for(var $op in $comp_func+="",$B.$comps)eval("complex.__"+$B.$comps[$op]+"__ = "+$comp_func.replace(/>/gm,$op));complex.real=function(e){return e.$real},complex.real.setter=function(){throw _b_.AttributeError.$factory("readonly attribute")},complex.imag=function(e){return e.$imag},complex.imag.setter=function(){throw _b_.AttributeError.$factory("readonly attribute")};var _real=1,_real_mantissa=2,_sign=3,_imag=4,_imag_mantissa=5,_j=6,type_conversions=["__complex__","__float__","__index__"],_convert=function(e){for(var t=e.__class__||$B.get_class(e),r=0;r<type_conversions.length;r++){var n={},a=$B.$getattr(t,type_conversions[r],n);if(a!==n)return a(e)}return null},make_complex=$B.make_complex=function(e,t){return{__class__:complex,$real:_b_.float.$factory(e),$imag:_b_.float.$factory(t)}},c_1=make_complex(1,0);complex.$factory=function(){return complex.__new__(complex,...arguments)},$B.set_func_names(complex,"builtins"),_b_.complex=complex}(__BRYTHON__),function(e){var t=e.builtins,r=t.str.__hash__,n=t.None,a=["eq","le","lt","ge","gt","sub","rsub","and","or","xor"];function s(t,r){for(var n=0,a=t.length;n<a;n++){for(var s=t[n],o=!1,i=0,_=r.length;i<_;i++)if(e.rich_comp("__eq__",s,r[i])){r.splice(i,1),o=!0;break}if(!o)return!1}return!0}dict_view_op={__eq__:function(e,t){return e.length==t.length&&s(e,t)},__ne__:function(e,t){return!dict_view_op.__eq__(e,t)},__lt__:function(e,t){return e.length<t.length&&s(e,t)},__gt__:function(e,t){return dict_view_op.__lt__(t,e)},__le__:function(e,t){return e.length<=t.length&&s(e,t)},__ge__:function(e,t){return dict_view_op.__le__(t,e)},__and__:function(t,r){for(var n=[],a=0,s=t.length;a<s;a++){var o=t[a];flag=!1;for(var i=0,_=r.length;i<_;i++)if(e.rich_comp("__eq__",o,r[i])){r.splice(i,1),n.push(o);break}}return n},__or__:function(t,r){for(var n=t,a=0,s=r.length;a<s;a++){for(var o=r[a],i=!1,_=0,l=t.length;_<l;_++)if(e.rich_comp("__eq__",o,t[_])){r.splice(a,1),i=!0;break}i||n.push(o)}return n}},e.make_view=function(r){for(var n=e.make_class(r,function(t,r,a){return{__class__:n,__dict__:e.empty_dict(),counter:-1,dict:t,items:r,len:r.length,set_like:a}}),s=0,o=a.length;s<o;s++){var i="__"+a[s]+"__";n[i]=function(e){return function(r,a){if(r.set_like)return t.set[e](t.set.$factory(r),t.set.$factory(a));if(a.__class__!==n)return!1;var s=t.list.$factory(a);return dict_view_op[e](r.items,s)}}(i)}return n.__iter__=function(e){var t=n.$iterator.$factory(e.items);return t.test_change=function(){return e.dict.$version!=e.dict_version},t},n.__len__=function(e){return e.len},n.__repr__=function(e){return n.$infos.__name__+"("+t.repr(e.items)+")"},e.set_func_names(n,"builtins"),n};var o={__class__:t.type,__mro__:[t.object],$infos:{__module__:"builtins",__name__:"dict"},$is_class:!0,$native:!0,$match_mapping_pattern:!0};function i(e,r){var a=[];if(e.$jsobj){for(var s in a=[],e.$jsobj)if(!(s.startsWith("$")||e.$exclude&&e.$exclude(s))){var o=e.$jsobj[s];void 0===o?o=t.NotImplemented:null===o&&(o=n),a.push([s,o])}}else if(t.isinstance(e,t.dict)){for(var i in e.$numeric_dict)a.push([parseFloat(i),e.$numeric_dict[i]]);for(var i in e.$string_dict)a.push([i,e.$string_dict[i]]);for(var i in e.$object_dict)e.$object_dict[i].forEach(function(e){a.push(e)});a.sort(function(e,t){return e[1][1]-t[1][1]}),a=a.map(function(e){return[e[0],e[1][0]]})}return void 0!==r?(res=a.map(function(e){return e[r]}),res):(a.__class__=t.tuple,a.map(function(e){return e.__class__=t.tuple,e}))}o.$to_obj=function(e){var t={};for(var r in e.$string_dict)t[r]=e.$string_dict[r][0];return t},e.dict_to_list=i;var _=function(e,r){var n=i(r),a=o.$setitem;r.$version=r.$version||0;for(var s=r.$version||0,_=0,l=n.length;_<l;_++)if(a(e,n[_][0],n[_][1]),r.$version!=s)throw t.RuntimeError.$factory("dict mutated during update")};function l(t,r,n){var a=t.$object_dict[r];if(void 0!==a)for(var s=0,o=a.length;s<o;s++)if(e.is_or_equals(n,a[s][0]))return s;return-1}function c(e,n){for(var a=-1,s=n.length-1,i=o.__setitem__;a++<s;){var _=n[a];if(2!=_.length)throw t.ValueError.$factory(`dictionary update sequence element #${a} has length 1; 2 is required`);switch(typeof _[0]){case"string":e.$string_dict[_[0]]=[_[1],e.$order++],e.$str_hash[r(_[0])]=_[0],e.$version++;break;case"number":if(0!=_[0]&&1!=_[0]){e.$numeric_dict[_[0]]=[_[1],e.$order++],e.$version++;break}default:i(e,_[0],_[1])}}}function u(){var t=e.args("__newobj__",0,{},[],arguments,{},"args",null).args,r=e.empty_dict();return r.__class__=t[0],r}o.__bool__=function(){var t=e.args("__bool__",1,{self:null},["self"],arguments,{},null,null);return o.__len__(t.self)>0},o.__class_getitem__=function(t,r){return Array.isArray(r)||(r=[r]),e.GenericAlias.$factory(t,r)},o.__contains__=function(){var r=e.args("__contains__",2,{self:null,key:null},["self","key"],arguments,{},null,null),n=r.self,a=r.key;if(n.$jsobj)return void 0!==n.$jsobj[a];switch(typeof a){case"string":return n.$string_dict.hasOwnProperty(a);case"number":return void 0!==n.$numeric_dict[a]}var s=t.hash(a);return!(void 0===n.$str_hash[s]||!e.rich_comp("__eq__",a,n.$str_hash[s]))||(!(void 0===n.$numeric_dict[s]||!e.rich_comp("__eq__",a,s))||l(n,s,a)>-1)},o.__delitem__=function(){var a=e.args("__eq__",2,{self:null,arg:null},["self","arg"],arguments,{},null,null),s=a.self,o=a.arg;if(s.$jsobj){if(void 0===s.$jsobj[o])throw t.KeyError.$factory(o);return delete s.$jsobj[o],n}switch(typeof o){case"string":if(void 0===s.$string_dict[o])throw t.KeyError.$factory(t.str.$factory(o));return delete s.$string_dict[o],delete s.$str_hash[r(o)],s.$version++,n;case"number":if(void 0===s.$numeric_dict[o])throw t.KeyError.$factory(t.str.$factory(o));return delete s.$numeric_dict[o],s.$version++,n}var i,_=t.hash(o);if(!((i=l(s,_,o))>-1))throw t.KeyError.$factory(t.str.$factory(o));return s.$object_dict[_].splice(i,1),s.$version++,n},o.__eq__=function(){var r=e.args("__eq__",2,{self:null,other:null},["self","other"],arguments,{},null,null),n=r.self,a=r.other;if(!t.isinstance(a,o))return!1;if(n.$jsobj&&(n=m(n.$jsobj)),a.$jsobj&&(a=m(a.$jsobj)),o.__len__(n)!=o.__len__(a))return!1;if(n.$string_dict.length!=a.$string_dict.length)return!1;for(var s in n.$numeric_dict)if(a.$numeric_dict.hasOwnProperty(s)){if(!e.rich_comp("__eq__",a.$numeric_dict[s][0],n.$numeric_dict[s][0]))return!1}else{if(!a.$object_dict.hasOwnProperty(s))return!1;for(var i=!1,_=0,l=(u=a.$object_dict[s]).length;_<l;_++)if(e.rich_comp("__eq__",s,u[_][0])&&e.rich_comp("__eq__",n.$numeric_dict[s],u[_][1])){i=!0;break}if(!i)return!1}for(var s in n.$string_dict)if(!a.$string_dict.hasOwnProperty(s)||!e.rich_comp("__eq__",a.$string_dict[s][0],n.$string_dict[s][0]))return!1;for(var c in n.$object_dict){var u=n.$object_dict[c],f=[];if(void 0!==a.$numeric_dict[c]&&f.push([c,a.$numeric_dict[c]]),void 0!==a.$object_dict[c]&&(f=f.concat(a.$object_dict[c])),0==f.length)return!1;_=0;for(var p=u.length;_<p;_++){i=!1;for(var d=u[_][0],h=u[_][1][0],$=0,b=f.length;$<b;$++)if(e.is_or_equals(d,f[$][0])&&e.is_or_equals(h,f[$][1][0])){i=!0;break}if(!i)return!1}}return!0},o.__getitem__=function(){var t=e.args("__getitem__",2,{self:null,arg:null},["self","arg"],arguments,{},null,null),r=t.self,n=t.arg;return o.$getitem(r,n)},o.$getitem=function(r,n,a){if(r.$jsobj){if(r.$exclude&&r.$exclude(n))throw t.KeyError.$factory(n);if(void 0===r.$jsobj[n]){if(r.$jsobj.hasOwnProperty&&r.$jsobj.hasOwnProperty(n))return e.Undefined;throw t.KeyError.$factory(n)}return r.$jsobj[n]}switch(typeof n){case"string":if(r.$string_dict.hasOwnProperty(n))return r.$string_dict[n][0];break;case"number":if(void 0!==r.$numeric_dict[n])return r.$numeric_dict[n][0]}var s=t.hash(n),i=function(t){return e.rich_comp("__eq__",n,t)};"object"==typeof n&&(n.$hash=s);var _=r.$str_hash[s];if(void 0!==_&&i(_))return r.$string_dict[_][0];if(void 0!==r.$numeric_dict[s]&&i(s))return r.$numeric_dict[s][0];if(t.isinstance(n,t.str)&&r.$string_dict.hasOwnProperty(n.valueOf()))return r.$string_dict[n.valueOf()][0];var c=l(r,s,n);if(c>-1)return r.$object_dict[s][c][1][0];if(!a&&r.__class__!==o&&!a){try{var u=e.$getattr(r.__class__,"__missing__",t.None)}catch(e){console.log(e)}if(u!==t.None)return u(r,n)}throw t.KeyError.$factory(n)},o.__hash__=t.None,o.__init__=function(a,s,i){if(void 0===s)return n;if(void 0===i){if("kw"!=s.$nat&&e.get_class(s)===e.JSObj){for(var l in s)a.$string_dict[l]=[s[l],a.$order++];return t.None}if(s.$jsobj){for(var u in a.$jsobj={},s.$jsobj)a.$jsobj[u]=s.$jsobj[u];return n}if(Array.isArray(s))return c(a,s),n}var f=e.args("dict",1,{self:null},["self"],arguments,{},"first","second"),p=f.first;if(p.length>1)throw t.TypeError.$factory("dict expected at most 1 argument, got 2");if(1==p.length)if((p=p[0]).__class__===o)["$string_dict","$str_hash","$numeric_dict","$object_dict"].forEach(function(e){for(l in p[e])a[e][l]=p[e][l]});else if(t.isinstance(p,o))_(a,p);else{var d=e.$getattr(p,"keys",null);if(null!==d){var h=e.$getattr(p,"__getitem__",null);if(null!==h){h=e.$call(h);for(var $=t.iter(e.$call(d)());;)try{var m=h(l=t.next($));o.__setitem__(a,l,m)}catch(e){if(e.__class__===t.StopIteration)break;throw e}return n}}Array.isArray(p)||(p=t.list.$factory(p)),c(a,p)}var b=f.second.$string_dict;for(var u in b)switch(typeof u){case"string":a.$string_dict[u]=[b[u][0],a.$order++],a.$str_hash[r(u)]=u;break;case"number":a.$numeric_dict[u]=[b[u][0],a.$order++];break;default:si(a,u,b[u][0])}return n},o.__iter__=function(e){return t.iter(o.keys(e))},o.__ior__=function(e,t){return o.update(e,t),e},o.__len__=function(e){var t=0;if(e.$jsobj){for(var r in e.$jsobj)"$"==r.charAt(0)||e.$exclude&&e.$exclude(r)||t++;return t}for(var n in e.$numeric_dict)t++;for(var n in e.$string_dict)t++;for(var a in e.$object_dict)t+=e.$object_dict[a].length;return t},o.__ne__=function(e,t){return!o.__eq__(e,t)},o.__new__=function(r){if(void 0===r)throw t.TypeError.$factory("int.__new__(): not enough arguments");var n={__class__:r,$numeric_dict:{},$object_dict:{},$string_dict:{},$str_hash:{},$version:0,$order:0};return r!==o&&(n.__dict__=e.empty_dict()),n},o.__or__=function(e,r){if(!t.isinstance(r,o))return t.NotImplemented;var n=o.copy(e);return o.update(n,r),n},o.__reduce_ex__=function(r,n){return e.fast_tuple([u,e.fast_tuple([r.__class__]),t.None,t.None,o.items(r)])},o.__repr__=function(r){if(e.builtins_repr_check(o,arguments),r.$jsobj)return o.__repr__(m(r.$jsobj,r.$exclude));if(e.repr.enter(r))return"{...}";var n=[];return i(r).forEach(function(e){try{n.push(t.repr(e[0])+": "+t.repr(e[1]))}catch(e){throw e}}),e.repr.leave(r),"{"+n.join(", ")+"}"},o.__ror__=function(e,r){if(!t.isinstance(r,o))return t.NotImplemented;var n=o.copy(r);return o.update(n,e),n},o.__setitem__=function(t,r,n){var a=e.args("__setitem__",3,{self:null,key:null,value:null},["self","key","value"],arguments,{},null,null);return o.$setitem(a.self,a.key,a.value)},o.$setitem=function(a,s,o,i){if(a.$jsobj)return a.$from_js&&(o=e.pyobj2jsobj(o)),a.$jsobj.__class__===t.type?(a.$jsobj[s]=o,"__init__"!=s&&"__new__"!=s||(a.$jsobj.$factory=e.$instance_creator(a.$jsobj))):a.$jsobj[s]=o,n;switch(s instanceof String&&(s=s.valueOf()),typeof s){case"string":return a.$string_dict.hasOwnProperty(s)?a.$string_dict[s][0]=o:(a.$string_dict[s]=[o,a.$order++],a.$str_hash[r(s)]=s,a.$version++),n;case"number":if(void 0!==a.$numeric_dict[s])a.$numeric_dict[s][0]=o;else{var _=!1;if((0==s||1==s)&&void 0!==a.$object_dict[s])for(const e of a.$object_dict[s])(0==s&&!1===e[0]||1==s&&!0===e[0])&&(e[1][0]=o,_=!0);_||(a.$numeric_dict[s]=[o,a.$order++]),a.$version++}return n;case"boolean":var c=s?1:0;if(void 0!==a.$numeric_dict[c]){var u=a.$numeric_dict[c][1];return void(a.$numeric_dict[c]=[o,u])}void 0!==a.$object_dict[c]?a.$object_dict[c].push([s,[o,a.$order++]]):a.$object_dict[c]=[[s,[o,a.$order++]]]}var f=void 0===i?t.hash(s):i,p=function(t){return e.rich_comp("__eq__",s,t)};if(void 0!==a.$numeric_dict[f]&&p(f))return a.$numeric_dict[f]=[o,a.$numeric_dict[f][1]],a.$version++,n;var d=a.$str_hash[f];if(void 0!==d&&p(d))return a.$string_dict[d]=[o,a.$string_dict[d][1]],a.$version++,n;if(i)return void 0!==a.$object_dict[i]?a.$object_dict[i].push([s,[o,a.$order++]]):a.$object_dict[i]=[[s,[o,a.$order++]]],a.$version++,n;var h=l(a,f,s);return h>-1?(a.$object_dict[f][h][1]=[o,a.$object_dict[f][h][1][1]],n):(a.$object_dict.hasOwnProperty(f)?a.$object_dict[f].push([s,[o,a.$order++]]):a.$object_dict[f]=[[s,[o,a.$order++]]],a.$version++,n)},e.make_rmethods(o),o.clear=function(){var t=e.args("clear",1,{self:null},["self"],arguments,{},null,null).self;if(t.$numeric_dict={},t.$string_dict={},t.$str_hash={},t.$object_dict={},t.$jsobj)for(var r in t.$jsobj)"$"!==r.charAt(0)&&"__class__"!==r&&delete t.$jsobj[r];return t.$version++,t.$order=0,n},o.copy=function(t){t=e.args("copy",1,{self:null},["self"],arguments,{},null,null).self;var r=e.empty_dict();return _(r,t),r},o.fromkeys=function(){for(var r=e.args("fromkeys",3,{cls:null,keys:null,value:null},["cls","keys","value"],arguments,{value:t.None},null,null),n=r.keys,a=r.value,s=r.cls,i=e.$call(s)(),_=e.$iter(n);;)try{var l=t.next(_);s===o?o.$setitem(i,l,a):e.$getattr(i,"__setitem__")(l,a)}catch(r){if(e.is_exc(r,[t.StopIteration]))return i;throw r}},o.get=function(){var r=e.args("get",3,{self:null,key:null,_default:null},["self","key","_default"],arguments,{_default:n},null,null);try{return o.$getitem(r.self,r.key,!0)}catch(e){if(t.isinstance(e,t.KeyError))return r._default;throw e}};var f=e.make_view("dict_items",!0);f.$iterator=e.make_iterator_class("dict_itemiterator"),o.items=function(r){e.args("items",1,{self:null},["self"],arguments,{},null,null);for(var n=i(r),a=!0,s=0,o=n.length;s<o;s++)try{t.hash(n[s][1])}catch(e){a=!1;break}var _=i(r),l=f.$factory(r,_,a);return l.dict_version=r.$version,l};var p=e.make_view("dict_keys");p.$iterator=e.make_iterator_class("dict_keyiterator"),o.keys=function(t){e.args("keys",1,{self:null},["self"],arguments,{},null,null);var r=p.$factory(t,i(t,0),!0);return r.dict_version=t.$version,r},o.pop=function(){var r={},n=e.args("pop",3,{self:null,key:null,_default:null},["self","key","_default"],arguments,{_default:r},null,null),a=n.self,s=n.key,i=n._default;try{var _=o.__getitem__(a,s);return o.__delitem__(a,s),_}catch(e){if(e.__class__===t.KeyError){if(i!==r)return i;throw e}throw e}},o.popitem=function(e){try{var r=t.next(t.iter(o.items(e)));return o.__delitem__(e,r[0]),t.tuple.$factory(r)}catch(e){if(e.__class__==t.StopIteration)throw t.KeyError.$factory("'popitem(): dictionary is empty'")}},o.setdefault=function(){var r=e.args("setdefault",3,{self:null,key:null,_default:null},["self","key","_default"],arguments,{_default:n},null,null),a=r.self,s=r.key,i=r._default;try{return o.$getitem(a,s,!0)}catch(e){if(e.__class__!==t.KeyError)throw e;void 0===i&&(i=n);var _=s.$hash;return s.$hash=void 0,o.$setitem(a,s,i,_),i}},o.update=function(r){var a=e.args("update",1,{self:null},["self"],arguments,{},"args","kw"),s=(r=a.self,a.args),i=a.kw;if(s.length>0){var l=s[0];if(t.isinstance(l,o))l.$jsobj&&(l=m(l.$jsobj)),_(r,l);else if(t.hasattr(l,"keys"))for(var c=t.list.$factory(e.$call(e.$getattr(l,"keys"))()),u=0,f=c.length;u<f;u++){var p=e.$getattr(l,"__getitem__")(c[u]);o.$setitem(r,c[u],p)}else{var d=t.iter(l);for(u=0;;){try{var h=t.next(d)}catch(e){if(e.__class__===t.StopIteration)break;throw e}try{key_value=t.list.$factory(h)}catch(e){throw t.TypeError.$factory("cannot convert dictionary update sequence element #"+u+" to a sequence")}if(2!==key_value.length)throw t.ValueError.$factory("dictionary update sequence element #"+u+" has length "+key_value.length+"; 2 is required");o.$setitem(r,key_value[0],key_value[1]),u++}}}return _(r,i),r.$version++,n};var d=e.make_view("dict_values");d.$iterator=e.make_iterator_class("dict_valueiterator"),o.values=function(t){e.args("values",1,{self:null},["self"],arguments,{},null,null);var r=i(t,1),n=d.$factory(t,r,!1);return n.dict_version=t.$version,n},o.$factory=function(){var e=o.__new__(o),t=[e];for(var r of arguments)t.push(r);return o.__init__.apply(null,t),e},t.dict=o,e.set_func_names(o,"builtins"),o.__class_getitem__=t.classmethod.$factory(o.__class_getitem__),e.empty_dict=function(){return{__class__:o,$numeric_dict:{},$object_dict:{},$string_dict:{},$str_hash:{},$version:0,$order:0}},o.fromkeys=t.classmethod.$factory(o.fromkeys),e.getset_descriptor=e.make_class("getset_descriptor",function(r,n){return{__class__:e.getset_descriptor,__doc__:t.None,cls:r,attr:n}}),e.getset_descriptor.__repr__=e.getset_descriptor.__str__=function(e){return`<attribute '${e.attr}' of '${e.cls.$infos.__name__}' objects>`},e.set_func_names(e.getset_descriptor,"builtins");var h=e.mappingproxy=e.make_class("mappingproxy",function(r){if(t.isinstance(r,o))var n=e.obj_dict(o.$to_obj(r));else n=e.obj_dict(r);return n.__class__=h,n});for(var $ in h.$match_mapping_pattern=!0,h.__repr__=function(){return"<mappingproxy object>"},h.__setitem__=function(){throw t.TypeError.$factory("'mappingproxy' object does not support item assignment")},o)void 0!==h[$]||["__class__","__mro__","__new__","__init__","__delitem__","clear","fromkeys","pop","popitem","setdefault","update"].indexOf($)>-1||("function"==typeof o[$]?h[$]=function(e){return function(){return o[e].apply(null,arguments)}}($):h[$]=o[$]);function m(r,n){n=n||function(){return!1};var a=e.empty_dict();for(var s in r)if("$"!=s.charAt(0)&&!n(s))if(null===r[s])a.$string_dict[s]=[t.None,a.$order++];else{if(void 0===r[s])continue;r[s].$jsobj===r?a.$string_dict[s]=[a,a.$order++]:a.$string_dict[s]=[e.$JS2Py(r[s]),a.$order++]}return a}e.set_func_names(h,"builtins"),e.obj_dict=function(t,r){var n=t.__class__||e.get_class(t);if(void 0!==n&&n.$native)throw e.attr_error("__dict__",t);var a=e.empty_dict();return a.$jsobj=t,a.$exclude=r||function(){return!1},a};var b=e.jsobj_as_pydict=e.make_class("jsobj_as_pydict",function(e,t){return{__class__:b,obj:e,exclude:t||function(){return!1},new_keys:[]}});b.__contains__=function(e,t){return e.new_keys.indexOf(t)>-1||!(e.exclude(t)||void 0===e.obj[t])},b.__delitem__=function(e,t){b.__getitem__(e,t),delete e.obj[t];var r=e.new_keys.indexOf(t);r>-1&&e.new_keys.splice(r,1)},b.__eq__=function(r,n){if(n.__class__!==b)return t.NotImplemented;var a=e.empty_dict();return other1=e.empty_dict(),o.__init__(a,b.items(r)),o.__init__(other1,b.items(n)),o.__eq__(a,other1)},b.__getitem__=function(e,r){if(b.__contains__(e,r))return e.obj[r];throw t.KeyError.$factory(r)},b.__iter__=function(e){return t.iter(b.keys(e))},b.__len__=function(e){var t=0;for(var r in e.obj)e.exclude(r)||t++;return t+e.new_keys.length},b.__repr__=function(r){if(e.repr.enter(r))return"{...}";var n=[],a=t.list.$factory(b.items(r));for(var s of a)n.push(t.repr(s[0])+": "+t.repr(s[1]));return e.repr.leave(r),"{"+n.join(", ")+"}"},b.__setitem__=function(e,t,r){e.exclude(t)&&-1==e.new_keys.indexOf(t)&&e.new_keys.push(t),e.obj[t]=r},b.get=function(e,r,n){return n=void 0===n?t.None:n,e.exclude(r)||void 0===e.obj[r]?n:e.obj[r]},b.items=function(r){var n=[];for(var a in r.obj)r.exclude(a)&&-1==r.new_keys.indexOf(a)||n.push(e.fast_tuple([a,r.obj[a]]));var s=!0;for(var o of n)try{t.hash(o[1])}catch(e){s=!1;break}var i=f.$factory(r,n,s);return i.dict_version=r.$version,i},b.keys=function(e){var t=[];for(var r in e.obj)e.exclude(r)&&-1==e.new_keys.indexOf(r)||t.push(r);var n=p.$factory(e,t,!0);return n.dict_version=e.$version,n},b.values=function(e){var t=[];for(var r in e.obj)e.exclude(r)&&-1==e.new_keys.indexOf(r)||t.push(e.obj[r]);var n=d.$factory(e,t,!1);return n.dict_version=e.$version,n},e.set_func_names(b,"builtins")}(__BRYTHON__),function(e){var t=e.builtins,r=t.object,n=(e.$getattr,t.isinstance);function a(t,r){if(t.__class__===p)throw e.attr_error(r,t)}var o={__class__:t.type,__mro__:[r],$infos:{__module__:"builtins",__name__:"list"},$is_class:!0,$native:!0,$match_sequence_pattern:!0,__dir__:r.__dir__,__add__:function(r,a){if(e.get_class(r)!==e.get_class(a)){var s=e.class_name(r);if(null===e.$getattr(a,"__radd__",null))throw t.TypeError.$factory("can only concatenate "+s+' (not "'+e.class_name(a)+'") to '+s);return t.NotImplemented}var o=r.slice(),i="js"==a.$brython_class;for(const t of a)o.push(i?e.$JS2Py(t):t);return o.__brython__=!0,n(r,p)&&(o=p.$factory(o)),o},__class_getitem__:function(t,r){return Array.isArray(r)||(r=[r]),e.GenericAlias.$factory(t,r)},__contains__:function(t,r){var n=e.args("__contains__",2,{self:null,item:null},["self","item"],arguments,{},null,null);t=n.self,r=n.item;for(var a of t)if(e.is_or_equals(a,r))return!0;return!1},__delitem__:function(r,a){if(n(a,t.int)){var s=a;if(a<0&&(s=r.length+s),s>=0&&s<r.length)return r.splice(s,1),t.None;throw t.IndexError.$factory(e.class_name(r)+" index out of range")}if(n(a,t.slice)){var i=a.step;i===t.None&&(i=1);var _=a.start;_===t.None&&(_=i>0?0:r.length);var l=a.stop;l===t.None&&(l=i>0?r.length:0),_<0&&(_=r.length+_),l<0&&(l=r.length+l);var c=[],u=null;s=0;if(i>0){if(l>_)for(u=_;u<l;u+=i)void 0!==r[u]&&(c[s++]=u)}else if(l<_){for(u=_;u>l;u+=i)void 0!==r[u]&&(c[s++]=u);c.reverse()}for(u=c.length;u--;)r.splice(c[u],1);return t.None}if(t.hasattr(a,"__int__")||t.hasattr(a,"__index__"))return o.__delitem__(r,t.int.$factory(a)),t.None;throw t.TypeError.$factory(e.class_name(r)+" indices must be integer, not "+e.class_name(a))},__eq__:function(r,a){var s=n(r,o)?o:p;if(n(a,s)){if(a.length==r.length){for(var i=r.length;i--;)if(!e.is_or_equals(r[i],a[i]))return!1;return!0}return!1}return t.NotImplemented},__getitem__:function(t,r){return e.check_nb_args_no_kw("__getitem__",2,arguments),o.$getitem(t,r)},$getitem:function(r,a){var s,o=r.__class__||e.get_class(r),i=function(e){return e.__class__=o,e};try{s=e.PyNumber_Index(a)}catch(e){}if(void 0!==s){var _=r.valueOf(),l=s;if(s<0&&(l=_.length+l),l>=0&&l<_.length)return _[l];throw t.IndexError.$factory(e.class_name(r)+" index out of range")}if(a.__class__===t.slice||n(a,t.slice)){if(a.start===t.None&&a.stop===t.None&&a.step===t.None)return r.slice();var c=t.slice.$conv_for_seq(a,r.length),u=[],f=null,p=(_=r.valueOf(),l=0,c.start),d=c.stop,h=c.step;if(h>0){if(d<=p)return i(u);for(f=p;f<d;f+=h)u[l++]=_[f];return i(u)}if(d>p)return i(u);for(f=p;f>d;f+=h)u[l++]=_[f];return i(u)}throw t.TypeError.$factory(e.class_name(r)+" indices must be integer, not "+e.class_name(a))},__ge__:function(r,a){if(!n(a,[o,t.tuple]))return t.NotImplemented;for(var s=0;s<r.length;){if(s>=a.length)return!0;if(!e.rich_comp("__eq__",r[s],a[s])){if(res=e.$getattr(r[s],"__ge__")(a[s]),res===t.NotImplemented)throw t.TypeError.$factory("unorderable types: "+e.class_name(r[s])+"() >= "+e.class_name(a[s])+"()");return res}s++}return a.length==r.length},__gt__:function(r,a){if(!n(a,[o,t.tuple]))return t.NotImplemented;for(var s=0;s<r.length;){if(s>=a.length)return!0;if(!e.rich_comp("__eq__",r[s],a[s])){if(res=e.$getattr(r[s],"__gt__")(a[s]),res===t.NotImplemented)throw t.TypeError.$factory("unorderable types: "+e.class_name(r[s])+"() > "+e.class_name(a[s])+"()");return res}s++}return!1}};o.__hash__=t.None,o.__iadd__=function(){for(var t=e.args("__iadd__",2,{self:null,x:null},["self","x"],arguments,{},null,null),r=o.$factory(e.$iter(t.x)),n=0;n<r.length;n++)t.self.push(r[n]);return t.self},o.__imul__=function(){var t=e.args("__imul__",2,{self:null,x:null},["self","x"],arguments,{},null,null),r=e.$GetInt(t.x),n=t.self.length,a=n;if(0==r)return o.clear(t.self),t.self;for(var s=1;s<r;s++)for(j=0;j<n;j++)t.self[a++]=t.self[j];return t.self},o.__init__=function(r,n){var a=e.args("__init__",1,{self:null},["self"],arguments,{},"args",null),s=(r=a.self,a.args);if(s.length>1)throw t.TypeError.$factory("expected at most 1 argument, got "+s.length);n=s[0];var o=e.$call(e.$getattr(r,"__len__")),i=e.$getattr(r,"pop",t.None);if(i!==t.None)for(i=e.$call(i);o();)i();if(void 0===n)return t.None;n=e.$iter(n);for(var _=e.$call(e.$getattr(n,"__next__")),l=o();;)try{var c=_();r[l++]=c}catch(e){if(e.__class__===t.StopIteration)break;throw e}return t.None};var i=e.make_iterator_class("list_iterator");function _(){var t=e.args("__newobj__",0,{},[],arguments,{},"args",null).args,r=t.slice(1);return r.__class__=t[0],r}function l(r){if(e.repr.enter(r))return"[...]";for(var n,a=[],s=0;s<r.length;s++)a.push(t.repr(r[s]));return n=t.isinstance(r,p)?1==r.length?"("+a[0]+",)":"("+a.join(", ")+")":"["+a.join(", ")+"]",e.repr.leave(r),n}i.__reduce__=i.__reduce_ex__=function(r){return e.fast_tuple([t.iter,e.fast_tuple([o.$factory(r)]),0])},o.__iter__=function(e){return i.$factory(e)},o.__le__=function(e,r){var n=o.__ge__(e,r);return n===t.NotImplemented?n:!n},o.__len__=function(e){return e.length},o.__lt__=function(r,a){if(!n(a,[o,t.tuple]))return t.NotImplemented;for(var s=0;s<r.length;){if(s>=a.length)return!1;if(!e.rich_comp("__eq__",r[s],a[s])){if(res=e.$getattr(r[s],"__lt__")(a[s]),res===t.NotImplemented)throw t.TypeError.$factory("unorderable types: "+e.class_name(r[s])+"() >= "+e.class_name(a[s])+"()");return res}s++}return a.length>r.length},o.__mul__=function(r,a){if(n(a,t.int)){a=t.int.numerator(a);for(var s=[],i=r.slice(),_=i.length,l=0;l<a;l++)for(var c=0;c<_;c++)s.push(i[c]);return s.__class__=r.__class__,r.__brython__&&(s.__brython__=r.__brython__),s}if(t.hasattr(a,"__int__")||t.hasattr(a,"__index__"))return o.__mul__(r,t.int.$factory(a));if(null===e.$getattr(a,"__rmul__",null))throw t.TypeError.$factory(`can't multiply sequence by non-int of type '${e.class_name(a)}'`);return t.NotImplemented},o.__new__=function(r,...n){if(void 0===r)throw t.TypeError.$factory("list.__new__(): not enough arguments");var a=[];return a.__class__=r,a.__brython__=!0,a.__dict__=e.empty_dict(),a},o.__reduce_ex__=function(r){return e.fast_tuple([_,e.fast_tuple([r.__class__]),t.None,t.iter(r)])},o.__repr__=function(t){return e.builtins_repr_check(o,arguments),l(t)},o.__rmul__=function(e,t){return o.__mul__(e,t)},o.__setattr__=function(r,n,a){if(r.__class__===o||r.__class__===p){var s=e.class_name(r);throw o.hasOwnProperty(n)?t.AttributeError.$factory("'"+s+"' object attribute '"+n+"' is read-only"):t.AttributeError.$factory("'"+s+" object has no attribute '"+n+"'")}return t.dict.$setitem(r.__dict__,n,a),t.None},o.__setitem__=function(){var t=e.args("__setitem__",3,{self:null,key:null,value:null},["self","key","value"],arguments,{},null,null),r=t.self,n=t.key,a=t.value;o.$setitem(r,n,a)},o.$setitem=function(r,a,s){if("number"==typeof a||n(a,t.int)){var i=a;if(a<0&&(i=r.length+i),!(i>=0&&i<r.length))throw t.IndexError.$factory("list index out of range");return r[i]=s,t.None}if(n(a,t.slice)){var _=t.slice.$conv_for_seq(a,r.length);return null===a.step?e.set_list_slice(r,_.start,_.stop,s):e.set_list_slice_step(r,_.start,_.stop,_.step,s),t.None}if(t.hasattr(a,"__int__")||t.hasattr(a,"__index__"))return o.__setitem__(r,t.int.$factory(a),s),t.None;throw t.TypeError.$factory("list indices must be integer, not "+e.class_name(a))},o.append=function(r,n){return e.check_nb_args_no_kw("append",2,arguments),r.push(n),t.None},o.clear=function(){for(var r=e.args("clear",1,{self:null},["self"],arguments,{},null,null);r.self.length;)r.self.pop();return t.None},o.copy=function(){var t=e.args("copy",1,{self:null},["self"],arguments,{},null,null).self.slice();return t.__class__=self.__class__,t.__brython__=!0,t},o.count=function(){var t=e.args("count",2,{self:null,x:null},["self","x"],arguments,{},null,null),r=0;for(var n of t.self)e.is_or_equals(n,t.x)&&r++;return r},o.extend=function(){for(var r=e.args("extend",2,{self:null,t:null},["self","t"],arguments,{},null,null),n=o.$factory(e.$iter(r.t)),a=0;a<n.length;a++)r.self.push(n[a]);return t.None},o.index=function(){var r={},n=e.args("index",4,{self:null,x:null,start:null,stop:null},["self","x","start","stop"],arguments,{start:0,stop:r},null,null),a=n.self,s=n.start,o=n.stop;s.__class__===e.long_int&&(s=parseInt(s.value)*(s.pos?1:-1)),s<0&&(s=Math.max(0,s+a.length)),o===r?o=a.length:(o.__class__===e.long_int&&(o=parseInt(o.value)*(o.pos?1:-1)),o<0&&(o=Math.min(a.length,o+a.length)),o=Math.min(o,a.length));for(var i=s;i<o;i++)if(e.rich_comp("__eq__",n.x,a[i]))return i;throw t.ValueError.$factory(t.repr(n.x)+" is not in "+e.class_name(a))},o.insert=function(){var r=e.args("insert",3,{self:null,i:null,item:null},["self","i","item"],arguments,{},null,null);return r.self.splice(r.i,0,r.item),t.None},o.pop=function(){var r={},n=e.args("pop",2,{self:null,pos:null},["self","pos"],arguments,{pos:r},null,null),s=n.self,o=n.pos;a(s,"pop"),o===r&&(o=s.length-1),(o=e.$GetInt(o))<0&&(o+=s.length);var i=s[o];if(void 0===i)throw t.IndexError.$factory("pop index out of range");return s.splice(o,1),i},o.remove=function(){for(var r=e.args("remove",2,{self:null,x:null},["self","x"],arguments,{},null,null),n=0,a=r.self.length;n<a;n++)if(e.rich_comp("__eq__",r.self[n],r.x))return r.self.splice(n,1),t.None;throw t.ValueError.$factory(t.str.$factory(r.x)+" is not in list")},o.reverse=function(r){for(var n=e.args("reverse",1,{self:null},["self"],arguments,{},null,null),a=n.self.length-1,s=parseInt(n.self.length/2);s--;){var o=n.self[s];n.self[s]=n.self[a-s],n.self[a-s]=o}return t.None},o.sort=function(r){var n=e.args("sort",1,{self:null},["self"],arguments,{},null,"kw");a(r,"sort");for(var s=t.None,o=!1,i=n.kw,_=t.list.$factory(t.dict.keys(i)),l=0;l<_.length;l++)if("key"==_[l])s=i.$string_dict[_[l]][0];else{if("reverse"!=_[l])throw t.TypeError.$factory("'"+_[l]+"' is an invalid keyword argument for this function");o=i.$string_dict[_[l]][0]}if(0==r.length)return t.None;s!==t.None&&(s=e.$call(s)),r.$cl=function(t){if(0==t.length)return null;for(var r=e.get_class(t[0]),n=t.length;n--;)if(e.get_class(t[n])!==r)return!1;return r}(r);var c=null;return c=s===t.None&&r.$cl===t.str?o?function(t,r){return e.$AlphabeticalCompare(r,t)}:function(t,r){return e.$AlphabeticalCompare(t,r)}:s===t.None&&r.$cl===t.int?o?function(e,t){return t-e}:function(e,t){return e-t}:s===t.None?o?function(r,n){if(res=e.$getattr(n,"__lt__")(r),res===t.NotImplemented)throw t.TypeError.$factory("unorderable types: "+e.class_name(r)+"() < "+e.class_name(n)+"()");return res?n==r?0:-1:1}:function(r,n){if(res=e.rich_comp("__lt__",r,n),res===t.NotImplemented)throw t.TypeError.$factory("unorderable types: "+e.class_name(r)+"() < "+e.class_name(n)+"()");return res?r==n?0:-1:1}:o?function(r,n){var a=s(n),o=s(r);if(res=e.$getattr(a,"__lt__")(o),res===t.NotImplemented)throw t.TypeError.$factory("unorderable types: "+e.class_name(r)+"() < "+e.class_name(n)+"()");return res?a==o?0:-1:1}:function(r,n){var a=s(r),o=s(n);if(res=e.$getattr(a,"__lt__")(o),res===t.NotImplemented)throw t.TypeError.$factory("unorderable types: "+e.class_name(r)+"() < "+e.class_name(n)+"()");return res?a==o?0:-1:1},e.$TimSort(r,c),r.__brython__?t.None:r},e.$list=function(e){return e.__brython__=!0,e.__class__=t.list,e},o.$factory=function(){if(0==arguments.length)return[];var r=e.args("list",1,{obj:null},["obj"],arguments,{},null,null).obj;if(Array.isArray(r))return(r=r.slice()).__brython__=!0,r.__class__==p?((a=r.slice()).__class__=o,a):r;for(var a=[],s=0,i=e.$iter(r),_=e.$call(e.$getattr(i,"__next__"));;)try{a[s++]=_()}catch(e){if(!n(e,t.StopIteration))throw e;break}return a.__brython__=!0,a},o.$unpack=function(r){try{return t.list.$factory(r)}catch(a){try{var n=e.$iter(r);e.$call(e.$getattr(n,"__next__"))}catch(n){if(e.is_exc(n,[t.TypeError]))throw t.TypeError.$factory(`Value after * must be an iterable, not ${e.class_name(r)}`);throw n}throw a}},e.set_func_names(o,"builtins"),o.__class_getitem__=t.classmethod.$factory(o.__class_getitem__);var c=e.JSArray=e.make_class("JSArray",function(e){return{__class__:c,js:e}});function u(e){for(var t=[e[0].js],r=1,n=e.length;r<n;r++)t.push(e[r]);return t}for(var f in c.__repr__=c.__str__=function(){return"<JSArray object>"},o)void 0===e.JSArray[f]&&"function"==typeof o[f]&&(e.JSArray[f]=function(t){return function(){return e.$JS2Py(o[t].apply(null,u(arguments)))}}(f));e.set_func_names(e.JSArray,"builtins");var p={__class__:t.type,__mro__:[r],$infos:{__module__:"builtins",__name__:"tuple"},$is_class:!0,$native:!0,$match_sequence_pattern:!0},d=e.make_iterator_class("tuple_iterator");for(var f in p.__iter__=function(e){return d.$factory(e)},p.$factory=function(){var e=o.$factory(...arguments);return e.__class__=p,e},e.fast_tuple=function(t){return t.__class__=p,t.__brython__=!0,t.__dict__=e.empty_dict(),t},o)switch(f){case"__delitem__":case"__iadd__":case"__imul__":case"__setitem__":case"append":case"extend":case"insert":case"remove":case"reverse":break;default:void 0===p[f]&&"function"==typeof o[f]&&(p[f]=function(e){return function(){return o[e].apply(null,arguments)}}(f))}function h(e,t){return s=(parseInt(e)*t&4294967295).toString(16),parseInt(s.substr(0,s.length-1),16)}p.__eq__=function(e,t){return void 0===t?e===p:o.__eq__(e,t)},p.__hash__=function(e){for(var r=54880137,n=0,a=e.length;n<a;n++){var s=t.hash(e[n]);r=h(1000003,r)^4294967295&s}return r},p.__init__=function(){return t.None},p.__new__=function(r,...n){if(void 0===r)throw t.TypeError.$factory("list.__new__(): not enough arguments");var a=[];a.__class__=r,a.__brython__=!0,a.__dict__=e.empty_dict();for(var s=e.$iter(n[0]),o=e.$call(e.$getattr(s,"__next__"));;)try{var i=o();a.push(i)}catch(e){if(e.__class__===t.StopIteration)break;throw e}return a},p.__reduce_ex__=function(r){return e.fast_tuple([_,e.fast_tuple([r.__class__].concat(r.slice())),t.None,t.None])},p.__repr__=function(t){return e.builtins_repr_check(p,arguments),l(t)},e.set_func_names(p,"builtins"),t.list=o,t.tuple=p,t.object.__bases__=p.$factory(),t.type.__bases__=e.fast_tuple([t.object])}(__BRYTHON__),function(e){var t=e.builtins,r={};e.generator_return=function(e){return{__class__:r,value:e}},e.generator=e.make_class("generator",function(t,r){var n=function(){var n=t.apply(null,arguments);return n.$name=r||"generator",n.$func=t,n.$has_run=!1,{__class__:e.generator,js_gen:n}};return n.$infos=t.$infos,n.$is_genfunc=!0,n.$name=r,n}),e.generator.__iter__=function(e){return e},e.generator.__next__=function(r){return e.generator.send(r,t.None)},e.generator.__str__=function(e){var t=e.js_gen.$name||"generator";return e.js_gen.$func&&e.js_gen.$func.$infos&&(t=e.js_gen.$func.$infos.__qualname__),`<generator object ${t}>`},e.generator.close=function(r){var n=e.frames_stack.slice();r.$frame&&e.frames_stack.push(r.$frame);try{e.generator.throw(r,t.GeneratorExit.$factory())}catch(r){if(!e.is_exc(r,[t.GeneratorExit,t.StopIteration]))throw e.frames_stack=n,t.RuntimeError.$factory("generator ignored GeneratorExit")}e.frames_stack=n},e.generator.send=function(n,a){var s=n.js_gen;if(s.$has_run=!0,s.$finished)throw t.StopIteration.$factory(a);if(!0===s.gi_running)throw t.ValueError.$factory("generator already executing");s.gi_running=!0;var o=e.frames_stack.slice();n.$frame&&e.frames_stack.push(n.$frame);try{var i=s.next(a)}catch(t){throw s.$finished=!0,e.frames_stack=o,t}if(e.last(e.frames_stack)===n.$frame&&e.leave_frame(),e.frames_stack=o,i.value&&i.value.__class__===r)throw s.$finished=!0,t.StopIteration.$factory(i.value.value);if(s.gi_running=!1,i.done)throw t.StopIteration.$factory(i.value);return i.value},e.generator.throw=function(r,n,a,s){var o=r.js_gen,i=n;if(i.$is_class){if(!t.issubclass(n,t.BaseException))throw t.TypeError.$factory("exception value must be an instance of BaseException");void 0===a?i=e.$call(i)():t.isinstance(a,n)&&(i=a)}else void 0===a?a=i:i=e.$call(i)(a);void 0!==s&&(i.$traceback=s);var _=e.frames_stack.slice();r.$frame&&e.frames_stack.push(r.$frame);var l=o.throw(i);if(e.frames_stack=_,l.done)throw t.StopIteration.$factory(l.value);return l.value},e.set_func_names(e.generator,"builtins"),e.async_generator=e.make_class("async_generator",function(t){return function(){var r=t.apply(null,arguments),n=Object.create(null);return n.__class__=e.async_generator,n.js_gen=r,n}}),e.async_generator.__aiter__=function(e){return e},e.async_generator.__anext__=function(r){return e.async_generator.asend(r,t.None)},e.async_generator.aclose=function(e){return e.js_gen.$finished=!0,t.None},e.async_generator.asend=async function(n,a){var s=n.js_gen;if(s.$finished)throw t.StopAsyncIteration.$factory(a);if(!0===s.ag_running)throw t.ValueError.$factory("generator already executing");s.ag_running=!0;var o=e.frames_stack.slice();n.$frame&&e.frames_stack.push(n.$frame);try{var i=await s.next(a)}catch(t){throw s.$finished=!0,e.frames_stack=o,t}if(e.last(e.frames_stack)===n.$frame&&e.leave_frame(),e.frames_stack=o,i.done)throw t.StopAsyncIteration.$factory(a);if(i.value.__class__===r)throw s.$finished=!0,t.StopAsyncIteration.$factory(i.value.value);return s.ag_running=!1,i.value},e.async_generator.athrow=async function(r,n,a,s){var o=r.js_gen,i=n;if(i.$is_class){if(!t.issubclass(n,t.BaseException))throw t.TypeError.$factory("exception value must be an instance of BaseException");void 0===a&&(a=e.$call(i)())}else void 0===a?a=i:i=e.$call(i)(a);void 0!==s&&(i.$traceback=s);var _=e.frames_stack.slice();r.$frame&&e.frames_stack.push(r.$frame),await o.throw(a),e.frames_stack=_},e.set_func_names(e.async_generator,"builtins")}(__BRYTHON__),function(e){var t=e.builtins,r=t.object,n=self,a=e.py_immutable_to_js=function(r){return t.isinstance(r,t.float)?r.value:t.isinstance(r,e.long_int)?e.long_int.$to_js_number(r):r};function s(e){var t=0,r=0,n=e.width||e.offsetWidth,a=e.height||e.offsetHeight;for(document.scrollingElement.scrollTop;e.offsetParent;)t+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;if(t+=e.offsetLeft||0,r+=e.offsetTop||0,e.parentElement){var o=s(e.parentElement);t+=o.left,r+=o.top}return{left:t,top:r,width:n,height:a}}function o(e){if(e.type.startsWith("touch"))return(r={}).x=t.int.$factory(e.touches[0].screenX),r.y=t.int.$factory(e.touches[0].screenY),r.__getattr__=function(e){return this[e]},r.__class__="MouseCoords",r;var r,a=0,s=0;if(!e)e=n.event;return e.pageX||e.pageY?(a=e.pageX,s=e.pageY):(e.clientX||e.clientY)&&(a=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,s=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),(r={}).x=t.int.$factory(a),r.y=t.int.$factory(s),r.__getattr__=function(e){return this[e]},r.__class__="MouseCoords",r}e.$isNode=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},e.$isNodeList=function(e){try{var t=Object.prototype.toString.call(e),r=new RegExp("^\\[object (HTMLCollection|NodeList)\\]$");return"object"==typeof e&&null!==r.exec(t)&&void 0!==e.length&&(0==e.length||"object"==typeof e[0]&&e[0].nodeType>0)}catch(e){return!1}};var i=["NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","type","target","currentTarget","eventPhase","bubbles","cancelable","timeStamp","stopPropagation","preventDefault","initEvent"],_=["altKey","altLeft","button","cancelBubble","clientX","clientY","contentOverflow","ctrlKey","ctrlLeft","data","dataFld","dataTransfer","fromElement","keyCode","nextPage","offsetX","offsetY","origin","propertyName","reason","recordset","repeat","screenX","screenY","shiftKey","shiftLeft","source","srcElement","srcFilter","srcUrn","toElement","type","url","wheelDelta","x","y"];e.$isEvent=function(e){for(var t=!0,r=0;r<i.length;r++)if(void 0===e[i[r]]){t=!1;break}if(t)return!0;for(r=0;r<_.length;r++)if(void 0===e[_[r]])return!1;return!0};var l={1:"ELEMENT",2:"ATTRIBUTE",3:"TEXT",4:"CDATA_SECTION",5:"ENTITY_REFERENCE",6:"ENTITY",7:"PROCESSING_INSTRUCTION",8:"COMMENT",9:"DOCUMENT",10:"DOCUMENT_TYPE",11:"DOCUMENT_FRAGMENT",12:"NOTATION"},c=e.make_class("Attributes",function(e){return{__class__:c,elt:e}});c.__contains__=function(){var t=e.args("__getitem__",2,{self:null,key:null},["self","key"],arguments,{},null,null);return t.self.elt instanceof SVGElement?t.self.elt.hasAttributeNS(null,t.key):"function"==typeof t.self.elt.hasAttribute&&t.self.elt.hasAttribute(t.key)},c.__delitem__=function(){var r=e.args("__getitem__",2,{self:null,key:null},["self","key"],arguments,{},null,null);if(!c.__contains__(r.self,r.key))throw t.KeyError.$factory(r.key);return r.self.elt instanceof SVGElement?(r.self.elt.removeAttributeNS(null,r.key),t.None):"function"==typeof r.self.elt.hasAttribute?(r.self.elt.removeAttribute(r.key),t.None):void 0},c.__getitem__=function(){var r=e.args("__getitem__",2,{self:null,key:null},["self","key"],arguments,{},null,null);if(r.self.elt instanceof SVGElement&&r.self.elt.hasAttributeNS(null,r.key))return r.self.elt.getAttributeNS(null,r.key);if("function"==typeof r.self.elt.hasAttribute&&r.self.elt.hasAttribute(r.key))return r.self.elt.getAttribute(r.key);throw t.KeyError.$factory(r.key)},c.__iter__=function(e){e.$counter=0;for(var t=e.elt.attributes,r=[],n=0;n<t.length;n++)r.push(t[n].name);return e.$items=r,e},c.__next__=function(){var r=e.args("__next__",1,{self:null},["self"],arguments,{},null,null);if(r.self.$counter<r.self.$items.length){var n=r.self.$items[r.self.$counter];return r.self.$counter++,n}throw t.StopIteration.$factory("")},c.__setitem__=function(){var r=e.args("__setitem__",3,{self:null,key:null,value:null},["self","key","value"],arguments,{},null,null);if(r.self.elt instanceof SVGElement&&"function"==typeof r.self.elt.setAttributeNS)return r.self.elt.setAttributeNS(null,r.key,t.str.$factory(r.value)),t.None;if("function"==typeof r.self.elt.setAttribute)return r.self.elt.setAttribute(r.key,t.str.$factory(r.value)),t.None;throw t.TypeError.$factory("Can't set attributes on element")},c.__repr__=c.__str__=function(e){for(var t=e.elt.attributes,r=[],n=0;n<t.length;n++)r.push(t[n].name+': "'+e.elt.getAttributeNS(null,t[n].name)+'"');return"{"+r.join(", ")+"}"},c.get=function(){var r=e.args("get",3,{self:null,key:null,deflt:null},["self","key","deflt"],arguments,{deflt:t.None},null,null);try{return c.__getitem__(r.self,r.key)}catch(e){if(e.__class__===t.KeyError)return r.deflt;throw e}},c.keys=function(){return c.__iter__.apply(null,arguments)},c.items=function(){for(var r=e.args("values",1,{self:null},["self"],arguments,{},null,null).self.elt.attributes,n=[],a=0;a<r.length;a++)n.push([r[a].name,r[a].value]);return t.list.__iter__(n)},c.values=function(){for(var r=e.args("values",1,{self:null},["self"],arguments,{},null,null).self.elt.attributes,n=[],a=0;a<r.length;a++)n.push(r[a].value);return t.list.__iter__(n)},e.set_func_names(c,"<dom>");var u=e.DOMEvent=e.make_class("DOMEvent",function(e){return u.__new__(u,e)});function f(e,t){var r=e.createSVGPoint();return r.x=t.x,r.y=t.y,r.matrixTransform(e.getScreenCTM().inverse())}u.__new__=function(e,t){var r=new Event(t);return r.__class__=u,void 0===r.preventDefault&&(r.preventDefault=function(){r.returnValue=!1}),void 0===r.stopPropagation&&(r.stopPropagation=function(){r.cancelBubble=!0}),r},u.__getattribute__=function(r,n){switch(n){case"__repr__":case"__str__":return function(){return"<DOMEvent object>"};case"x":return o(r).x;case"y":return o(r).y;case"data":return null!==r.dataTransfer?d.$factory(r.dataTransfer):e.$JS2Py(r.data);case"target":if(void 0!==r.target)return m.$factory(r.target);case"char":return String.fromCharCode(r.which);case"svgX":if(r.target instanceof SVGSVGElement)return Math.floor(f(r.target,o(r)).x);throw t.AttributeError.$factory("event target is not an SVG element");case"svgY":if(r.target instanceof SVGSVGElement)return Math.floor(f(r.target,o(r)).y);throw t.AttributeError.$factory("event target is not an SVG element")}var a=r[n];if(void 0!==a){if("function"==typeof a){var s=function(){for(var t=[],n=0;n<arguments.length;n++)t.push(e.pyobj2jsobj(arguments[n]));return a.apply(r,arguments)};return s.$infos={__name__:a.name,__qualname__:a.name},s}return e.$JS2Py(a)}throw e.attr_error(n,r)};var p=e.$DOMEvent=function(e){return e.__class__=u,e.$no_dict=!0,void 0===e.preventDefault&&(e.preventDefault=function(){e.returnValue=!1}),void 0===e.stopPropagation&&(e.stopPropagation=function(){e.cancelBubble=!0}),e};e.set_func_names(u,"browser");var d=e.make_class("Clipboard",function(t){return{__class__:d,__dict__:e.empty_dict(),data:t}});d.__getitem__=function(e,t){return e.data.getData(t)},d.__setitem__=function(e,t,r){e.data.setData(t,r)},e.set_func_names(d,"<dom>");var h=e.OpenFile={__class__:t.type,__mro__:[r],$infos:{__module__:"<pydom>",__name__:"OpenFile"},$is_class:!0};h.$factory=function(e,t,r){var n={__class__:$OpenFileDict,file:e,reader:new FileReader};return"r"===t?n.reader.readAsText(e,r):"rb"===t&&n.reader.readAsBinaryString(e),n},h.__getattr__=function(e,t){return void 0!==e["get_"+t]?e["get_"+t]:e.reader[t]},h.__setattr__=function(e,r,n){var a=e.reader;if("on"==r.substr(0,2)){a.addEventListener(r.substr(2),function(e){return n(p(e))})}else{if("set_"+r in a)return a["set_"+r](n);r in a?a[r]=n:t.setattr(a,r,n)}},e.set_func_names(h,"<dom>");var $={File:function(){},FileReader:function(){}};$.File.__class__=t.type,$.File.__str__=function(){return"<class 'File'>"},$.FileReader.__class__=t.type,$.FileReader.__str__=function(){return"<class 'FileReader'>"};var m=e.make_class("browser",function(e){return e});function b(e){for(var t=[],r=0;r<e.length;r++)t.push(m.$factory(e[r]));return t}m.__add__=function(r,n){var a=v.$factory();if(a.children=[r],pos=1,t.isinstance(n,v))a.children=a.children.concat(n.children);else if(t.isinstance(n,[t.str,t.int,t.float,t.list,t.dict,t.set,t.tuple]))a.children[pos++]=m.$factory(document.createTextNode(t.str.$factory(n)));else if(t.isinstance(n,m))a.children[pos++]=n;else try{a.children=a.children.concat(t.list.$factory(n))}catch(r){throw t.TypeError.$factory("can't add '"+e.class_name(n)+"' object to DOMNode instance")}return a},m.__bool__=function(e){return!0},m.__contains__=function(e,t){if(9==e.nodeType&&"string"==typeof t)return null!==document.getElementById(t);if(void 0!==e.length&&"function"==typeof e.item)for(var r=0,n=e.length;r<n;r++)if(e.item(r)===t)return!0;return!1},m.__del__=function(e){if(!e.parentNode)throw t.ValueError.$factory("can't delete "+t.str.$factory(e));e.parentNode.removeChild(e)},m.__delattr__=function(e,r){if(void 0===e[r])throw t.AttributeError.$factory(`cannot delete DOMNode attribute '${r}'`);return delete e[r],t.None},m.__delitem__=function(e,r){if(9==e.nodeType){var n=e.getElementById(r);if(!n)throw t.KeyError.$factory(r);n.parentNode.removeChild(n)}else e.parentNode.removeChild(e)},m.__dir__=function(e){var t=[];for(var r in e)"$"!=r.charAt(0)&&t.push(r);return t.sort(),t},m.__eq__=function(e,t){return e==t},m.__getattribute__=function(n,a){switch(a){case"attrs":return c.$factory(n);case"children":case"child_nodes":case"class_name":case"html":case"parent":case"text":return m[a](n);case"height":case"left":case"top":case"width":if("CANVAS"==n.tagName&&n[a])return n[a];if(n instanceof SVGElement)return n[a].baseVal.value;var o=window.getComputedStyle(n).getPropertyValue(a);if(void 0!==o){var i=Math.floor(parseFloat(o)+.5);return isNaN(i)?o:i}if(n.style[a])return parseInt(n.style[a]);throw t.AttributeError.$factory("style."+a+" is not set for "+t.str.$factory(n));case"x":case"y":if(!(n instanceof SVGElement)){var _=s(n);return"x"==a?_.left:_.top}case"clear":case"closest":return function(){return m[a].call(null,n,...arguments)};case"headers":if(9==n.nodeType){var l=new XMLHttpRequest;l.open("GET",document.location,!1),l.send(null);var u=l.getAllResponseHeaders();u=u.split("\r\n");for(var f=e.empty_dict(),p=0;p<u.length;p++){var d=u[p];if(0!=d.strip().length){_=d.search(":");f.__setitem__(d.substr(0,_),d.substr(_+1).lstrip())}}return f}break;case"location":a="location"}if("select"==a&&1==n.nodeType&&["INPUT","TEXTAREA"].indexOf(n.tagName.toUpperCase())>-1)return function(e){return void 0===e?(n.select(),t.None):m.select(n,e)};if("query"==a&&9==n.nodeType){f={__class__:g,_keys:[],_values:{}};var h=location.search.substr(1).split("&");if(""!=location.search)for(p=0;p<h.length;p++){_=h[p].search("=");var $=[h[p].substr(0,_),h[p].substr(_+1)],b=decodeURIComponent($[0]),y=decodeURIComponent($[1]);f._keys.indexOf(b)>-1?f._values[b].push(y):(f._keys.push(b),f._values[b]=[y])}return f}var v,x=n[a];if(void 0!==x&&n.__class__&&"browser.html"!=n.__class__.__module__&&"browser.svg"!=n.__class__.__module__&&!n.__class__.$webcomponent){var w=n.__class__.__bases__,B=!0;for(var k of w)if("browser.html"==k.__module__){B=!1;break}if(B)if(e.$getattr(n.__class__,a,t.None)!==t.None){var E=e.last(e.frames_stack).$lineno;console.info("Warning: line "+E+", "+n.tagName+" element has instance attribute '"+a+"' set. Attribute of class "+e.class_name(n)+" is ignored.")}}if(void 0===x){if(n.tagName){var N=customElements.get(n.tagName.toLowerCase());if(void 0!==N&&void 0!==N.$cls){var j=n.__class__;n.__class__=N.$cls;try{var f=t.object.__getattribute__(n,a);return n.__class__=j,f}catch(r){if(n.__class__=j,!e.is_exc(r,[t.AttributeError]))throw r}}}return r.__getattribute__(n,a)}if(void 0!==(f=x)){if(null===f)return t.None;if("function"==typeof f){if(f.$is_func)return f;var S=function(t,r){return function(){for(var n=[],a=0;a<arguments.length;a++){var s=arguments[a];if("function"==typeof s){if(s.$cache)var o=s.$cache;else{o=function(t){return function(){try{return t.apply(null,arguments)}catch(t){e.handle_error(t)}}}(s);s.$cache=o}n.push(o)}else n.push(e.pyobj2jsobj(s))}var i=t.apply(r,n);return e.$JS2Py(i)}}(f,n);return S.$infos={__name__:a,__qualname__:a},S.$is_func=!0,S.$python_function=f,S}return"style"==a?e.JSObj.$factory(n[a]):Array.isArray(f)?f:"number"==typeof(v=f)?Number.isSafeInteger(v)?v:Number.isInteger(v)?e.fast_long_int(BigInt(v+"")):e.fast_float(v):v}return r.__getattribute__(n,a)},m.__getitem__=function(e,r){if(9==e.nodeType){if("string"==typeof r.valueOf()){if(a=e.getElementById(r))return m.$factory(a);throw t.KeyError.$factory(r)}try{for(var n=e.getElementsByTagName(r.$infos.__name__),a=[],s=0;s<n.length;s++)a.push(m.$factory(n[s]));return a}catch(e){throw t.KeyError.$factory(t.str.$factory(r))}}else{if(("number"==typeof r||"boolean"==typeof r)&&"function"==typeof e.item){var o=t.int.$factory(r);if(o<0&&(o+=e.length),void 0===(a=m.$factory(e.item(o))))throw t.KeyError.$factory(r);return a}if("string"==typeof r&&e.attributes&&"function"==typeof e.attributes.getNamedItem){var i=e.attributes.getNamedItem(r);if(i)return i.value;throw t.KeyError.$factory(r)}}},m.__hash__=function(t){return void 0===t.__hashvalue__?t.__hashvalue__=e.$py_next_hash--:t.__hashvalue__},m.__iter__=function(t){if(void 0!==t.length&&"function"==typeof t.item)for(var r=[],n=0,a=t.length;n<a;n++)r.push(m.$factory(t.item(n)));else if(void 0!==t.childNodes)for(r=[],n=0,a=t.childNodes.length;n<a;n++)r.push(m.$factory(t.childNodes[n]));return e.$iter(r)},m.__le__=function(r,n){if(9==r.nodeType&&(r=r.body),t.isinstance(n,v))for(var a=0;a<n.children.length;a++)r.appendChild(n.children[a]);else if("string"==typeof n||"number"==typeof n){var s=document.createTextNode(n.toString());r.appendChild(s)}else if(n instanceof Node)r.appendChild(n);else try{t.list.$factory(n).forEach(function(e){m.__le__(r,e)})}catch(r){throw t.TypeError.$factory("can't add '"+e.class_name(n)+"' object to DOMNode instance")}return r},m.__len__=function(e){return e.length},m.__mul__=function(e,r){if(t.isinstance(r,t.int)&&r.valueOf()>0){for(var n=v.$factory(),a=n.children.length,s=0;s<r.valueOf();s++)n.children[a++]=m.clone(e)();return n}throw t.ValueError.$factory("can't multiply "+e.__class__+"by "+r)},m.__ne__=function(e,t){return!m.__eq__(e,t)},m.__next__=function(e){if(e.$counter++,e.$counter<e.childNodes.length)return m.$factory(e.childNodes[e.$counter]);throw t.StopIteration.$factory("StopIteration")},m.__radd__=function(e,t){var r=v.$factory(),n=m.$factory(document.createTextNode(t));return r.children=[n,e],r},m.__str__=m.__repr__=function(e){var t=e.attributes,r=[];if(void 0!==t){r=[];for(var n=0;n<t.length;n++)r.push(t[n].name+'="'+e.getAttributeNS(null,t[n].name)+'"')}var a=Object.getPrototypeOf(e);if(a){var s=a.constructor.name;if(void 0===s){var o=a.constructor.toString();s=o.substring(8,o.length-1)}return r.splice(0,0,s),"<"+r.join(" ")+">"}return"<DOMNode object type '"+l[e.nodeType]+"' name '"+e.nodeName+"'>"},m.__setattr__=function(r,n,s){if(!("on"==n.substr(0,2)&&n.length>2)){switch(n){case"left":case"top":case"width":case"height":if(t.isinstance(s,t.int)&&1==r.nodeType)return r.style[n]=s+"px",t.None;throw t.ValueError.$factory(n+" value should be an integer, not "+e.class_name(s))}if(void 0!==m["set_"+n])return m["set_"+n](r,s);function o(t){console.log(t);var r=e.last(e.frames_stack);if(e.debug>0){var n=r.__file__,a=r.$lineno;if(console.log("module",r[2],"line",a),e.file_cache.hasOwnProperty(n)){var s=e.file_cache[n];console.log(s.split("\n")[a-1])}}else console.log("module",r[2])}for(var i=Object.getPrototypeOf(r),_=0;i&&i!==Object.prototype&&_++<10;){var l=Object.getOwnPropertyDescriptors(i);if(!l||"function"!=typeof l.hasOwnProperty)break;if(l.hasOwnProperty(n)){l[n].writable||void 0!==l[n].set||o("Warning: property '"+n+"' is not writable. Use element.attrs['"+n+"'] instead.");break}i=Object.getPrototypeOf(i)}return r.style&&void 0!==r.style[n]&&o("Warning: '"+n+"' is a property of element.style"),r[n]=a(s),t.None}e.$bool(s)?m.bind(r,n.substr(2),s):m.unbind(r,n.substr(2))},m.__setitem__=function(e,t,r){"number"==typeof t?e.childNodes[t]=r:"string"==typeof t&&e.attributes&&(e instanceof SVGElement?e.setAttributeNS(null,t,r):"function"==typeof e.setAttribute&&e.setAttribute(t,r))},m.abs_left={__get__:function(e){return s(e).left},__set__:function(){throw t.AttributeError.$factory("'DOMNode' objectattribute 'abs_left' is read-only")}},m.abs_top={__get__:function(e){return s(e).top},__set__:function(){throw t.AttributeError.$factory("'DOMNode' objectattribute 'abs_top' is read-only")}},m.attach=m.__le__,m.bind=function(r,n){var a=e.args("bind",4,{self:null,event:null,func:null,options:null},["self","event","func","options"],arguments,{func:t.None,options:t.None},null,null),s=(r=a.self,n=a.event,a.func),o=a.options;if(s===t.None)return function(e){return m.bind(r,n,e)};var i,_=(i=s,function(t){try{return i(p(t))}catch(t){if(void 0!==t.__class__)e.handle_error(t);else try{e.$getattr(e.stderr,"write")(t)}catch(e){console.log(t)}}});return _.$infos=s.$infos,_.$attrs=s.$attrs||{},_.$func=s,"boolean"==typeof o?r.addEventListener(n,_,o):o.__class__===t.dict?r.addEventListener(n,_,t.dict.$to_obj(o)):o===t.None&&r.addEventListener(n,_,!1),r.$events=r.$events||{},r.$events[n]=r.$events[n]||[],r.$events[n].push([s,_]),r},m.children=function(e){var t=[];for(var r of(9==e.nodeType&&(e=e.body),e.children))t.push(m.$factory(r));return t},m.child_nodes=function(e){var t=[];for(child of(9==e.nodeType&&(e=e.body),e.childNodes))t.push(m.$factory(child));return t},m.clear=function(t){e.args("clear",1,{self:null},["self"],arguments,{},null,null);for(9==t.nodeType&&(t=t.body);t.firstChild;)t.removeChild(t.firstChild)},m.Class=function(e){return void 0!==e.className?e.className:t.None},m.class_name=function(e){return m.Class(e)},m.clone=function(e){var t=m.$factory(e.cloneNode(!0)),r=e.$events||{};for(var n in r){r[n].forEach(function(e){var r=e[0];m.bind(t,n,r)})}return t},m.closest=function(r,n){e.args("closest",2,{self:null,selector:null},["self","selector"],arguments,{},null,null);var a=r.closest(n);if(null===a)throw t.KeyError.$factory("no parent with selector "+n);return m.$factory(a)},m.bindings=function(r){var n=e.empty_dict();for(var a in r.$events)t.dict.$setitem(n,a,r.$events[a].map(e=>e[1]));return n},m.events=function(e,t){e.$events=e.$events||{};var r=e.$events[t]=e.$events[t]||[],n=[];return r.forEach(function(e){n.push(e[1])}),n},m.get=function(r){for(var n=[],a=1;a<arguments.length;a++)n.push(arguments[a]);var s=e.args("get",0,{},[],n,{},null,"kw"),o={};if(t.list.$factory(t.dict.items(s.kw)).forEach(function(e){o[e[0]]=e[1]}),void 0!==o.name){if(void 0===r.getElementsByName)throw t.TypeError.$factory("DOMNode object doesn't support selection by name");return b(r.getElementsByName(o.name))}if(void 0!==o.tag){if(void 0===r.getElementsByTagName)throw t.TypeError.$factory("DOMNode object doesn't support selection by tag name");return b(r.getElementsByTagName(o.tag))}if(void 0!==o.classname){if(void 0===r.getElementsByClassName)throw t.TypeError.$factory("DOMNode object doesn't support selection by class name");return b(r.getElementsByClassName(o.classname))}if(void 0!==o.id){if(void 0===r.getElementById)throw t.TypeError.$factory("DOMNode object doesn't support selection by id");var i=document.getElementById(o.id);return i?[m.$factory(i)]:[]}if(void 0!==o.selector){if(void 0===r.querySelectorAll)throw t.TypeError.$factory("DOMNode object doesn't support selection by selector");return b(r.querySelectorAll(o.selector))}return res},m.getContext=function(r){if(!("getContext"in r))throw t.AttributeError.$factory("object has no attribute 'getContext'");return function(t){return e.JSObj.$factory(r.getContext(t))}},m.getSelectionRange=function(e){if(void 0!==e.getSelectionRange)return e.getSelectionRange.apply(null,arguments)},m.html=function(e){var r=e.innerHTML;return void 0===r&&(r=9==e.nodeType&&e.body?e.body.innerHTML:t.None),r},m.index=function(e,t){var r;r=void 0===t?e.parentElement.childNodes:e.parentElement.querySelectorAll(t);for(var n=-1,a=0;a<r.length;a++)if(r[a]===e){n=a;break}return n},m.inside=function(e,t){for(var r=e;;){if(t===r)return!0;if(!(r=r.parentNode))return!1}},m.options=function(e){return new $OptionsClass(e)},m.parent=function(e){return e.parentElement?m.$factory(e.parentElement):t.None},m.reset=function(e){return function(){e.reset()}},m.scrolled_left={__get__:function(e){return s(e).left-document.scrollingElement.scrollLeft},__set__:function(){throw t.AttributeError.$factory("'DOMNode' objectattribute 'scrolled_left' is read-only")}},m.scrolled_top={__get__:function(e){return s(e).top-document.scrollingElement.scrollTop},__set__:function(){throw t.AttributeError.$factory("'DOMNode' objectattribute 'scrolled_top' is read-only")}},m.select=function(e,r){if(void 0===e.querySelectorAll)throw t.TypeError.$factory("DOMNode object doesn't support selection by selector");return b(e.querySelectorAll(r))},m.select_one=function(e,r){if(void 0===e.querySelector)throw t.TypeError.$factory("DOMNode object doesn't support selection by selector");var n=e.querySelector(r);return null===n?t.None:m.$factory(n)},m.setSelectionRange=function(e){return void 0!==this.setSelectionRange?(t=this,function(){return t.setSelectionRange.apply(t,arguments)}):void 0!==this.createTextRange?function(e){return function(t,r){null==r&&(r=t);var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",r),n.select()}}(this):void 0;var t},m.set_class_name=function(e,t){e.setAttribute("class",t)},m.set_html=function(e,r){9==e.nodeType&&(e=e.body),e.innerHTML=t.str.$factory(r)},m.set_style=function(r,n){if("string"==typeof n)r.style=n;else if(!t.isinstance(n,t.dict))throw t.TypeError.$factory("style must be str or dict, not "+e.class_name(n));for(var a=t.list.$factory(t.dict.items(n)),s=0;s<a.length;s++){var o=a[s][0],i=a[s][1];if("float"==o.toLowerCase())r.style.cssFloat=i,r.style.styleFloat=i;else{switch(o){case"top":case"left":case"width":case"height":case"borderWidth":t.isinstance(i,t.int)&&(i+="px")}r.style[o]=i}}},m.set_text=function(e,r){9==e.nodeType&&(e=e.body),e.innerText=t.str.$factory(r),e.textContent=t.str.$factory(r)},m.set_value=function(e,r){e.value=t.str.$factory(r)},m.submit=function(e){return function(){e.submit()}},m.text=function(e){9==e.nodeType&&(e=e.body);var r=e.innerText||e.textContent;return null===r&&(r=t.None),r},m.toString=function(e){return void 0===e?"DOMNode":e.nodeName},m.trigger=function(e,t){if(e.fireEvent)e.fireEvent("on"+t);else{var r=document.createEvent("Events");r.initEvent(t,!0,!1),e.dispatchEvent(r)}},m.unbind=function(r,n){if(r.$events=r.$events||{},r.$events==={})return t.None;if(void 0===n){for(var n in r.$events)m.unbind(r,n);return t.None}if(void 0===r.$events[n]||0==r.$events[n].length)return t.None;var a=r.$events[n];if(2==arguments.length){for(var s=0;s<a.length;s++){var o=a[s][1];r.removeEventListener(n,o,!1)}return r.$events[n]=[],t.None}for(s=2;s<arguments.length;s++){var i=!1;if(void 0===(c=(o=arguments[s]).$func)){for(var _=!1,l=0;l<a.length;l++)if(a[l][0]===o){var c=o;_=!0;break}if(!_)throw t.TypeError.$factory("function is not an event callback")}for(l=0;l<a.length;l++)if(e.$getattr(c,"__eq__")(a[l][0])){o=a[l][1];r.removeEventListener(n,o,!1),a.splice(l,1),i=!0;break}if(!i)throw t.KeyError.$factory("missing callback for event "+n)}},e.set_func_names(m,"browser");var g=e.make_class("query");g.__contains__=function(e,t){return e._keys.indexOf(t)>-1},g.__getitem__=function(e,r){var n=e._values[r];if(void 0===n)throw t.KeyError.$factory(r);return 1==n.length?n[0]:n};var y=e.make_iterator_class("query string iterator");g.__iter__=function(e){return y.$factory(e._keys)},g.__setitem__=function(e,r,n){return e._values[r]=[n],t.None},g.__str__=g.__repr__=function(e){var t=[];for(var r in e._values)for(const n of e._values[r])t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return 0==t.length?"":"?"+t.join("&")},g.getfirst=function(e,r,n){var a=e._values[r];return void 0===a?void 0===n?t.None:n:a[0]},g.getlist=function(e,t){var r=e._values[t];return void 0===r?[]:r},g.getvalue=function(e,r,n){try{return g.__getitem__(e,r)}catch(e){return void 0===n?t.None:n}},g.keys=function(e){return e._keys},e.set_func_names(g,"<dom>");var v=e.make_class("TagSum",function(){return{__class__:v,children:[],toString:function(){return"(TagSum)"}}});v.appendChild=function(e,t){e.children.push(t)},v.__add__=function(r,n){return e.get_class(n)===v?r.children=r.children.concat(n.children):t.isinstance(n,[t.str,t.int,t.float,t.dict,t.set,t.list])?r.children=r.children.concat(m.$factory(document.createTextNode(n))):r.children.push(n),r},v.__radd__=function(e,t){var r=v.$factory();return r.children=e.children.concat(m.$factory(document.createTextNode(t))),r},v.__repr__=function(e){for(var t="<object TagSum> ",r=0;r<e.children.length;r++)t+=e.children[r],"[object Text]"==e.children[r].toString()&&(t+=" ["+e.children[r].textContent+"]\n");return t},v.__str__=v.toString=v.__repr__,v.clone=function(e){for(var t=v.$factory(),r=0;r<e.children.length;r++)t.children.push(e.children[r].cloneNode(!0));return t},e.set_func_names(v,"<dom>"),e.TagSum=v;var x=e.JSObj.$factory(n);x.get_postMessage=function(e,r){if(t.isinstance(e,dict)){var a={__class__:"dict"};t.list.$factory(t.dict.items(e)).forEach(function(e){a[e[0]]=e[1]}),e=a}return n.postMessage(e,r)},e.DOMNode=m,e.win=x}(__BRYTHON__),$B.pattern_match=function(e,t){var r=$B.builtins,n=$B.last($B.frames_stack)[1];function a(e,t){e.alias&&(n[e.alias]=t)}if(t.sequence){if(r.isinstance(e,[r.str,r.bytes,r.bytearray]))return!1;var s,o;$B.imported["collections.abc"]&&(s=$B.imported["collections.abc"].Sequence),$B.imported.collections&&(o=$B.imported.collections.deque);var i=!1,_=e.__class__||$B.get_class(e);for(var l of[_].concat(_.__bases__||[])){if(l.$match_sequence_pattern){i=!0;break}if(l===s||l==o){i=!0;break}}if(!i&&s&&(i=r.issubclass(_,s)),!i)return!1;if(1==t.sequence.length&&"_"==t.sequence[0].capture_starred)return!0;var c=r.len(e),u=0;for(var f of t.sequence)f.capture_starred||u++;if(c<u)return!1;if(0==c&&0==t.sequence.length)return!0;for(var p=r.iter(e),d=$B.$getattr(p,"__next__"),h=[],$=0,m=0,b=t.sequence.length;m<b;m++)if(t.sequence[m].capture_starred){if("_"==t.sequence[m].capture_starred&&m==b-1)return a(t,e),!0;for(var g=c-$-b+m+1,y=0;y<g;y++)h.push(d());n[t.sequence[m].capture_starred]=h,$+=g}else{var v=d();if(!$B.pattern_match(v,t.sequence[m]))return!1;$++}return $==c&&(a(t,e),!0)}if(t.group){if(1!=t.group.length)return t.sequence=t.group,$B.pattern_match(e,t);if($B.pattern_match(e,t.group[0]))return a(t,e),!0}if(t.or){for(var f of t.or)if($B.pattern_match(e,f))return a(t,e),!0;return!1}if(t.mapping){var x;i=!1;$B.imported["collections.abc"]&&(x=$B.imported["collections.abc"].Mapping);_=e.__class__||$B.get_class(e);for(var l of[_].concat(_.__bases__||[]))if(l.$match_mapping_pattern||l===x){i=!0;break}if(!i&&x&&(i=r.issubclass(_,x)),!i)return!1;var w=[],B=[];for(var f of t.mapping){var k=f[0],E=f[1];if(k.hasOwnProperty("literal"))var N=k.literal;else if(k.hasOwnProperty("value"))N=k.value;if(r.list.__contains__(B,N))throw r.ValueError.$factory("mapping pattern checks duplicate key ("+r.str.$factory(N)+")");B.push(N);var j=$B.make_class("missing",function(){return{__class__:j}});try{if((O=$B.$call($B.$getattr(e,"get"))(N,j))===j)return!1;if(!$B.pattern_match(O,E))return!1;w.push(N)}catch(e){if($B.is_exc(e,[r.KeyError]))return!1;throw e}}if(t.rest){var S=$B.empty_dict();for(p=r.iter(e);;){try{var C=r.next(p)}catch(e){if($B.is_exc(e,[r.StopIteration]))return n[t.rest]=S,!0;throw e}r.list.__contains__(w,C)||r.dict.__setitem__(S,C,$B.$getitem(e,C))}}return!0}if(t.class){_=t.class;if(!r.isinstance(_,r.type))throw r.TypeError.$factory("called match pattern must be a type");if(!r.isinstance(e,_))return!1;if(t.args.length>0){if([r.bool,r.bytearray,r.bytes,r.dict,r.float,r.frozenset,r.int,r.list,r.set,r.str,r.tuple].indexOf(_)>-1){if(t.args.length>1)throw r.TypeError.$factory("for builtin type "+$B.class_name(e)+", a single positional subpattern is accepted");return $B.pattern_match(e,t.args[0])}var I=$B.$getattr(_,"__match_args__",$B.fast_tuple([]));if(!r.isinstance(I,r.tuple))throw r.TypeError.$factory("__match_args__() did not return a tuple");if(t.args.length>I.length)throw r.TypeError.$factory("__match_args__() returns "+I.length+" names but "+t.args.length+" positional arguments were passed");for(m=0,b=t.args.length;m<b;m++){var T=t.args[m],A=I[m];if("string"!=typeof A)throw r.TypeError.$factory("item in __match_args__ is not a string: "+A);if(t.keywords.hasOwnProperty(A))throw r.TypeError.$factory("__match_arg__ item "+A+" was passed as keyword pattern");t.keywords[A]=T}}for(var N in t.keywords){var O;if(null===(O=$B.$getattr(e,N,null)))return!1;if(!$B.pattern_match(O,t.keywords[N]))return!1}return a(t,e),!0}if(t.capture)return"_"!=t.capture&&(n[t.capture]=e),a(t,e),!0;if(t.capture_starred)return n[t.capture_starred]=$B.$list(e),!0;if(t.hasOwnProperty("literal")){var L=t.literal;return L===r.None||L===r.True||L===r.False?$B.$is(e,L):!!$B.rich_comp("__eq__",e,L)&&(a(t,e),!0)}if(t.hasOwnProperty("value")){if($B.rich_comp("__eq__",e,t.value))return a(t,e),!0}else if(e==t)return!0;return!1},function($B){var _b_=$B.builtins,update=$B.update_obj=function(e,t){for(attr in t)e[attr]=t[attr]},_window=self,modules={},browser={$package:!0,$is_package:!0,__initialized__:!0,__package__:"browser",__file__:$B.brython_path.replace(/\/*$/g,"")+"/Lib/browser/__init__.py",bind:function(){var e=$B.args("bind",3,{elt:null,evt:null,options:null},["elt","evt","options"],arguments,{options:_b_.None},null,null),t=e.options;return"boolean"==typeof t||t.__class__===_b_.dict&&(t=t.$string_dict),function(r){if($B.get_class(e.elt)===$B.JSObj){return e.elt.addEventListener(e.evt,function(e){try{return r($B.JSObj.$factory(e))}catch(e){$B.handle_error(e)}},t),r}if(_b_.isinstance(e.elt,$B.DOMNode))return $B.DOMNode.bind(e.elt,e.evt,r,t),r;if(_b_.isinstance(e.elt,_b_.str)){for(var n=document.querySelectorAll(e.elt),a=0;a<n.length;a++)$B.DOMNode.bind($B.DOMNode.$factory(n[a]),e.evt,r,t);return r}try{for(var s=$B.$iter(e.elt);;)try{var o=_b_.next(s);$B.DOMNode.bind(o,e.evt,r)}catch(e){if(_b_.isinstance(e,_b_.StopIteration))break;throw e}}catch(t){throw _b_.isinstance(t,_b_.AttributeError)&&$B.DOMNode.bind(e.elt,e.evt,r),t}return r}},console:self.console&&$B.JSObj.$factory(self.console),self:$B.win,win:$B.win,window:$B.win};browser.__path__=browser.__file__,$B.isNode?(delete browser.window,delete browser.win):$B.isWebWorker?(browser.is_webworker=!0,delete browser.window,delete browser.win,browser.self.send=self.postMessage,browser.document=_b_.property.$factory(function(){throw _b_.ValueError.$factory("'document' is not available in Web Workers")},function(e,t){browser.document=t})):(browser.is_webworker=!1,update(browser,{alert:function(e){window.alert($B.builtins.str.$factory(e||""))},confirm:$B.JSObj.$factory(window.confirm),document:$B.DOMNode.$factory(document),doc:$B.DOMNode.$factory(document),DOMEvent:$B.DOMEvent,DOMNode:$B.DOMNode,load:function(script_url){var file_obj=$B.builtins.open(script_url),content=$B.$getattr(file_obj,"read")();eval(content)},mouseCoords:function(e){return $B.JSObj.$factory($mouseCoords(e))},prompt:function(e,t){return $B.JSObj.$factory(window.prompt(e,t||""))},reload:function(){var e=document.getElementsByTagName("script"),t=[];for(var r in e.forEach(function(e){void 0!==e.type&&"text/javascript"!=e.type||(t.push(e),e.src&&console.log(e.src))}),$B.imported)$B.imported[r].$last_modified?console.log("check",r,$B.imported[r].__file__,$B.imported[r].$last_modified):console.log("no date for mod",r)},run_script:function(){var e=$B.args("run_script",2,{src:null,name:null},["src","name"],arguments,{name:"script_"+$B.UUID()},null,null);$B.run_script(e.src,e.name,$B.script_path,!0)},URLParameter:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return t=null===t?"":decodeURIComponent(t[1].replace(/\+/g," ")),$B.builtins.str.$factory(t)}}),modules["browser.html"]=function($B){var _b_=$B.builtins,TagSum=$B.TagSum;function makeTagDict(tagName){var dict={__class__:_b_.type,$infos:{__name__:tagName,__module__:"browser.html",__qualname__:tagName},__init__:function(){var $ns=$B.args("pow",1,{self:null},["self"],arguments,{},"args","kw"),self=$ns.self,args=$ns.args;if(1==args.length){var first=args[0];if(_b_.isinstance(first,[_b_.str,_b_.int,_b_.float]))self.innerHTML=_b_.str.$factory(first);else if(first.__class__===TagSum)for(var i=0,len=first.children.length;i<len;i++)self.appendChild(first.children[i]);else if(_b_.isinstance(first,$B.DOMNode))self.appendChild(first);else try{var items=_b_.list.$factory(first);items.forEach(function(e){$B.DOMNode.__le__(self,e)})}catch(e){throw $B.debug>1&&(console.log(e,e.__class__,e.args),console.log("first",first),console.log(arguments)),e}}for(var items=_b_.list.$factory(_b_.dict.items($ns.kw)),i=0,len=items.length;i<len;i++){var arg=items[i][0],value=items[i][1];if("on"==arg.toLowerCase().substr(0,2)){var js='$B.DOMNode.bind(self,"'+arg.toLowerCase().substr(2);eval(js+'",function(){'+value+"})")}else if("style"==arg.toLowerCase())$B.DOMNode.set_style(self,value);else if(!1!==value)try{arg=$B.imported["browser.html"].attribute_mapper(arg),self.setAttribute(arg,value)}catch(e){throw _b_.ValueError.$factory("can't set attribute "+arg)}}}};return dict.__mro__=[$B.DOMNode,$B.builtins.object],dict.__new__=function(e){var t=document.createElement(tagName);return e!==html[tagName]&&(t.__class__=e),t},$B.set_func_names(dict,"browser.html"),dict}function makeFactory(e){return function(){if("SVG"==e.$infos.__name__)var t=$B.DOMNode.$factory(document.createElementNS("http://www.w3.org/2000/svg","svg"),!0);else t=document.createElement(e.$infos.__name__);var r=$B.$getattr(e,"__init__",null);return null!==r&&r(t,...arguments),t}}var tags=["A","ABBR","ACRONYM","ADDRESS","APPLET","AREA","B","BASE","BASEFONT","BDO","BIG","BLOCKQUOTE","BODY","BR","BUTTON","CAPTION","CENTER","CITE","CODE","COL","COLGROUP","DD","DEL","DFN","DIR","DIV","DL","DT","EM","FIELDSET","FONT","FORM","FRAME","FRAMESET","H1","H2","H3","H4","H5","H6","HEAD","HR","HTML","I","IFRAME","IMG","INPUT","INS","ISINDEX","KBD","LABEL","LEGEND","LI","LINK","MAP","MENU","META","NOFRAMES","NOSCRIPT","OBJECT","OL","OPTGROUP","OPTION","P","PARAM","PRE","Q","S","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRIKE","STRONG","STYLE","SUB","SUP","SVG","TABLE","TBODY","TD","TEXTAREA","TFOOT","TH","THEAD","TITLE","TR","TT","U","UL","VAR","ARTICLE","ASIDE","AUDIO","BDI","CANVAS","COMMAND","DATA","DATALIST","EMBED","FIGCAPTION","FIGURE","FOOTER","HEADER","KEYGEN","MAIN","MARK","MATH","METER","NAV","OUTPUT","PROGRESS","RB","RP","RT","RTC","RUBY","SECTION","SOURCE","TEMPLATE","TIME","TRACK","VIDEO","WBR","DETAILS","DIALOG","MENUITEM","PICTURE","SUMMARY"],html={};function maketag(e){if("string"!=typeof e)throw _b_.TypeError.$factory("html.maketag expects a string as argument");if(void 0!==html[e])throw _b_.ValueError.$factory("cannot reset class for "+e);var t=makeTagDict(e);return t.$factory=makeFactory(t),html[e]=t,t}for(var tagName of(html.tags=$B.jsobj_as_pydict.$factory(html,function(e){return-1==tags.indexOf(e)}),tags))maketag(tagName);return html.maketag=maketag,html.attribute_mapper=function(e){return e.replace(/_/g,"-")},html}(__BRYTHON__)),modules.browser=browser,$B.UndefinedType=$B.make_class("UndefinedType",function(){return $B.Undefined}),$B.UndefinedType.__mro__=[_b_.object],$B.UndefinedType.__bool__=function(e){return!1},$B.UndefinedType.__repr__=function(e){return"<Javascript undefined>"},$B.UndefinedType.__str__=$B.UndefinedType.__repr__,$B.Undefined={__class__:$B.UndefinedType},$B.set_func_names($B.UndefinedType,"javascript");var super_class=$B.make_class("JavascriptSuper",function(){var e=_b_.super.$factory().__self_class__,t=Object.getPrototypeOf(e).constructor.$parent;return{__class__:super_class,__init__:function(){var r,n=t.bind(e);for(key in r=t.toString().startsWith("class")?new n(...arguments):n(...arguments))e[key]=r[key];return r},__self_class__:e}});super_class.__getattribute__=function(e,t){return"__init__"==t||"__call__"==t?e.__init__:$B.$getattr(e.__self_class__,t)},$B.set_func_names(super_class,"javascript"),modules.javascript={this:function(){return void 0===$B.js_this?$B.builtins.None:$B.JSObj.$factory($B.js_this)},Date:self.Date&&$B.JSObj.$factory(self.Date),extends:function(e){return function(t){if(t.$is_class){var r=function(){var e=$B.$getattr(t,"__init__",_b_.None);return e!==_b_.None&&e.bind(this,this).apply(this,arguments),this};for(var n in(r.prototype=Object.create(e.prototype)).constructor=r,r.$parent=e.$js_func,r.$is_class=!0,r.$infos=t.$infos,t)"function"==typeof t[n]&&(r.prototype[n]=function(e){return function(){return t[e].bind(this,this).apply(this,arguments)}}(n));return r}}},import_js:function(url,name){var $=$B.args("import_js",2,{url:null,alias:null},["url","alias"],arguments,{alias:_b_.None},null,null),url=$.url;alias=$.alias;var xhr=new XMLHttpRequest,result;if(xhr.open("GET",url,!1),xhr.onreadystatechange=function(){if(4==this.readyState)if(200==this.status)if(eval(this.responseText),"undefined"!=typeof $module){for(var key in result=$B.module.$factory(name),$module)result[key]=$B.jsobj2pyobj($module[key]);result.__file__=url}else result=_b_.ImportError.$factory(`Javascript module at ${url} doesn't define $module`);else result=_b_.ModuleNotFoundError.$factory(name)},xhr.send(),_b_.isinstance(result,_b_.BaseException))$B.handle_error(result);else{alias===_b_.None&&(alias=url.split("."),alias.length>1&&alias.pop(),alias=alias.join(".")),$B.imported[alias]=result;var frame=$B.last($B.frames_stack);frame[1][alias]=result}},JSObject:$B.JSObj,JSON:{__class__:$B.make_class("JSON"),parse:function(){return $B.structuredclone2pyobj(JSON.parse.apply(this,arguments))},stringify:function(e,t,r){return JSON.stringify($B.pyobj2structuredclone(e,!1),$B.JSObj.$factory(t),r)}},jsobj2pyobj:function(e){return $B.jsobj2pyobj(e)},load:function(script_url){console.log('"javascript.load" is deprecrated. Use browser.load instead.');var file_obj=$B.builtins.open(script_url),content=$B.$getattr(file_obj,"read")();eval(content)},Math:self.Math&&$B.JSObj.$factory(self.Math),NULL:null,NullType:$B.make_class("NullType"),Number:self.Number&&$B.JSObj.$factory(self.Number),py2js:function(e,t){void 0===t&&(t="__main__"+$B.UUID());var r=$B.py2js({src:e,filename:"<string>"},t,t,$B.builtins_scope).to_js();return $B.format_indent(r,0)},pyobj2jsobj:function(e){return $B.pyobj2jsobj(e)},RegExp:self.RegExp&&$B.JSObj.$factory(self.RegExp),String:self.String&&$B.JSObj.$factory(self.String),super:super_class,UNDEFINED:$B.Undefined,UndefinedType:$B.UndefinedType},modules.javascript.NullType.$infos.__module__="javascript",modules.javascript.UndefinedType.$infos.__module__="javascript";var arraybuffers=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];arraybuffers.forEach(function(e){void 0!==self[e]&&(modules.javascript[e]=$B.JSObj.$factory(self[e]))});var _b_=$B.builtins;modules._sys={Getframe:function(){var e=$B.args("_getframe",1,{depth:null},["depth"],arguments,{depth:0},null,null).depth,t=$B.frames_stack[$B.frames_stack.length-e-1];return t.$pos=$B.frames_stack.indexOf(t),t},breakpointhook:function(){var e,t,r,n,a=$B.$options.breakpoint;void 0===a&&(a="pdb.set_trace"),[e,t,r]=_b_.str.rpartition(a,"."),""==t&&(e="builtins");try{$B.$import(e),n=$B.$getattr($B.imported[e],r)}catch(e){return console.warn("cannot import breakpoint",a),_b_.None}return $B.$call(n).apply(null,arguments)},exc_info:function(){for(var e=$B.frames_stack.length-1;e>=0;e--){var t=$B.frames_stack[e][1].$current_exception;if(t)return _b_.tuple.$factory([t.__class__,t,$B.$getattr(t,"__traceback__")])}return _b_.tuple.$factory([_b_.None,_b_.None,_b_.None])},excepthook:function(e,t,r){$B.handle_error(t)},gettrace:function(){return $B.tracefunc||_b_.None},max_string_length:$B.max_string_length,modules:_b_.property.$factory(function(){return $B.obj_dict($B.imported)},function(e,t){throw _b_.TypeError.$factory("Read only property 'sys.modules'")}),path:_b_.property.$factory(function(){return $B.path},function(e,t){$B.path=t}),meta_path:_b_.property.$factory(function(){return $B.meta_path},function(e,t){$B.meta_path=t}),path_hooks:_b_.property.$factory(function(){return $B.path_hooks},function(e,t){$B.path_hooks=t}),path_importer_cache:_b_.property.$factory(function(){return _b_.dict.$factory($B.JSObj.$factory($B.path_importer_cache))},function(e,t){throw _b_.TypeError.$factory("Read only property 'sys.path_importer_cache'")}),settrace:function(){var e=$B.args("settrace",1,{tracefunc:null},["tracefunc"],arguments,{},null,null);return $B.tracefunc=e.tracefunc,$B.last($B.frames_stack)[1].$f_trace=$B.tracefunc,$B.tracefunc.$current_frame_id=$B.last($B.frames_stack)[0],_b_.None},stderr:_b_.property.$factory(function(){return $B.stderr},function(e,t){$B.stderr=t}),stdout:_b_.property.$factory(function(){return $B.stdout},function(e,t){$B.stdout=t}),stdin:_b_.property.$factory(function(){return $B.stdin},function(e,t){$B.stdin=t}),vfs:_b_.property.$factory(function(){return $B.hasOwnProperty("VFS")?$B.obj_dict($B.VFS):_b_.None},function(){throw _b_.TypeError.$factory("Read only property 'sys.vfs'")})},modules._sys.__breakpointhook__=modules._sys.breakpointhook;var WarningMessage=$B.make_class("WarningMessage",function(){var e=$B.make_args("WarningMessage",8,{message:null,category:null,filename:null,lineno:null,file:null,line:null,source:null},["message","category","filename","lineno","file","line","source"],arguments,{file:_b_.None,line:_b_.None,source:_b_.None},null,null);return{__class__:WarningMessage,message:e.message,category:e.category,filename:e.filename,lineno:e.lineno,file:e.file,line:e.line,source:e.source,_category_name:_b_.bool.$factory(e.category)?$B.$getattr(e.category,"__name__"):_b_.None}});function load(e,t){for(var r in t.__class__=$B.module,t.__name__=e,$B.imported[e]=t,t)"function"==typeof t[r]&&(t[r].$infos={__module__:e,__name__:r,__qualname__:e+"."+r})}for(var attr in modules._warnings={_defaultaction:"default",_filters_mutated:function(){},_onceregistry:$B.empty_dict(),filters:[$B.fast_tuple(["default",_b_.None,_b_.DeprecationWarning,"__main__",0]),$B.fast_tuple(["ignore",_b_.None,_b_.DeprecationWarning,_b_.None,0]),$B.fast_tuple(["ignore",_b_.None,_b_.PendingDeprecationWarning,_b_.None,0]),$B.fast_tuple(["ignore",_b_.None,_b_.ImportWarning,_b_.None,0]),$B.fast_tuple(["ignore",_b_.None,_b_.ResourceWarning,_b_.None,0])],warn:function(e){if("error"==($B.imported.warnings?$B.imported.warnings.filters:modules._warnings.filters)[0][0]){var t=_b_.SyntaxError.$factory(e.args[0]);throw t.args[1]=[e.filename,e.lineno,e.offset,e.line],t.filename=e.filename,t.lineno=e.lineno,t.offset=e.offset,t.line=e.line,t}var r=$B.imported._sys.Getframe(),n=$B._frame.f_code.__get__(r),a=r.$lineno,s=e.__class__||$B.get_class(e),o={__class__:WarningMessage,message:e,category:s,filename:e.filename||n.co_filename,lineno:e.lineno||a,file:_b_.None,line:_b_.None,source:_b_.None,_category_name:s.__name__};if($B.imported.warnings)$B.imported.warnings._showwarnmsg_impl(o);else{var i=(r=$B.last($B.frames_stack)).__file__,_=(a=r.$lineno,$B.file_cache[i]),l="";if(i&&a&&(l+=`${i}:${a}: `),l+=$B.class_name(e)+": "+e.args[0],_&&r.$lineno)l+="\n    "+_.split("\n")[r.$lineno-1].trim();$B.$getattr($B.stderr,"write")(l+"\n");var c=$B.$getattr($B.stderr,"flush",_b_.None);c!==_b_.None&&c()}},warn_explicit:function(){console.log("warn_explicit",arguments)}},modules)load(attr,modules[attr]);$B.isWebWorker||$B.isNode||(modules.browser.html=modules["browser.html"]);var _b_=$B.builtins;for(var attr in _b_.__builtins__=$B.module.$factory("__builtins__","Python builtins"),_b_)_b_.__builtins__[attr]=_b_[attr],$B.builtins_scope.binding[attr]=!0,_b_[attr].$is_class&&(_b_[attr].__bases__?_b_[attr].__bases__.__class__=_b_.tuple:_b_[attr].__bases__=$B.fast_tuple([_b_.object]));for(var name in _b_.__builtins__.__setattr__=function(e,t){_b_[e]=t},$B.method_descriptor.__getattribute__=$B.Function.__getattribute__,$B.wrapper_descriptor.__getattribute__=$B.Function.__getattribute__,_b_)if(_b_[name].__class__===_b_.type)for(var key in $B.builtin_classes.push(_b_[name]),_b_[name]){var value=_b_[name][key];void 0!==value&&(value.__class__||"function"==typeof value&&("__new__"==key?value.__class__=$B.builtin_function:key.startsWith("__")?value.__class__=$B.wrapper_descriptor:value.__class__=$B.method_descriptor,value.__objclass__=_b_[name]))}for(var attr in $B)Array.isArray($B[attr])&&($B[attr].__class__=_b_.list);$B.cell=$B.make_class("cell",function(e){return{__class__:$B.cell,$cell_contents:e}}),$B.cell.cell_contents=$B.$call(_b_.property)(function(e){if(null===e.$cell_contents)throw _b_.ValueError.$factory("empty cell");return e.$cell_contents},function(e,t){e.$cell_contents=t});var $comps=Object.values($B.$comps).concat(["eq","ne"]);$comps.forEach(function(e){var t="__"+e+"__";$B.cell[t]=function(e){return function(t,r){return _b_.isinstance(r,$B.cell)?null===t.$cell_contents?null===r.$cell_contents?"__eq__"==e:["__ne__","__lt__","__le__"].indexOf(e)>-1:null===r.$cell_contents?["__ne__","__gt__","__ge__"].indexOf(e)>-1:$B.rich_comp(e,t.$cell_contents,r.$cell_contents):_b_.NotImplemented}}(t)}),$B.set_func_names($B.cell,"builtins"),$B.AST={__class__:_b_.type,__mro__:[_b_.object],$infos:{__qualname__:"AST",__name__:"AST"},$is_class:!0,$convert:function(e){if(void 0===e)return _b_.None;var t=e.constructor;if(t&&t.$name)return $B.create_python_ast_classes(),$B.python_ast_classes[t.$name].$factory(e);if(Array.isArray(e))return e.map($B.AST.$convert);if(!e.type)return["string","number"].indexOf(typeof e)>-1?e:e.$name?e.$name+"()":([_b_.None,_b_.True,_b_.False].indexOf(e)>-1||e.__class__||console.log("cannot handle",e),e);switch(e.type){case"int":var r;return(r=parseInt(e.value[1],e.value[0]))<$B.min_int||r>$B.max_int?r=$B.fast_long_int(BigInt(r)):"-"==e.sign?-r:r;case"float":return new Number(e.value);case"imaginary":return $B.make_complex(0,$B.AST.$convert(e.value));case"ellipsis":return _b_.Ellipsis;case"str":return e.is_bytes?_b_.bytes.$factory(e.value,"latin-1"):e.value;case"id":if(["False","None","True"].indexOf(e.value)>-1)return _b_[e.value]}}}}(__BRYTHON__);var docs={ArithmeticError:"Base class for arithmetic errors.",AssertionError:"Assertion failed.",AttributeError:"Attribute not found.",BaseException:"Common base class for all exceptions",BlockingIOError:"I/O operation would block.",BrokenPipeError:"Broken pipe.",BufferError:"Buffer error.",BytesWarning:"Base class for warnings about bytes and buffer related problems, mostly\nrelated to conversion from str or comparing to str.",ChildProcessError:"Child process error.",ConnectionAbortedError:"Connection aborted.",ConnectionError:"Connection error.",ConnectionRefusedError:"Connection refused.",ConnectionResetError:"Connection reset.",DeprecationWarning:"Base class for warnings about deprecated features.",EOFError:"Read beyond end of file.",Ellipsis:"",EncodingWarning:"Base class for warnings about encodings.",EnvironmentError:"Base class for I/O related errors.",Exception:"Common base class for all non-exit exceptions.",False:"bool(x) -> bool\n\nReturns True when the argument x is true, False otherwise.\nThe builtins True and False are the only two instances of the class bool.\nThe class bool is a subclass of the class int, and cannot be subclassed.",FileExistsError:"File already exists.",FileNotFoundError:"File not found.",FloatingPointError:"Floating point operation failed.",FutureWarning:"Base class for warnings about constructs that will change semantically\nin the future.",GeneratorExit:"Request that a generator exit.",IOError:"Base class for I/O related errors.",ImportError:"Import can't find module, or can't find name in module.",ImportWarning:"Base class for warnings about probable mistakes in module imports",IndentationError:"Improper indentation.",IndexError:"Sequence index out of range.",InterruptedError:"Interrupted by signal.",IsADirectoryError:"Operation doesn't work on directories.",KeyError:"Mapping key not found.",KeyboardInterrupt:"Program interrupted by user.",LookupError:"Base class for lookup errors.",MemoryError:"Out of memory.",ModuleNotFoundError:"Module not found.",NameError:"Name not found globally.",None:"",NotADirectoryError:"Operation only works on directories.",NotImplemented:"",NotImplementedError:"Method or function hasn't been implemented yet.",OSError:"Base class for I/O related errors.",OverflowError:"Result too large to be represented.",PendingDeprecationWarning:"Base class for warnings about features which will be deprecated\nin the future.",PermissionError:"Not enough permissions.",ProcessLookupError:"Process not found.",RecursionError:"Recursion limit exceeded.",ReferenceError:"Weak ref proxy used after referent went away.",ResourceWarning:"Base class for warnings about resource usage.",RuntimeError:"Unspecified run-time error.",RuntimeWarning:"Base class for warnings about dubious runtime behavior.",StopAsyncIteration:"Signal the end from iterator.__anext__().",StopIteration:"Signal the end from iterator.__next__().",SyntaxError:"Invalid syntax.",SyntaxWarning:"Base class for warnings about dubious syntax.",SystemError:"Internal error in the Python interpreter.\n\nPlease report this to the Python maintainer, along with the traceback,\nthe Python version, and the hardware/OS platform and version.",SystemExit:"Request to exit from the interpreter.",TabError:"Improper mixture of spaces and tabs.",TimeoutError:"Timeout expired.",True:"bool(x) -> bool\n\nReturns True when the argument x is true, False otherwise.\nThe builtins True and False are the only two instances of the class bool.\nThe class bool is a subclass of the class int, and cannot be subclassed.",TypeError:"Inappropriate argument type.",UnboundLocalError:"Local name referenced but not bound to a value.",UnicodeDecodeError:"Unicode decoding error.",UnicodeEncodeError:"Unicode encoding error.",UnicodeError:"Unicode related error.",UnicodeTranslateError:"Unicode translation error.",UnicodeWarning:"Base class for warnings about Unicode related problems, mostly\nrelated to conversion problems.",UserWarning:"Base class for warnings generated by user code.",ValueError:"Inappropriate argument value (of correct type).",Warning:"Base class for warning categories.",WindowsError:"Base class for I/O related errors.",ZeroDivisionError:"Second argument to a division or modulo operation was zero.",__debug__:"bool(x) -> bool\n\nReturns True when the argument x is true, False otherwise.\nThe builtins True and False are the only two instances of the class bool.\nThe class bool is a subclass of the class int, and cannot be subclassed.",abs:"Return the absolute value of the argument.",aiter:"Return an AsyncIterator for an AsyncIterable object.",all:"Return True if bool(x) is True for all values x in the iterable.\n\nIf the iterable is empty, return True.",anext:"Return the next item from the async iterator.",any:"Return True if bool(x) is True for any x in the iterable.\n\nIf the iterable is empty, return False.",ascii:"Return an ASCII-only representation of an object.\n\nAs repr(), return a string containing a printable representation of an\nobject, but escape the non-ASCII characters in the string returned by\nrepr() using \\\\x, \\\\u or \\\\U escapes. This generates a string similar\nto that returned by repr() in Python 2.",bin:"Return the binary representation of an integer.\n\n   >>> bin(2796202)\n   '0b1010101010101010101010'",bool:"bool(x) -> bool\n\nReturns True when the argument x is true, False otherwise.\nThe builtins True and False are the only two instances of the class bool.\nThe class bool is a subclass of the class int, and cannot be subclassed.",breakpoint:"breakpoint(*args, **kws)\n\nCall sys.breakpointhook(*args, **kws).  sys.breakpointhook() must accept\nwhatever arguments are passed.\n\nBy default, this drops you into the pdb debugger.",bytearray:"bytearray(iterable_of_ints) -> bytearray\nbytearray(string, encoding[, errors]) -> bytearray\nbytearray(bytes_or_buffer) -> mutable copy of bytes_or_buffer\nbytearray(int) -> bytes array of size given by the parameter initialized with null bytes\nbytearray() -> empty bytes array\n\nConstruct a mutable bytearray object from:\n  - an iterable yielding integers in range(256)\n  - a text string encoded using the specified encoding\n  - a bytes or a buffer object\n  - any object implementing the buffer API.\n  - an integer",bytes:"bytes(iterable_of_ints) -> bytes\nbytes(string, encoding[, errors]) -> bytes\nbytes(bytes_or_buffer) -> immutable copy of bytes_or_buffer\nbytes(int) -> bytes object of size given by the parameter initialized with null bytes\nbytes() -> empty bytes object\n\nConstruct an immutable array of bytes from:\n  - an iterable yielding integers in range(256)\n  - a text string encoded using the specified encoding\n  - any object implementing the buffer API.\n  - an integer",callable:"Return whether the object is callable (i.e., some kind of function).\n\nNote that classes are callable, as are instances of classes with a\n__call__() method.",chr:"Return a Unicode string of one character with ordinal i; 0 <= i <= 0x10ffff.",classmethod:"classmethod(function) -> method\n\nConvert a function to be a class method.\n\nA class method receives the class as implicit first argument,\njust like an instance method receives the instance.\nTo declare a class method, use this idiom:\n\n  class C:\n      @classmethod\n      def f(cls, arg1, arg2, ...):\n          ...\n\nIt can be called either on the class (e.g. C.f()) or on an instance\n(e.g. C().f()).  The instance is ignored except for its class.\nIf a class method is called for a derived class, the derived class\nobject is passed as the implied first argument.\n\nClass methods are different than C++ or Java static methods.\nIf you want those, see the staticmethod builtin.",compile:"Compile source into a code object that can be executed by exec() or eval().\n\nThe source code may represent a Python module, statement or expression.\nThe filename will be used for run-time error messages.\nThe mode must be 'exec' to compile a module, 'single' to compile a\nsingle (interactive) statement, or 'eval' to compile an expression.\nThe flags argument, if present, controls which future statements influence\nthe compilation of the code.\nThe dont_inherit argument, if true, stops the compilation inheriting\nthe effects of any future statements in effect in the code calling\ncompile; if absent or false these statements do influence the compilation,\nin addition to any features explicitly specified.",complex:"Create a complex number from a real part and an optional imaginary part.\n\nThis is equivalent to (real + imag*1j) where imag defaults to 0.",copyright:"interactive prompt objects for printing the license text, a list of\n    contributors and the copyright notice.",credits:"interactive prompt objects for printing the license text, a list of\n    contributors and the copyright notice.",delattr:"Deletes the named attribute from the given object.\n\ndelattr(x, 'y') is equivalent to ``del x.y''",dict:"dict() -> new empty dictionary\ndict(mapping) -> new dictionary initialized from a mapping object's\n    (key, value) pairs\ndict(iterable) -> new dictionary initialized as if via:\n    d = {}\n    for k, v in iterable:\n        d[k] = v\ndict(**kwargs) -> new dictionary initialized with the name=value pairs\n    in the keyword argument list.  For example:  dict(one=1, two=2)",dir:"dir([object]) -> list of strings\n\nIf called without an argument, return the names in the current scope.\nElse, return an alphabetized list of names comprising (some of) the attributes\nof the given object, and of attributes reachable from it.\nIf the object supplies a method named __dir__, it will be used; otherwise\nthe default dir() logic is used and returns:\n  for a module object: the module's attributes.\n  for a class object:  its attributes, and recursively the attributes\n    of its bases.\n  for any other object: its attributes, its class's attributes, and\n    recursively the attributes of its class's base classes.",divmod:"Return the tuple (x//y, x%y).  Invariant: div*y + mod == x.",enumerate:"Return an enumerate object.\n\n  iterable\n    an object supporting iteration\n\nThe enumerate object yields pairs containing a count (from start, which\ndefaults to zero) and a value yielded by the iterable argument.\n\nenumerate is useful for obtaining an indexed list:\n    (0, seq[0]), (1, seq[1]), (2, seq[2]), ...",eval:"Evaluate the given source in the C of globals and locals.\n\nThe source may be a string representing a Python expression\nor a code object as returned by compile().\nThe globals must be a dictionary and locals can be any mapping,\ndefaulting to the current globals and locals.\nIf only globals is given, locals defaults to it.",exec:"Execute the given source in the C of globals and locals.\n\nThe source may be a string representing one or more Python statements\nor a code object as returned by compile().\nThe globals must be a dictionary and locals can be any mapping,\ndefaulting to the current globals and locals.\nIf only globals is given, locals defaults to it.",exit:"",filter:"filter(function or None, iterable) --\x3e filter object\n\nReturn an iterator yielding those items of iterable for which function(item)\nis true. If function is None, return the items that are true.",float:"Convert a string or number to a floating point number, if possible.",format:"Return value.__format__(format_spec)\n\nformat_spec defaults to the empty string.\nSee the Format Specification Mini-Language section of help('FORMATTING') for\ndetails.",frozenset:"frozenset() -> empty frozenset object\nfrozenset(iterable) -> frozenset object\n\nBuild an immutable unordered collection of unique elements.",getattr:"getattr(object, name[, default]) -> value\n\nGet a named attribute from an object; getattr(x, 'y') is equivalent to x.y.\nWhen a default argument is given, it is returned when the attribute doesn't\nexist; without it, an exception is raised in that case.",globals:"Return the dictionary containing the current scope's global variables.\n\nNOTE: Updates to this dictionary *will* affect name lookups in the current\nglobal scope and vice-versa.",hasattr:"Return whether the object has an attribute with the given name.\n\nThis is done by calling getattr(obj, name) and catching AttributeError.",hash:"Return the hash value for the given object.\n\nTwo objects that compare equal must also have the same hash value, but the\nreverse is not necessarily true.",help:"Define the builtin 'help'.\n\n    This is a wrapper around pydoc.help that provides a helpful message\n    when 'help' is typed at the Python interactive prompt.\n\n    Calling help() at the Python prompt starts an interactive help session.\n    Calling help(thing) prints help for the python object 'thing'.\n    ",hex:"Return the hexadecimal representation of an integer.\n\n   >>> hex(12648430)\n   '0xc0ffee'",id:"Return the identity of an object.\n\nThis is guaranteed to be unique among simultaneously existing objects.\n(CPython uses the object's memory address.)",input:"Read a string from standard input.  The trailing newline is stripped.\n\nThe prompt string, if given, is printed to standard output without a\ntrailing newline before reading input.\n\nIf the user hits EOF (*nix: Ctrl-D, Windows: Ctrl-Z+Return), raise EOFError.\nOn *nix systems, readline is used if available.",int:"int([x]) -> integer\nint(x, base=10) -> integer\n\nConvert a number or string to an integer, or return 0 if no arguments\nare given.  If x is a number, return x.__int__().  For floating point\nnumbers, this truncates towards zero.\n\nIf x is not a number or if base is given, then x must be a string,\nbytes, or bytearray instance representing an integer literal in the\ngiven base.  The literal can be preceded by '+' or '-' and be surrounded\nby whitespace.  The base defaults to 10.  Valid bases are 0 and 2-36.\nBase 0 means to interpret the base from the string as an integer literal.\n>>> int('0b100', base=0)\n4",isinstance:"Return whether an object is an instance of a class or of a subclass thereof.\n\nA tuple, as in ``isinstance(x, (A, B, ...))``, may be given as the target to\ncheck against. This is equivalent to ``isinstance(x, A) or isinstance(x, B)\nor ...`` etc.",issubclass:"Return whether 'cls' is derived from another class or is the same class.\n\nA tuple, as in ``issubclass(x, (A, B, ...))``, may be given as the target to\ncheck against. This is equivalent to ``issubclass(x, A) or issubclass(x, B)\nor ...``.",iter:"iter(iterable) -> iterator\niter(callable, sentinel) -> iterator\n\nGet an iterator from an object.  In the first form, the argument must\nsupply its own iterator, or be a sequence.\nIn the second form, the callable is called until it returns the sentinel.",len:"Return the number of items in a container.",license:"interactive prompt objects for printing the license text, a list of\n    contributors and the copyright notice.",list:"Built-in mutable sequence.\n\nIf no argument is given, the constructor creates a new empty list.\nThe argument must be an iterable if specified.",locals:"Return a dictionary containing the current scope's local variables.\n\nNOTE: Whether or not updates to this dictionary will affect name lookups in\nthe local scope and vice-versa is *implementation dependent* and not\ncovered by any backwards compatibility guarantees.",map:"map(func, *iterables) --\x3e map object\n\nMake an iterator that computes the function using arguments from\neach of the iterables.  Stops when the shortest iterable is exhausted.",max:"max(iterable, *[, default=obj, key=func]) -> value\nmax(arg1, arg2, *args, *[, key=func]) -> value\n\nWith a single iterable argument, return its biggest item. The\ndefault keyword-only argument specifies an object to return if\nthe provided iterable is empty.\nWith two or more arguments, return the largest argument.",memoryview:"Create a new memoryview object which references the given object.",min:"min(iterable, *[, default=obj, key=func]) -> value\nmin(arg1, arg2, *args, *[, key=func]) -> value\n\nWith a single iterable argument, return its smallest item. The\ndefault keyword-only argument specifies an object to return if\nthe provided iterable is empty.\nWith two or more arguments, return the smallest argument.",next:"next(iterator[, default])\n\nReturn the next item from the iterator. If default is given and the iterator\nis exhausted, it is returned instead of raising StopIteration.",object:"The base class of the class hierarchy.\n\nWhen called, it accepts no arguments and returns a new featureless\ninstance that has no instance attributes and cannot be given any.\n",oct:"Return the octal representation of an integer.\n\n   >>> oct(342391)\n   '0o1234567'",open:"Open file and return a stream.  Raise OSError upon failure.\n\nfile is either a text or byte string giving the name (and the path\nif the file isn't in the current working directory) of the file to\nbe opened or an integer file descriptor of the file to be\nwrapped. (If a file descriptor is given, it is closed when the\nreturned I/O object is closed, unless closefd is set to False.)\n\nmode is an optional string that specifies the mode in which the file\nis opened. It defaults to 'r' which means open for reading in text\nmode.  Other common values are 'w' for writing (truncating the file if\nit already exists), 'x' for creating and writing to a new file, and\n'a' for appending (which on some Unix systems, means that all writes\nappend to the end of the file regardless of the current seek position).\nIn text mode, if encoding is not specified the encoding used is platform\ndependent: locale.getpreferredencoding(False) is called to get the\ncurrent locale encoding. (For reading and writing raw bytes use binary\nmode and leave encoding unspecified.) The available modes are:\n\n========= ===============================================================\nCharacter Meaning\n--------- ---------------------------------------------------------------\n'r'       open for reading (default)\n'w'       open for writing, truncating the file first\n'x'       create a new file and open it for writing\n'a'       open for writing, appending to the end of the file if it exists\n'b'       binary mode\n't'       text mode (default)\n'+'       open a disk file for updating (reading and writing)\n'U'       universal newline mode (deprecated)\n========= ===============================================================\n\nThe default mode is 'rt' (open for reading text). For binary random\naccess, the mode 'w+b' opens and truncates the file to 0 bytes, while\n'r+b' opens the file without truncation. The 'x' mode implies 'w' and\nraises an `FileExistsError` if the file already exists.\n\nPython distinguishes between files opened in binary and text modes,\neven when the underlying operating system doesn't. Files opened in\nbinary mode (appending 'b' to the mode argument) return contents as\nbytes objects without any decoding. In text mode (the default, or when\n't' is appended to the mode argument), the contents of the file are\nreturned as strings, the bytes having been first decoded using a\nplatform-dependent encoding or using the specified encoding if given.\n\n'U' mode is deprecated and will raise an exception in future versions\nof Python.  It has no effect in Python 3.  Use newline to control\nuniversal newlines mode.\n\nbuffering is an optional integer used to set the buffering policy.\nPass 0 to switch buffering off (only allowed in binary mode), 1 to select\nline buffering (only usable in text mode), and an integer > 1 to indicate\nthe size of a fixed-size chunk buffer.  When no buffering argument is\ngiven, the default buffering policy works as follows:\n\n* Binary files are buffered in fixed-size chunks; the size of the buffer\n  is chosen using a heuristic trying to determine the underlying device's\n  \"block size\" and falling back on `io.DEFAULT_BUFFER_SIZE`.\n  On many systems, the buffer will typically be 4096 or 8192 bytes long.\n\n* \"Interactive\" text files (files for which isatty() returns True)\n  use line buffering.  Other text files use the policy described above\n  for binary files.\n\nencoding is the name of the encoding used to decode or encode the\nfile. This should only be used in text mode. The default encoding is\nplatform dependent, but any encoding supported by Python can be\npassed.  See the codecs module for the list of supported encodings.\n\nerrors is an optional string that specifies how encoding errors are to\nbe handled---this argument should not be used in binary mode. Pass\n'strict' to raise a ValueError exception if there is an encoding error\n(the default of None has the same effect), or pass 'ignore' to ignore\nerrors. (Note that ignoring encoding errors can lead to data loss.)\nSee the documentation for codecs.register or run 'help(codecs.Codec)'\nfor a list of the permitted encoding error strings.\n\nnewline controls how universal newlines works (it only applies to text\nmode). It can be None, '', '\\n', '\\r', and '\\r\\n'.  It works as\nfollows:\n\n* On input, if newline is None, universal newlines mode is\n  enabled. Lines in the input can end in '\\n', '\\r', or '\\r\\n', and\n  these are translated into '\\n' before being returned to the\n  caller. If it is '', universal newline mode is enabled, but line\n  endings are returned to the caller untranslated. If it has any of\n  the other legal values, input lines are only terminated by the given\n  string, and the line ending is returned to the caller untranslated.\n\n* On output, if newline is None, any '\\n' characters written are\n  translated to the system default line separator, os.linesep. If\n  newline is '' or '\\n', no translation takes place. If newline is any\n  of the other legal values, any '\\n' characters written are translated\n  to the given string.\n\nIf closefd is False, the underlying file descriptor will be kept open\nwhen the file is closed. This does not work when a file name is given\nand must be True in that case.\n\nA custom opener can be used by passing a callable as *opener*. The\nunderlying file descriptor for the file object is then obtained by\ncalling *opener* with (*file*, *flags*). *opener* must return an open\nfile descriptor (passing os.open as *opener* results in functionality\nsimilar to passing None).\n\nopen() returns a file object whose type depends on the mode, and\nthrough which the standard file operations such as reading and writing\nare performed. When open() is used to open a file in a text mode ('w',\n'r', 'wt', 'rt', etc.), it returns a TextIOWrapper. When used to open\na file in a binary mode, the returned class varies: in read binary\nmode, it returns a BufferedReader; in write binary and append binary\nmodes, it returns a BufferedWriter, and in read/write mode, it returns\na BufferedRandom.\n\nIt is also possible to use a string or bytearray as a file for both\nreading and writing. For strings StringIO can be used like a file\nopened in a text mode, and for bytes a BytesIO can be used like a file\nopened in a binary mode.",ord:"Return the Unicode code point for a one-character string.",pow:"Equivalent to base**exp with 2 arguments or base**exp % mod with 3 arguments\n\nSome types, such as ints, are able to use a more efficient algorithm when\ninvoked using the three argument form.",print:"print(value, ..., sep=' ', end='\\n', file=sys.stdout, flush=False)\n\nPrints the values to a stream, or to sys.stdout by default.\nOptional keyword arguments:\nfile:  a file-like object (stream); defaults to the current sys.stdout.\nsep:   string inserted between values, default a space.\nend:   string appended after the last value, default a newline.\nflush: whether to forcibly flush the stream.",property:"Property attribute.\n\n  fget\n    function to be used for getting an attribute value\n  fset\n    function to be used for setting an attribute value\n  fdel\n    function to be used for del'ing an attribute\n  doc\n    docstring\n\nTypical use is to define a managed attribute x:\n\nclass C(object):\n    def getx(self): return self._x\n    def setx(self, value): self._x = value\n    def delx(self): del self._x\n    x = property(getx, setx, delx, \"I'm the 'x' property.\")\n\nDecorators make defining new properties or modifying existing ones easy:\n\nclass C(object):\n    @property\n    def x(self):\n        \"I am the 'x' property.\"\n        return self._x\n    @x.setter\n    def x(self, value):\n        self._x = value\n    @x.deleter\n    def x(self):\n        del self._x",quit:"",range:"range(stop) -> range object\nrange(start, stop[, step]) -> range object\n\nReturn an object that produces a sequence of integers from start (inclusive)\nto stop (exclusive) by step.  range(i, j) produces i, i+1, i+2, ..., j-1.\nstart defaults to 0, and stop is omitted!  range(4) produces 0, 1, 2, 3.\nThese are exactly the valid indices for a list of 4 elements.\nWhen step is given, it specifies the increment (or decrement).",repr:"Return the canonical string representation of the object.\n\nFor many object types, including most builtins, eval(repr(obj)) == obj.",reversed:"Return a reverse iterator over the values of the given sequence.",round:"Round a number to a given precision in decimal digits.\n\nThe return value is an integer if ndigits is omitted or None.  Otherwise\nthe return value has the same type as the number.  ndigits may be negative.",set:"set() -> new empty set object\nset(iterable) -> new set object\n\nBuild an unordered collection of unique elements.",setattr:"Sets the named attribute on the given object to the specified value.\n\nsetattr(x, 'y', v) is equivalent to ``x.y = v''",slice:"slice(stop)\nslice(start, stop[, step])\n\nCreate a slice object.  This is used for extended slicing (e.g. a[0:10:2]).",sorted:"Return a new list containing all items from the iterable in ascending order.\n\nA custom key function can be supplied to customize the sort order, and the\nreverse flag can be set to request the result in descending order.",staticmethod:"staticmethod(function) -> method\n\nConvert a function to be a static method.\n\nA static method does not receive an implicit first argument.\nTo declare a static method, use this idiom:\n\n     class C:\n         @staticmethod\n         def f(arg1, arg2, ...):\n             ...\n\nIt can be called either on the class (e.g. C.f()) or on an instance\n(e.g. C().f()). Both the class and the instance are ignored, and\nneither is passed implicitly as the first argument to the method.\n\nStatic methods in Python are similar to those found in Java or C++.\nFor a more advanced concept, see the classmethod builtin.",str:"str(object='') -> str\nstr(bytes_or_buffer[, encoding[, errors]]) -> str\n\nCreate a new string object from the given object. If encoding or\nerrors is specified, then the object must expose a data buffer\nthat will be decoded using the given encoding and error handler.\nOtherwise, returns the result of object.__str__() (if defined)\nor repr(object).\nencoding defaults to sys.getdefaultencoding().\nerrors defaults to 'strict'.",sum:"Return the sum of a 'start' value (default: 0) plus an iterable of numbers\n\nWhen the iterable is empty, return the start value.\nThis function is intended specifically for use with numeric values and may\nreject non-numeric types.",super:"super() -> same as super(__class__, <first argument>)\nsuper(type) -> unbound super object\nsuper(type, obj) -> bound super object; requires isinstance(obj, type)\nsuper(type, type2) -> bound super object; requires issubclass(type2, type)\nTypical use to call a cooperative superclass method:\nclass C(B):\n    def meth(self, arg):\n        super().meth(arg)\nThis works for class methods too:\nclass C(B):\n    @classmethod\n    def cmeth(cls, arg):\n        super().cmeth(arg)\n",tuple:"Built-in immutable sequence.\n\nIf no argument is given, the constructor returns an empty tuple.\nIf iterable is specified the tuple is initialized from iterable's items.\n\nIf the argument is a tuple, the return value is the same object.",type:"type(object_or_name, bases, dict)\ntype(object) -> the object's type\ntype(name, bases, dict) -> a new type",vars:"vars([object]) -> dictionary\n\nWithout arguments, equivalent to locals().\nWith an argument, equivalent to object.__dict__.",zip:"zip(*iterables, strict=False) --\x3e Yield tuples until an input is exhausted.\n\n   >>> list(zip('abcdefg', range(3), range(4)))\n   [('a', 0, 0), ('b', 1, 1), ('c', 2, 2)]\n\nThe zip object yields n-length tuples, where n is the number of iterables\npassed as positional arguments to zip().  The i-th element in every tuple\ncomes from the i-th iterable argument to zip().  This continues until the\nshortest argument is exhausted.\n\nIf strict is true and one of the arguments is exhausted before the others,\nraise a ValueError."};for(var key in docs)__BRYTHON__.builtins[key]&&(__BRYTHON__.builtins[key].__doc__=docs[key]);!function(e){e.builtins;var t=e.coroutine=e.make_class("coroutine");t.close=function(e){},t.send=function(e){return e.$func.apply(null,e.$args)},t.__repr__=t.__str__=function(e){return e.$func.$infos?"<coroutine "+e.$func.$infos.__name__+">":"<coroutine object>"},e.set_func_names(t,"builtins"),e.make_async=r=>{if(r.$is_genfunc)return r;var n=function(){var n=arguments,a=e.frames_stack.slice();return{__class__:t,$args:n,$func:r,$stack:a}};return n.$infos=r.$infos,n},e.promise=function(e){return e.__class__===t?t.send(e):"function"==typeof e?e():e}}(__BRYTHON__),function($B){var _b_=$B.builtins;function compiler_error(e,t,r){var n=_b_.SyntaxError.$factory(t);if(n.filename=state.filename,"<string>"!=n.filename){var a=$B.file_cache[n.filename].split("\n")[e.lineno-1];n.text=a}else n.text=_b_.none;throw n.lineno=e.lineno,n.offset=e.col_offset+1,r=r||e,n.end_lineno=r.end_lineno,n.end_offset=r.end_col_offset+1,n.args[1]=[n.filename,n.lineno,n.offset,n.text,n.end_lineno,n.end_offset],n}function copy_position(e,t){e.lineno=t.lineno,e.col_offset=t.col_offset,e.end_lineno=t.end_lineno,e.end_col_offset=t.end_col_offset}function last_scope(e){for(var t=e.length-1;e[t].parent;)t--;return e[t]}function Scope(e,t,r){this.name=e,this.locals=new Set,this.globals=new Set,this.nonlocals=new Set,this.freevars=new Set,this.type=t,this.ast=r}function copy_scope(e,t,r){var n=new Scope(e.name,e.type,t);return void 0!==r&&(n.id=r),n.parent=e,n}function make_local(e){return`locals_${e.replace(/\./g,"_")}`}function qualified_scope_name(e,t){if(void 0!==t&&!(t instanceof Scope))throw console.log("bizarre",t),Error("scope trange");var r;if(t){var n=e.indexOf(t);r=n>-1?e.slice(0,n+1):e.concat(t)}else r=e.slice();var a=[];for(var s of r)s.parent||a.push(s.name);return a.join("_").replace(/\./g,"_")}function module_name(e){var t=e.slice(),r=[];for(var n of t)n.parent||r.push(n.name);return r.join(".")}function make_scope_name(e,t){return t===builtins_scope?"_b_":"locals_"+qualified_scope_name(e,t)}function make_search_namespaces(e){var t=[];for(var r of e.slice().reverse())r.parent||"class"==r.type||(r.is_exec_scope&&t.push("$B.exec_scope"),t.push(make_scope_name(e,r)));return t.push("_b_"),t}function mangle(e,t,r){if(r.startsWith("__")&&!r.endsWith("__"))for(var n=e.indexOf(t);n>=0;){if(e[n].ast instanceof $B.ast.ClassDef){for(var a=e[n].name;a.length>0&&a.startsWith("_");)a=a.substr(1);return 0==a.length?r:"_"+a+r}n--}return r}function reference(e,t,r){return make_scope_name(e,t)+"."+mangle(e,t,r)}function bind(e,t){var r=$B.last(t),n=last_scope(t);if(e=mangle(t,n,e),n.globals&&n.globals.has(e))r=t[0];else if(n.nonlocals.has(e))for(var a=t.indexOf(n)-1;a>=0;a--)if(t[a].locals.has(e))return t[a];return r.locals.add(e),r}$B.set_func_infos=function(e,t,r,n){e.$is_func=!0};var CELL=5,FREE=4,LOCAL=1,GLOBAL_EXPLICIT=2,GLOBAL_IMPLICIT=3,SCOPE_MASK=15,SCOPE_OFF=11,TYPE_CLASS=1,TYPE_FUNCTION=0,TYPE_MODULE=2,DEF_GLOBAL=1,DEF_LOCAL=2,DEF_PARAM=4,DEF_NONLOCAL=8,USE=16,DEF_FREE=32,DEF_FREE_CLASS=64,DEF_IMPORT=128,DEF_ANNOT=256,DEF_COMP_ITER=512;function name_reference(e,t,r){return make_ref(e,t,name_scope(e,t),r)}function make_ref(e,t,r,n){return r.found?reference(t,r.found,e):"all"==r.resolve?`$B.resolve_in_scopes('${e}', [${make_search_namespaces(t)}], [${n}])`:"local"==r.resolve?`$B.resolve_local('${e}', [${n}])`:"global"==r.resolve?`$B.resolve_global('${e}')`:Array.isArray(r.resolve)?`$B.resolve_in_scopes('${e}', [${r.resolve}], [${n}])`:"own_class_name"==r.resolve?`$B.own_class_name('${e}')`:void 0}function local_scope(e,t){for(var r=t;;){if(r.locals.has(e))return{found:!0,scope:r};if(!r.parent)return{found:!1};r=r.parent}}function name_scope(e,t){var r,n;if(0==t.length)return{found:!1,resolve:"all"};var a=$B.last(t),s=last_scope(t);e=mangle(t,a,e);void 0===s.ast&&console.log("no ast",a),void 0===(n=t.symtable.table.blocks.get(_b_.id(s.ast)))&&(console.log("no block",a,a.ast,"id",_b_.id(s.ast)),console.log("scopes",t.slice()),console.log("symtable",t.symtable));try{r=n.symbols.$string_dict[e][0]}catch(t){return console.log("name",e,"not in symbols of block",n),{found:!1,resolve:"all"}}var o=[LOCAL,CELL].indexOf(r>>SCOPE_OFF&SCOPE_MASK)>-1;if(s.ast instanceof $B.ast.ClassDef&&e==s.name)return{found:!1,resolve:"own_class_name"};if("__annotations__"==e&&(n.type==TYPE_CLASS&&s.has_annotation||n.type==TYPE_MODULE)&&(o=!0),o){var i=local_scope(e,a);return i.found?{found:i.scope}:n.type==TYPE_CLASS||n.type==TYPE_MODULE?{found:!1,resolve:"global"}:{found:!1,resolve:"local"}}if(a.globals.has(e)){var _=t[0];return _.locals.has(e)?{found:_}:{found:!1,resolve:"global"}}if(a.nonlocals.has(e))for(var l=t.length-2;l>=0;l--)if((n=t.symtable.table.blocks.get(_b_.id(t[l].ast)))&&n.symbols.$string_dict[e])return{found:t[l]};if(a.has_import_star)return{found:!1,resolve:o?"all":"global"};for(l=t.length-2;l>=0;l--){if(n=void 0,t[l].ast&&(n=t.symtable.table.blocks.get(_b_.id(t[l].ast))),t[l].globals.has(e))return{found:!1,resolve:"global"};if(t[l].locals.has(e)&&"class"!=t[l].type)return{found:t[l]};if(n&&n.symbols.$string_dict[e]&&(r=n.symbols.$string_dict[e][0],[LOCAL,CELL].indexOf(r>>SCOPE_OFF&SCOPE_MASK)>-1))return{found:!1,resolve:"all"};if(t[l].has_import_star)return{found:!1,resolve:"all"}}return builtins_scope.locals.has(e)?{found:builtins_scope}:{found:!1,resolve:make_search_namespaces(t)}}function resolve_in_namespace(e,t){if(t.hasOwnProperty){if(t.hasOwnProperty(e))return{found:!0,value:t[e]};if(t.$dict)try{return{found:!0,value:t.$getitem(t.$dict,e)}}catch(r){if(t.$missing)try{return{found:!0,value:$B.$call(t.$missing)(t.$dict,e)}}catch(e){if(!$B.$is_exc(e,[_b_.KeyError]))throw e}}}else if(void 0!==t[e])return{found:!0,value:t[e]};return{found:!1}}$B.resolve=function(e){var t,r=new Set;for(var n of $B.frames_stack.slice().reverse()){if(void 0===t)t=n[3];else if(n[3]!==t){if((a=resolve_in_namespace(e,t)).found)return a.value;r.add(t),t=n[3]}var a;if((a=resolve_in_namespace(e,n[1])).found)return a.value}if(!r.has(n[3])&&(a=resolve_in_namespace(e,n[3])).found)return a.value;if(builtins_scope.locals.has(e))return _b_[e];throw $B.name_error(e)},$B.resolve_local=function(e,t){var r=$B.last($B.frames_stack);if(r[1].hasOwnProperty){if(r[1].hasOwnProperty(e))return r[1][e]}else{var n=r[1][e];if(void 0!==n)return n}var a=_b_.UnboundLocalError.$factory(`local variable '${e}' referenced before assignment`);throw t&&$B.set_exception_offsets(a,t),a},$B.resolve_in_scopes=function(e,t,r){for(var n of t)if(n===$B.exec_scope){var a;for(var s of $B.frames_stack.slice().reverse())if(s.is_exec_top){a=s;break}if(a)for(var n of[a[1],a[3]]){if((o=resolve_in_namespace(e,n)).found)return o.value}}else{var o;if((o=resolve_in_namespace(e,n)).found)return o.value}var i=$B.name_error(e);throw r&&$B.set_exception_offsets(i,r),i},$B.resolve_global=function(e){for(var t of $B.frames_stack.slice().reverse()){var r=resolve_in_namespace(e,t[3]);if(r.found)return r.value;if(t.is_exec_top)break}if(builtins_scope.locals.has(e))return _b_[e];throw _b_.NameError.$factory(e)},$B.own_class_name=function(e){throw _b_.NameError.$factory(e)};var $operators=$B.op2method.subset("all"),opname2opsign={};for(var key in $operators)opname2opsign[$operators[key]]=key;var opclass2dunder={};for(var op_type of $B.op_types)for(var operator in op_type)opclass2dunder[op_type[operator]]="__"+$operators[operator]+"__";opclass2dunder.UAdd="__pos__",opclass2dunder.USub="__neg__",opclass2dunder.Invert="__invert__";var builtins_scope=new Scope("__builtins__");for(var name in $B.builtins)builtins_scope.locals.add(name);function mark_parents(e){if(e.body&&e.body instanceof Array)for(var t of e.body)t.$parent=e,mark_parents(t);else if(e.handlers){var r={$parent:e,type:"except_handler"};for(var t of e.handlers)t.$parent=r,mark_parents(t)}}function add_body(e,t){var r="";for(var n of e)js=$B.js_from_ast(n,t),js.length>0&&(r+=js+"\n");return r.trimRight()}function extract_docstring(e,t){var r="_b_.None";e.body.length&&e.body[0]instanceof $B.ast.Expr&&e.body[0].value instanceof $B.ast.Constant&&("string"==typeof e.body[0].value.value&&(r=e.body[0].value.to_js(t),e.body.shift()));return r}function init_comprehension(e){e.type,e.id;var t=Object.keys(e.varnames||{}).map(e=>`'${e}'`).join(", ");return`var ${e.locals_name} = {},\nlocals = ${e.locals_name}\nlocals.$comp_code = {\nco_argcount: 1,\nco_firstlineno:${e.ast.lineno},\nco_name: "<${e.type}>",\nco_flags: ${"genexpr"==e.type?115:83},\nco_freevars: $B.fast_tuple([]),\nco_kwonlyargcount: 0,\nco_posonlyargount: 0,\nco_varnames: $B.fast_tuple(['.0', ${t}])\n}\nlocals['.0'] = expr\nvar frame = ["<${e.type.toLowerCase()}>", ${e.locals_name}, "${e.module_name}", ${e.globals_name}]\nframe.$lineno = ${e.ast.lineno}\nlocals.$f_trace = $B.enter_frame(frame)\n`}function make_comp(e){var t=$B.UUID(),r=this.constructor.$name,n=e.symtable.table.blocks.get(_b_.id(this)).varnames.map(e=>`"${e}"`),a=this.generators[0],s=$B.js_from_ast(a.iter,e),o=1,i=new Scope(`${r}_${t}`,"comprehension",this);e.push(i);var _=init_comprehension({ast:this,id:t,type:r,varnames:n,module_name:e[0].name,locals_name:make_scope_name(e),globals_name:make_scope_name(e,e[0])});this instanceof $B.ast.ListComp?_+=`var result_${t} = []\n`:this instanceof $B.ast.SetComp?_+=`var result_${t} = _b_.set.$factory()\n`:this instanceof $B.ast.DictComp&&(_+=`var result_${t} = $B.empty_dict()\n`);var l=this.generators[0];_+=`var next_func_${t} = $B.next_of(expr)\nwhile(true){\ntry{\nvar next_${t} = next_func_${t}()\n}catch(err){\nif($B.is_exc(err, [_b_.StopIteration])){\nbreak\n}else{\n$B.leave_frame({locals, value: _b_.None})\n throw err\n}\n}\n`;var c=new $B.ast.Name(`next_${t}`,new $B.ast.Load);copy_position(c,a.iter),c.to_js=function(){return`next_${t}`};var u=new $B.ast.Assign([l.target],c);for(var f of(u.lineno=this.lineno,_+=u.to_js(e)+"\n",l.ifs))o++,_+=`if($B.$bool(${$B.js_from_ast(f,e)})){\n`;for(var p of this.generators.slice(1))for(var f of(_+=p.to_js(e),o++,p.ifs))o++;if(this instanceof $B.ast.DictComp)var d=$B.js_from_ast(this.key,e),h=$B.js_from_ast(this.value,e);else var $=$B.js_from_ast(this.elt,e);var m=i.has_await;_=`(${m?"async ":""}function(expr){\n`+_,_+=m?"var save_stack = $B.save_stack();\n":"",_+="try{\n",this instanceof $B.ast.ListComp?_+=`result_${t}.push(${$})\n`:this instanceof $B.ast.SetComp?_+=`_b_.set.add(result_${t}, ${$})\n`:this instanceof $B.ast.DictComp&&(_+=`_b_.dict.$setitem(result_${t}, ${d}, ${h})\n`),_+="}catch(err){\n"+(m?"$B.restore_stack(save_stack, locals)\n":"")+"$B.leave_frame(locals)\nthrow err\n}"+(m?"\n$B.restore_stack(save_stack, locals);":"");for(var b=0;b<o;b++)_+="}\n";return _+="\n$B.leave_frame({locals, value: _b_.None})",_+=`\nreturn result_${t}`,_+=`\n}\n)(${s})\n`,e.pop(),_}var exec_num={value:0};function init_scopes(e,t){var r=t.symtable.table.filename,n=$B.url2name[r],a=new Scope(n=n?n.replace(/-/g,"_"):r.startsWith("<")&&r.endsWith(">")?"exec":r.replace(/\./g,"_"),`${e}`,this),s=t.symtable.table.blocks.get(_b_.id(this));s&&s.$has_import_star&&(a.has_import_star=!0),t.push(a);var o=t.namespaces;if(o){for(var i in a.is_exec_scope=!0,o.exec_globals)i.startsWith("$")||a.globals.add(i);if(o.exec_locals!==o.exec_globals)for(var i in o.exec_locals)i.startsWith("$")||a.locals.add(i)}return n}function compiler_check(e){Object.getPrototypeOf(e)._check&&e._check()}$B.ast.Assert.prototype.to_js=function(e){var t=$B.js_from_ast(this.test,e),r=this.msg?$B.js_from_ast(this.msg,e):"";return`if($B.set_lineno(frame, ${this.lineno}) && !$B.$bool(${t})){\nthrow _b_.AssertionError.$factory(${r})}\n`};var CO_FUTURE_ANNOTATIONS=16777216;function annotation_to_str(e){var t;return e instanceof $B.ast.Name?t=e.id:e instanceof $B.ast.BinOp?t=annotation_to_str(e.left)+"|"+annotation_to_str(e.right):e instanceof $B.ast.Subscript?t=annotation_to_str(e.value)+"["+annotation_to_str(e.slice)+"]":e instanceof $B.ast.Constant?e.value===_b_.None?t="None":console.log("other constant",e):console.log("other annotation",e),t}function in_loop(e){for(var t of e.slice().reverse())if(t.ast instanceof $B.ast.For||t.ast instanceof $B.ast.While)return!0;return!1}function make_args(e){var t=[],r=[],n=[],a=!1;for(var s of this.args)s instanceof $B.ast.Starred?(s.$handled=!0,a=!0):t.push($B.js_from_ast(s,e));for(var o of this.keywords)o.arg?r.push(`${o.arg}: ${$B.js_from_ast(o.value,e)}`):n.push($B.js_from_ast(o.value,e));var i="";if(t=t.join(", "),a){var _=!0,l=[];for(var s of this.args)if(s instanceof $B.ast.Starred){if(l.length>0){var c=l.map(t=>$B.js_from_ast(t,e));i+=_?`[${c.join(", ")}]`:`.concat([${c.join(", ")}])`,l=[]}else""==i&&(i="[]");i+=`.concat(_b_.list.$factory(${$B.js_from_ast(s.value,e)}))`,_=!1}else l.push(s);if(l.length>0){c=l.map(t=>$B.js_from_ast(t,e));_?(i+=`[${c.join(", ")}]`,_=!1):i+=`.concat([${c.join(", ")}])`}"."==i[0]&&console.log("bizarre",i)}else i+=`${t}`;if(r.length+n.length==0)return{has_starred:a,js:`${i}`};var u=`{${r.join(", ")}}`;for(var f of n)u+=`, ${f}`;return u=`{$nat: 'kw', kw:[${u}]}`,i.length>0&&(u=a?`.concat([${u}])`:", "+u),{has_starred:a,js:`${i}${u}`}}function transform_args(e){for(var t=this.args.posonlyargs.length>0,r=[],n=this.args.defaults.length,a=this.args.posonlyargs.concat(this.args.args),s=[],o=i=a.length-n;o<a.length;o++)s.push(`defaults.${a[o].arg}`),r.push(`${a[o].arg}: ${$B.js_from_ast(this.args.defaults[o-i],e)}`);var i=0;for(var _ of this.args.kwonlyargs){if(this.args.kw_defaults[i]===_b_.None)break;void 0===this.args.kw_defaults[i]?r.push(`${_.arg}: _b_.None`):r.push(`${_.arg}: `+$B.js_from_ast(this.args.kw_defaults[i],e)),i++}var l=[];for(var c of this.args.kwonlyargs)l.push(`defaults.${c.arg}`);var u=`{${r.join(", ")}}`;return{default_names:s,_defaults:r,positional:a,has_posonlyargs:t,kw_default_names:l,default_str:u}}function list_or_tuple_to_js(e,t){if(this.elts.filter(e=>e instanceof $B.ast.Starred).length>0){var r=[],n=[];for(var a of this.elts)a instanceof $B.ast.Starred?(a.$handled=!0,r.push(`[${n.join(", ")}]`),n=[],r.push(`_b_.list.$factory(${$B.js_from_ast(a,t)})`)):n.push($B.js_from_ast(a,t));n.length>0&&r.push(`[${n.join(", ")}]`);var s=r[0];for(var o of r.slice(1))s+=`.concat(${o})`;return`${e}(${s})`}return`${e}([${this.elts.map(e=>$B.js_from_ast(e,t)).join(", ")}])`}function is_irrefutable(e){switch(e.constructor){case $B.ast.MatchAs:return void 0===e.pattern?e:is_irrefutable(e.pattern);case $B.ast.MatchOr:for(var t=0;t<e.patterns.length;t++)if(is_irrefutable(e.patterns[t])){if(t==e.patterns.length-1)return e;irrefutable_error(e.patterns[t])}}}function irrefutable_error(e){var t=e.name?`name capture '${e.name}'`:"wildcard";compiler_error(e,t+=" makes remaining patterns unreachable")}function pattern_bindings(e){var t=[];switch(e.constructor){case $B.ast.MatchAs:e.name&&t.push(e.name);break;case $B.ast.MatchSequence:for(var r of e.patterns)t=t.concat(pattern_bindings(r));break;case $B.ast.MatchOr:t=pattern_bindings(e.patterns[0]),err_msg="alternative patterns bind different names";for(var n=1;n<e.patterns.length;n++){var a=pattern_bindings(e.patterns[n]);if(a.length!=t.length)compiler_error(e,err_msg);else for(var s=0;s<t.length;s++)t[s]!=a[s]&&compiler_error(e,err_msg)}}return t.sort()}$B.ast.AnnAssign.prototype.to_js=function(e){var t,r=e.symtable.table.future.features&CO_FUTURE_ANNOTATIONS,n="";if((t=last_scope(e)).has_annotation||(n+="locals.__annotations__ = $B.empty_dict()\n"),t.has_annotation=!0,this.target instanceof $B.ast.Name)var a=r?`'${annotation_to_str(this.annotation)}'`:$B.js_from_ast(this.annotation,e);if(this.value)n+=`var ann = ${$B.js_from_ast(this.value,e)}\n`,this.target instanceof $B.ast.Name?("def"!=(t=bind(this.target.id,e)).type&&(n+=`$B.$setitem(locals.__annotations__, '${this.target.id}', ${a})\n`),n+=`${name_reference(this.target.id,e)} = ann`):this.target instanceof $B.ast.Attribute?n+=`$B.$setattr(${$B.js_from_ast(this.target.value,e)}, "${this.target.attr}", ann)`:this.target instanceof $B.ast.Subscript&&(n+=`$B.$setitem(${$B.js_from_ast(this.target.value,e)}, ${$B.js_from_ast(this.target.slice,e)}, ann)`);else if(this.target instanceof $B.ast.Name){this.annotation.id;n+=`$B.$setitem(locals.__annotations__, '${this.target.id}', ${a})`}else $B.js_from_ast(this.annotation,e);return`$B.set_lineno(frame, ${this.lineno})\n`+n},$B.ast.Assign.prototype.to_js=function(e){compiler_check(this);var t=this.lineno?`$B.set_lineno(frame, ${this.lineno})\n`:"",r=$B.js_from_ast(this.value,e);function n(t,r){if(t instanceof $B.ast.Name)return $B.js_from_ast(t,e)+" = "+r;if(t instanceof $B.ast.Starred)return n(t.value,r);if(t instanceof $B.ast.Subscript)return`$B.$setitem(${$B.js_from_ast(t.value,e)}, ${$B.js_from_ast(t.slice,e)}, ${r})`;if(t instanceof $B.ast.Attribute){var a=mangle(e,last_scope(e),t.attr);return`$B.$setattr(${$B.js_from_ast(t.value,e)}, "${a}", ${r})`}}function a(e,t){for(var r,s="",o=e.elts.length,i=!1,_=0,l=o;_<l;_++)if(e.elts[_]instanceof $B.ast.Starred){i=!0,r=l-_-1;break}var c="it_"+$B.UUID();s+=`var ${c} = $B.unpacker(${t}, ${o}, ${i}`,void 0!==r&&(s+=`, ${r}`),s+=")\n";var u=[];for(var f of e.elts)f instanceof $B.ast.Starred?u.push(n(f,`${c}.read_rest()`)):f instanceof $B.ast.List||f instanceof $B.ast.Tuple?u.push(a(f,`${c}.read_one()`)):u.push(n(f,`${c}.read_one()`));return s+=u.join("\n")}var s="v"+$B.UUID();t+=`var ${s} = ${r}\n`;var o=[];for(var i of this.targets)i instanceof $B.ast.Tuple||i instanceof $B.ast.List?o.push(a(i,s)):o.push(n(i,s));return t+=o.join("\n")},$B.ast.AsyncFor.prototype.to_js=function(e){return last_scope(e).ast instanceof $B.ast.AsyncFunctionDef||compiler_error(this,"'async for' outside async function"),$B.ast.For.prototype.to_js.bind(this)(e)},$B.ast.AsyncFunctionDef.prototype.to_js=function(e){return $B.ast.FunctionDef.prototype.to_js.bind(this)(e)},$B.ast.AsyncWith.prototype.to_js=function(e){function t(e,r){if(e instanceof $B.ast.Name)bind(e.id,r);else if(e instanceof $B.ast.Tuple)for(var n of e.elts)t(n,r)}function r(t,r){var a=$B.UUID(),o=`var mgr_${a} = `+$B.js_from_ast(t.context_expr,e)+",\n"+`mgr_type_${a} = _b_.type.$factory(mgr_${a}),\n`+`aexit_${a} = $B.$getattr(mgr_type_${a}, '__aexit__'),\n`+`aenter_${a} = $B.$getattr(mgr_type_${a}, '__aenter__'),\n`+`value_${a} = await $B.promise($B.$call(aenter_${a})(mgr_${a})),\n`+`exc_${a} = true\n`;if(i&&(o+=`locals.$context_managers = locals.$context_managers || []\nlocals.$context_managers.push(mgr_${a})\n`),o+="try{\ntry{\n",t.optional_vars){var _={to_js:function(){return`value_${a}`}};copy_position(_,n);var l=new $B.ast.Assign([t.optional_vars],_);copy_position(l,n),o+=l.to_js(e)+"\n"}return o+=r,o+=`}catch(err_${a}){\nframe.$lineno = ${s}\nexc_${a} = false\nerr_${a} = $B.exception(err_${a}, frame)\nvar $b = await $B.promise(aexit_${a}(mgr_${a}, err_${a}.__class__, err_${a}, $B.$getattr(err_${a}, '__traceback__')))\nif(! $B.$bool($b)){\nthrow err_${a}\n}\n}\n`,o+=`}\nfinally{\nframe.$lineno = ${s}\nif(exc_${a}){\nawait $B.promise(aexit_${a}(mgr_${a}, _b_.None, _b_.None, _b_.None))\n}\n}\n`}last_scope(e).ast instanceof $B.ast.AsyncFunctionDef||compiler_error(this,"'async with' outside async function");var n=this,a=last_scope(e),s=this.lineno;for(var o of(delete a.is_generator,this.items.slice().reverse()))o.optional_vars&&t(o.optional_vars,e);js=add_body(this.body,e)+"\n";var i=a.is_generator;for(var o of this.items.slice().reverse())js=r(o,js);return`$B.set_lineno(frame, ${this.lineno})\n`+js},$B.ast.Attribute.prototype.to_js=function(e){var t=mangle(e,last_scope(e),this.attr);return $B.pep657?`$B.$getattr_pep657(${$B.js_from_ast(this.value,e)}, '${t}', [${this.value.col_offset}, ${this.value.col_offset}, ${this.end_col_offset}])`:`$B.$getattr(${$B.js_from_ast(this.value,e)}, '${t}')`},$B.ast.AugAssign.prototype.to_js=function(e){var t,r=this.op.$name?this.op:this.op.constructor;for(var n in $B.op2ast_class)if($B.op2ast_class[n][1]===r){var a=n+"=";break}var s=$B.js_from_ast(this.value,e);if(this.target instanceof $B.ast.Name){var o=name_scope(this.target.id,e);if(!o.found)return`${"global"==o.resolve?make_scope_name(e,e[0]):"locals"}.${this.target.id} = $B.augm_assign(`+make_ref(this.target.id,e,o)+`, '${a}', ${s})`;var i=`${make_scope_name(e,o.found)}.${this.target.id}`;t="@"==n||"//"==n||"%"==n||"<<"==n?`${i} = $B.augm_assign(${i}, '${a}', ${s})`:i+` = typeof ${i} == "number" && `+`$B.is_safe_int(locals.$result = ${i} ${n} ${s}) ?\n`+`locals.$result : $B.augm_assign(${i}, '${a}', ${s})`}else if(this.target instanceof $B.ast.Subscript){n=opclass2dunder[this.op.constructor.$name];t=`$B.$setitem((locals.$tg = ${this.target.value.to_js(e)}), (locals.$key = ${this.target.slice.to_js(e)}), $B.augm_assign($B.$getitem(locals.$tg, locals.$key), '${a}', ${s}))`}else if(this.target instanceof $B.ast.Attribute){n=opclass2dunder[this.op.constructor.$name];var _=mangle(e,last_scope(e),this.target.attr);t=`$B.$setattr((locals.$tg = ${this.target.value.to_js(e)}), '${_}', $B.augm_assign($B.$getattr(locals.$tg, '${_}'), '${a}', ${s}))`}else{var l=$B.js_from_ast(this.target,e);t=`${l} = $B.augm_assign(${l}, '${a}', ${s=$B.js_from_ast(this.value,e)})`}return`$B.set_lineno(frame, ${this.lineno})\n`+t},$B.ast.Await.prototype.to_js=function(e){for(var t=e.length-1;e[t].parent;)t--;return e[t].has_await=!0,`await $B.promise(${$B.js_from_ast(this.value,e)})`},$B.ast.BinOp.prototype.to_js=function(e){var t=this.op.$name?this.op.$name:this.op.constructor.$name,r=`$B.rich_op('${opclass2dunder[t]}', ${$B.js_from_ast(this.left,e)}, ${$B.js_from_ast(this.right,e)}`;return $B.pep657&&(r+=`, [${this.left.col_offset}, ${this.col_offset}, ${this.end_col_offset}, ${this.right.end_col_offset}]`),r+")"},$B.ast.BoolOp.prototype.to_js=function(e){for(var t=this.op instanceof $B.ast.And?"! ":"",r=[],n=0,a=this.values.length;n<a;n++){var s=this.values[n];n<a-1?r.push(`${t}$B.$bool(locals.$test = ${$B.js_from_ast(s,e)}) ? locals.$test : `):r.push(`${$B.js_from_ast(s,e)}`)}return"("+r.join("")+")"},$B.ast.Break.prototype.to_js=function(e){in_loop(e)||compiler_error(this,"'break' outside loop");var t="";for(var r of e.slice().reverse())if(r.ast instanceof $B.ast.For){t+=`no_break_${r.id} = false\n`;break}return t+="break"},$B.ast.Call.prototype.to_js=function(e){var t="$B.$call("+$B.js_from_ast(this.func,e);$B.pep657&&(t+=`, [${this.col_offset}, ${this.col_offset}, ${this.end_col_offset}]`);var r=make_args.bind(this)(e);return t+")"+(r.has_starred?`.apply(null, ${r.js})`:`(${r.js})`)},$B.ast.ClassDef.prototype.to_js=function(e){var t=bind(this.name,e),r=new Scope(this.name,"class",this),n="",a=make_scope_name(e,r),s=this.name+$B.UUID(),o=e[0].name,i=make_scope_name(e,e[0]),_=[],l=!1;for(var c of this.decorator_list){l=!0;var u="decorator"+$B.UUID();_.push(u),n+=`$B.set_lineno(frame, ${c.lineno})\nvar ${u} = ${$B.js_from_ast(c,e)}\n`}n+=`$B.set_lineno(frame, ${this.lineno})\n`;for(var f=this.name,p=e.length-1;p>=0;)if(e[p].parent)p--;else{if(!(e[p].ast instanceof $B.ast.ClassDef))break;f=e[p].name+"."+f,p--}e.push(r);var d=extract_docstring(this,e);n+=`var ${s} = (function(){\nvar ${a} = {__annotations__: $B.empty_dict()},\nlocals = ${a}\nlocals.$name = "${this.name}"\nlocals.$qualname = "${f}"\nlocals.$is_class = true\nvar frame = ["${this.name}", locals, "${o}", ${i}]\nframe.__file__ = '${e.filename}'\nframe.$lineno = ${this.lineno}\nlocals.$f_trace = $B.enter_frame(frame)\nif(locals.$f_trace !== _b_.None){$B.trace_line()}\n`,n+=add_body(this.body,e),e.pop(),n+="\nif(locals.$f_trace !== _b_.None){\n$B.trace_return(_b_.None)\n}\n$B.leave_frame({locals})\nreturn locals\n})()\n";var h=reference(e,t,this.name);l&&(h=`decorated${$B.UUID()}`,n+="var ");var $=this.bases.map(t=>$B.js_from_ast(t,e)),m=[];for(var b of this.keywords)m.push(`["${b.arg}", `+$B.js_from_ast(b.value,e)+"]");if(n+=`${h} = $B.$class_constructor("${this.name}", ${s}, $B.fast_tuple([${$}]), [], [${m.join(", ")}])\n${h}.__doc__ = ${d}\n`,l){n+=reference(e,t,this.name)+" = ";var g=h;for(var c of _.reverse())g=`$B.$call(${c})(${g})`;n+=g+"\n"}return n},$B.ast.Compare.prototype.to_js=function(e){for(var t=$B.js_from_ast(this.left,e),r=[],n=this.ops.length,a=n>1?"locals.$op = ":"",s=0;s<n;s++){var o=this.ops[s].$name?this.ops[s].$name:this.ops[s].constructor.$name,i=opclass2dunder[o],_=this.comparators[s];void 0===i&&(console.log("op undefined",this.ops[s]),alert()),this.ops[s]instanceof $B.ast.In?r.push(`$B.$is_member(${t}, ${a}${$B.js_from_ast(_,e)})`):this.ops[s]instanceof $B.ast.NotIn?r.push(`! $B.$is_member(${t}, ${a}${$B.js_from_ast(_,e)})`):this.ops[s]instanceof $B.ast.Is?r.push(`$B.$is(${t}, ${a}${$B.js_from_ast(_,e)})`):this.ops[s]instanceof $B.ast.IsNot?r.push(`! $B.$is(${t}, ${a}${$B.js_from_ast(_,e)})`):r.push(`$B.rich_comp('${i}', ${t}, ${a}${$B.js_from_ast(_,e)})`),n>1&&(t="locals.$op")}return r.join(" && ")},$B.ast.comprehension.prototype.to_js=function(e){var t=$B.UUID(),r=$B.js_from_ast(this.iter,e),n=`var next_func_${t} = $B.next_of(${r})\nwhile(true){\ntry{\nvar next_${t} = next_func_${t}()\n}catch(err){\nif($B.is_exc(err, [_b_.StopIteration])){\nbreak\n}else{\n$B.leave_frame({locals, value: _b_.None})\n throw err\n}\n}\n`,a=new $B.ast.Name(`next_${t}`,new $B.ast.Load);copy_position(a,this.target),a.to_js=function(){return`next_${t}`};var s=new $B.ast.Assign([this.target],a);for(var o of(copy_position(s,this.target),void 0===s.col_offset&&(console.log("pas de col offset",s,"target",this.target),alert()),n+=s.to_js(e)+" // assign to target\n",this.ifs))n+=`if($B.$bool(${$B.js_from_ast(o,e)})){\n`;return n},$B.ast.Constant.prototype.to_js=function(e){if(!0===this.value||!1===this.value)return this.value+"";if(this.value===_b_.None)return"_b_.None";if("string"==typeof this.value)var t="str",r=this.value;else{if(this.value.__class__===_b_.bytes)return`_b_.bytes.$factory([${this.value.source}])`;if("number"==typeof this.value)return this.value;if(this.value.__class__===$B.long_int)return`$B.fast_long_int(${this.value.value}n)`;if(this.value instanceof Number)return`{__class__: _b_.float, value: ${+this.value}}`;if(this.value.__class__===_b_.complex)return`$B.make_complex(${this.value.$real.value}, ${this.value.$imag.value})`;t=this.value.type,r=this.value.value}switch(t){case"int":return(n=parseInt(r[1],r[0]))>$B.min_int&&n<$B.max_int?n+"":'$B.fast_long_int("'+(n=$B.long_int.$factory(r[1],r[0])).value+'", '+n.pos+")";case"float":return/^\d+$/.exec(r)||/^\d+\.\d*$/.exec(r)?"(new Number("+r+"))":"_b_.float.$factory("+r+")";case"imaginary":var n;return"$B.make_complex(0,"+(n=$B.ast.Constant.prototype.to_js.bind({value:r})(e))+")";case"ellipsis":return"_b_.Ellipsis";case"str":var a=r.split("\n");return`$B.String(${r=(r=a.join("\\n\\\n")).replace(new RegExp("\r","g"),"\\r").replace(new RegExp("\t","g"),"\\t").replace(new RegExp("","g"),"\\x07")})`}return console.log("unknown constant",this,r,!0===r),"// unknown"},$B.ast.Continue.prototype.to_js=function(e){return in_loop(e)||compiler_error(this,"'continue' not properly in loop"),"continue"},$B.ast.Delete.prototype.to_js=function(e){compiler_check(this);var t="";for(var r of this.targets)if(r instanceof $B.ast.Name){var n=name_scope(r.id,e);n.found&&n.found.locals.delete(r.id),t+=`$B.$delete("${r.id}")\n`}else r instanceof $B.ast.Subscript?t+=`$B.$delitem(${$B.js_from_ast(r.value,e)}, ${$B.js_from_ast(r.slice,e)})\n`:r instanceof $B.ast.Attribute&&(t+=`_b_.delattr(${$B.js_from_ast(r.value,e)}, '${r.attr}')\n`);return`$B.set_lineno(frame, ${this.lineno})\n`+t},$B.ast.Dict.prototype.to_js=function(e){var t=[],r=this.keys,n=!1;function a(e){return r[e]===_b_.None||void 0===r[e]}for(var s=0,o=this.keys.length;s<o;s++)if(a(s))n=!0,t.push("_b_.list.$factory(_b_.dict.items("+$B.js_from_ast(this.values[s],e)+"))");else try{t.push(`[${$B.js_from_ast(this.keys[s],e)}, ${$B.js_from_ast(this.values[s],e)}]`)}catch(e){throw e}if(!n)return`_b_.dict.$factory([${t}])`;var i="_b_.dict.$factory("+(a(0)?t[0]:`[${t[0]}]`);for(s=1,o=t.length;s<o;s++){i+=`.concat(${a(s)?t[s]:`[${t[s]}]`})`}return i+")"},$B.ast.DictComp.prototype.to_js=function(e){return make_comp.bind(this)(e)},$B.ast.Expr.prototype.to_js=function(e){return`$B.set_lineno(frame, ${this.lineno});\n`+$B.js_from_ast(this.value,e)},$B.ast.Expression.prototype.to_js=function(e){return init_scopes.bind(this)("expression",e),$B.js_from_ast(this.body,e)},$B.ast.For.prototype.to_js=function(e){var t,r=$B.UUID(),n=$B.js_from_ast(this.iter,e),a=copy_scope($B.last(e),this,r);e.push(a),t=this instanceof $B.ast.AsyncFor?`var iter_${r} = ${n},\ntype_${r} = _b_.type.$factory(iter_${r})\niter_${r} = $B.$call($B.$getattr(type_${r}, "__aiter__"))(iter_${r})\nvar next_func_${r} = $B.$call($B.$getattr(type_${r}, '__anext__'))\nwhile(true){\n  try{\n    var next_${r} = await $B.promise(next_func_${r}(iter_${r}))\n  }catch(err){\n    if($B.is_exc(err, [_b_.StopAsyncIteration])){\nbreak}\n    else{\nthrow err}\n  }\n`:`var no_break_${r} = true\nvar next_func_${r} = $B.next_of(${n})\nwhile(true){\ntry{\n$B.set_lineno(frame, ${this.lineno})\nvar next_${r} = next_func_${r}()\n}catch(err){\nif($B.is_exc(err, [_b_.StopIteration])){\nbreak\n}else{\n throw err\n}\n}\n`;var s=new $B.ast.Name(`next_${r}`,new $B.ast.Load);return copy_position(s,this.iter),s.to_js=function(){return`next_${r}`},t+=new $B.ast.Assign([this.target],s).to_js(e)+"\n",t+=add_body(this.body,e),t+="\n}",e.pop(),this.orelse.length>0&&(t+=`\nif(no_break_${r}){\n`+add_body(this.orelse,e)+"}\n"),t},$B.ast.FormattedValue.prototype.to_js=function(e){var t=$B.js_from_ast(this.value,e);return 114==this.conversion?t=`_b_.repr(${t})`:115==this.conversion?t=`_b_.str.$factory(${t})`:97==this.conversion&&(t=`_b_.ascii(${t})`),this.format_spec?t="_b_.str.format('{0:' + "+$B.js_from_ast(this.format_spec,e)+` + '}', ${t})`:-1==this.conversion&&(t=`_b_.str.$factory(${t})`),t},$B.ast.FunctionDef.prototype.to_js=function(e){var t=e.symtable.table.blocks.get(_b_.id(this)),r=last_scope(e).ast instanceof $B.ast.ClassDef,n=this instanceof $B.ast.AsyncFunctionDef;if(r)var a=last_scope(e);var s=[],o=!1,i="";for(var _ of this.decorator_list){o=!0;var l="decorator"+$B.UUID();s.push(l),i+=`$B.set_lineno(frame, ${_.lineno})\n`,i+=`var ${l} = ${$B.js_from_ast(_,e)} // decorator\n`}var c=extract_docstring(this,e),u=transform_args.bind(this)(e),f=u.default_names,p=(u._defaults,u.positional),d=u.has_posonlyargs,h=u.kw_default_names,$=u.default_str,m=new Scope(this.name,"def",this);e.push(m);var b=p.concat(this.args.kwonlyargs),g=[`"${this.name}"`,p.length],y=[],v=[];for(var x of b)y.push(x.arg+": null"),bind(x.arg,e);for(var x of this.args.posonlyargs)v.push(`'${x.arg}'`);for(var x of(d&&v.push("'/'"),this.args.args.concat(this.args.kwonlyargs)))v.push(`'${x.arg}'`);if(this.args.vararg&&bind(this.args.vararg.arg,e),this.args.kwarg&&bind(this.args.kwarg.arg,e),this.$is_lambda){var w=new $B.ast.Return(this.body);copy_position(w,this.body);var B=add_body([w],e)}else B=add_body(this.body,e);var k=t.generator,E=$B.UUID(),N=this.name+"$"+E,j=this.name+E,S=i+`$B.set_lineno(frame, ${this.lineno})\n`+`var ${N} = function(defaults){\n`;n&&!k&&(S+="async "),S+=`function ${j}(){\n`;var C=make_scope_name(e,m),I=e[0].name,T=make_scope_name(e,e[0]);if(S+=`var ${C},\n               locals\n`,g.push("{"+y.join(", ")+"} , ["+v.join(", ")+"], arguments, defaults, "+(this.args.vararg?`'${this.args.vararg.arg}', `:this.args.kwonlyargs.length>0?"'*', ":"null, ")+(this.args.kwarg?`'${this.args.kwarg.arg}'`:"null")),S+=`${C} = locals = $B.args(${g.join(", ")})\n`,S+=`var frame = ["${this.name}", locals, "${I}", ${T}, ${j}]\n    frame.__file__ = '${e.filename}'\n    frame.$lineno = ${this.lineno}\n    locals.$f_trace = $B.enter_frame(frame)\n    var stack_length = $B.frames_stack.length\n`,last_scope(e).has_annotation&&(S+="locals.__annotations__ = $B.empty_dict()\n"),k&&(S+="locals.$is_generator = true\n",S+=n?`var gen_${E} = $B.async_generator.$factory(async function*(){\n`:`var gen_${E} = $B.generator.$factory(function*(){\n`),S+="try{\n$B.js_this = this\n",r){var A=e.indexOf(a),O=make_scope_name(e,e[A-1]),L=a.name;bind("__class__",e),S+=`locals.__class__ = $B.get_method_class(${O}, "${L}")\n`}S+=B+"\n",this.$is_lambda||$B.last(this.body)instanceof $B.ast.Return||(S+="var result = _b_.None\nif(locals.$f_trace !== _b_.None){\n$B.trace_return(_b_.None)\n}\n$B.leave_frame(locals);return result\n"),S+=`}catch(err){\n    $B.set_exc(err)\n    if((! err.$in_trace_func) && locals.$f_trace !== _b_.None){\n    ${C}.$f_trace = $B.trace_exception()\n    }\n    $B.leave_frame(locals);throw err\n    }\n    }\n`,k&&(S+=`, '${this.name}')\nvar _gen_${E} = gen_${E}()\n_gen_${E}.$frame = frame\n$B.leave_frame()\nreturn _gen_${E}}\n`),e.pop();var F=bind(this.name,e),P=(r=F.ast instanceof $B.ast.ClassDef)?`${F.name}.${this.name}`:this.name,M=67;this.args.vararg&&(M|=4),this.args.kwarg&&(M|=8),k&&(M|=32);var R=[],D=[],U=Object.keys(t.symbols.$string_dict),V=[];for(var q of U){var W=t.symbols.$string_dict[q][0];(W>>SCOPE_OFF&SCOPE_MASK)==FREE&&V.push(`'${q}'`),W&DEF_PARAM?R.push(`'${q}'`):W&DEF_LOCAL&&D.push(`'${q}'`)}var z=R.concat(D);S+=`${j}.$is_func = true\n`,r&&(S+=`${j}.$is_method = true\n`),n&&(S+=`${j}.$is_async = true\n`),S+=`${j}.$infos = {\n__name__: "${this.name}", __qualname__: "${P}",\n__defaults__: $B.fast_tuple([${f}]), __kwdefaults__: $B.fast_tuple([${h}]),\n__doc__: ${c},\n__code__:{\nco_argcount: ${p.length},\n co_filename: '${e.filename}',\nco_firstlineno: ${this.lineno},\nco_flags: ${M},\nco_freevars: $B.fast_tuple([${V}]),\nco_kwonlyargcount: ${this.args.kwonlyargs.length},\nco_name: '${this.name}',\nco_nlocals: ${z.length},\nco_posonlyargcount: ${this.args.posonlyargs.length},\nco_varnames: $B.fast_tuple([${z}])\n}\n}\n`,S+=n?k?`return ${j}`:`return $B.make_async(${j})`:`return ${j}`,S+="}\n";var G=mangle(e,F,this.name),J=`${make_scope_name(e,F)}.${G}`;if(o&&(J=`decorated${$B.UUID()}`,S+="var "),S+=`${J} = ${N}(${$})\n${J}.$set_defaults = function(value){\nreturn ${J} = ${N}(value)\n}\n`,o){S+=`${make_scope_name(e,F)}.${G} = `;var Y=J;for(var _ of s.reverse())Y=`$B.$call(${_})(${Y})`;S+=Y}return S},$B.ast.GeneratorExp.prototype.to_js=function(e){var t=$B.UUID(),r=e.symtable.table.blocks.get(_b_.id(this)).varnames.map(e=>`"${e}"`),n=(this.elt,this.generators[0]),a=$B.js_from_ast(n.iter,e),s=1,o=new Scope(`genexpr_${t}`,"comprehension",this);e.push(o);var i=init_comprehension({ast:this,id:t,type:"genexpr",varnames:r,module_name:e[0].name,locals_name:make_scope_name(e),globals_name:make_scope_name(e,e[0])}),_=this.generators[0];i+=`var next_func_${t} = $B.next_of(expr)\nwhile(true){\ntry{\nvar next_${t} = next_func_${t}()\n}catch(err){\nif($B.is_exc(err, [_b_.StopIteration])){\nbreak\n}else{\n$B.leave_frame({locals, value: _b_.None})\n throw err\n}\n}\n`;var l=new $B.ast.Name(`next_${t}`,new $B.ast.Load);copy_position(l,n.iter),l.to_js=function(){return`next_${t}`};var c=new $B.ast.Assign([_.target],l);for(var u of(c.lineno=this.lineno,i+=c.to_js(e)+"\n",_.ifs))s++,i+=`if($B.$bool(${$B.js_from_ast(u,e)})){\n`;for(var f of this.generators.slice(1))for(var u of(i+=f.to_js(e),s++,f.ifs))s++;var p=$B.js_from_ast(this.elt,e),d=o.has_await;i=`$B.generator.$factory(${d?"async ":""}function*(expr){\n`+i,i+=d?"var save_stack = $B.save_stack();\n":"",i+=`try{\n yield ${p}\n}catch(err){\n`+(d?"$B.restore_stack(save_stack, locals)\n":"")+"$B.leave_frame(locals)\nthrow err\n}\n"+(d?"\n$B.restore_stack(save_stack, locals);":"");for(var h=0;h<s;h++)i+="}\n";return i+=`\n$B.leave_frame({locals, value: _b_.None})}, "<genexpr>")(${a})\n`,e.pop(),i},$B.ast.Global.prototype.to_js=function(e){var t=$B.last(e);for(var r of this.names)t.globals.add(r);return""},$B.ast.If.prototype.to_js=function(e){var t=copy_scope($B.last(e),this),r=`if($B.set_lineno(frame, ${this.lineno}) && $B.$bool(${$B.js_from_ast(this.test,e)})){\n`;return e.push(t),r+=add_body(this.body,e)+"\n}",e.pop(),this.orelse.length>0&&(this.orelse[0]instanceof $B.ast.If&&1==this.orelse.length?r+="else "+$B.js_from_ast(this.orelse[0],e)+add_body(this.orelse.slice(1),e):r+="\nelse{\n"+add_body(this.orelse,e)+"\n}"),r},$B.ast.IfExp.prototype.to_js=function(e){return"($B.$bool("+$B.js_from_ast(this.test,e)+") ? "+$B.js_from_ast(this.body,e)+": "+$B.js_from_ast(this.orelse,e)+")"},$B.ast.Import.prototype.to_js=function(e){var t=`$B.set_lineno(frame, ${this.lineno})\n`;for(var r of this.names){t+=`$B.$import("${r.name}", [], `,r.asname?(t+=`{'${r.name}' : '${r.asname}'}, `,bind(r.asname,e)):(t+="{}, ",bind(r.name,e));for(var n=r.name.split("."),a=0;a<n.length;a++)e.imports[n.slice(0,a+1).join(".")]=!0;t+="locals, true)\n"}return t.trimRight()},$B.ast.ImportFrom.prototype.to_js=function(e){"__future__"===this.module&&($B.last(e).ast instanceof $B.ast.Module||compiler_error(this,"from __future__ imports must occur at the beginning of the file",$B.last(this.names)));var t=`$B.set_lineno(frame, ${this.lineno})\nvar module = $B.$import_from("${this.module||""}", `,r=this.names.map(e=>`"${e.name}"`).join(", "),n=[];for(var a of this.names)a.asname&&n.push(`${a.name}: '${a.asname}'`);for(var s of(t+=`[${r}], {${n.join(", ")}}, ${this.level}, locals);`,this.names))s.asname?bind(s.asname,e):"*"==s.name?(last_scope(e).blurred=!0,t+="\n$B.import_all(locals, module)"):bind(s.name,e);return t},$B.ast.JoinedStr.prototype.to_js=function(e){var t=this.values.map(t=>$B.js_from_ast(t,e));return 0==t.length?"''":t.join(" + ")},$B.ast.Lambda.prototype.to_js=function(e){var t=$B.UUID(),r="lambda_"+$B.lambda_magic+"_"+t,n=new $B.ast.FunctionDef(r,this.args,this.body,[]);return n.lineno=this.lineno,n.$id=_b_.id(this),n.$is_lambda=!0,`(function(){ ${n.to_js(e)}\nreturn ${reference(e,last_scope(e),r)}\n})()`},$B.ast.List.prototype.to_js=function(e){return list_or_tuple_to_js.bind(this)("$B.$list",e)},$B.ast.ListComp.prototype.to_js=function(e){return compiler_check(this),make_comp.bind(this)(e)},$B.ast.match_case.prototype.to_js=function(e){var t=`($B.set_lineno(frame, ${this.lineno}) && $B.pattern_match(subject, {${$B.js_from_ast(this.pattern,e)}})`;return this.guard&&(t+=` && $B.$bool(${$B.js_from_ast(this.guard,e)})`),t+="){\n",t+=add_body(this.body,e)+"\n}"},$B.ast.Match.prototype.to_js=function(e){$B.last(e);var t,r=`var subject = ${$B.js_from_ast(this.subject,e)}\n`,n=!0;for(var a of this.cases){a.guard||(t&&irrefutable_error(t),t=is_irrefutable(a.pattern));var s=$B.js_from_ast(a,e);n?(r+="if"+s,n=!1):r+="else if"+s}return`$B.set_lineno(frame, ${this.lineno})\n`+r},$B.ast.MatchAs.prototype.to_js=function(e){var t,r=$B.last(e),n=void 0===this.name?"_":this.name;if(void 0===this.pattern)t=`capture: '${n}'`;else{var a=$B.js_from_ast(this.pattern,e);this.pattern instanceof $B.ast.MatchAs&&this.pattern.name&&(a=`group: [{${a}}]`),t=`${a}, alias: '${n}'`}return r.bindings&&(r.bindings.indexOf(n)>-1&&compiler_error(this,`multiple assignment to name '${n}' in pattern`),r.bindings.push(n)),t},$B.ast.MatchClass.prototype.to_js=function(e){var t=[];for(var r of this.patterns.concat(this.kwd_patterns)){var n=r.name;n&&(t.indexOf(n)>-1&&compiler_error(r,`multiple assignment to name '${n}' in pattern`),t.push(n))}t=[];for(var a=0;a<this.kwd_attrs.length;a++){var s=this.kwd_attrs[a];t.indexOf(s)>-1&&compiler_error(this.kwd_patterns[a],`attribute name repeated in class pattern: ${s}`),t.push(s)}for(var o=$B.js_from_ast(this.cls,e),i=this.patterns.map(t=>`{${$B.js_from_ast(t,e)}}`),_=[],l=(a=0,this.kwd_patterns.length);a<l;a++)_.push(this.kwd_attrs[a]+": {"+$B.js_from_ast(this.kwd_patterns[a],e)+"}");return`class: ${o}, args: [${i}], keywords: {${_.join(", ")}}`},$B.ast.MatchMapping.prototype.to_js=function(scopes){var keys=[];for(var key of this.keys)if(!(key instanceof $B.ast.Attribute))if(key instanceof $B.ast.Constant||key instanceof $B.ast.UnaryOp||key instanceof $B.ast.BinOp){var value=eval(key.to_js(scopes));_b_.list.__contains__(keys,value)&&compiler_error(this,`mapping pattern checks duplicate key (${_b_.repr(value)})`),keys.push(value)}else compiler_error(key,"mapping pattern keys may only match literals and attribute lookups");var names=[];for(var pattern of this.patterns)pattern instanceof $B.ast.MatchAs&&pattern.name&&(names.indexOf(pattern.name)>-1&&compiler_error(pattern,`multiple assignments to name '${pattern.name}' in pattern`),names.push(pattern.name));for(var items=[],i=0,len=this.keys.length;i<len;i++){var key_prefix=this.keys[i]instanceof $B.ast.Constant?"literal: ":"value: ",key=$B.js_from_ast(this.keys[i],scopes),value=$B.js_from_ast(this.patterns[i],scopes);items.push(`[{${key_prefix}${key}}, {${value}}]`)}var js="mapping: ["+items.join(", ")+"]";return this.rest&&(js+=`, rest: '${this.rest}'`),js},$B.ast.MatchOr.prototype.to_js=function(e){is_irrefutable(this),pattern_bindings(this);var t=[];for(var r of this.patterns)t.push(`{${$B.js_from_ast(r,e)}}`);return`or: [${t.join(", ")}]`},$B.ast.MatchSequence.prototype.to_js=function(e){var t=[],r=[];for(var n of this.patterns)n instanceof $B.ast.MatchAs&&n.name&&(r.indexOf(n.name)>-1&&compiler_error(n,`multiple assignments to name '${n.name}' in pattern`),r.push(n.name)),t.push("{"+$B.js_from_ast(n,e)+"}");return`sequence: [${t.join(", ")}]`},$B.ast.MatchSingleton.prototype.to_js=function(e){return`literal: ${!0===this.value?"_b_.True":!1===this.value?"_b_.False":"_b_.None"}`},$B.ast.MatchStar.prototype.to_js=function(e){return`capture_starred: '${void 0===this.name?"_":this.name}'`},$B.ast.MatchValue.prototype.to_js=function(e){return this.value instanceof $B.ast.Constant?`literal: ${$B.js_from_ast(this.value,e)}`:this.value instanceof $B.ast.Constant||this.value instanceof $B.ast.UnaryOp||this.value instanceof $B.ast.BinOp||this.value instanceof $B.ast.Attribute?`value: ${$B.js_from_ast(this.value,e)}`:void compiler_error(this,"patterns may only match literals and attribute lookups")},$B.ast.Module.prototype.to_js=function(e){mark_parents(this);var t=init_scopes.bind(this)("module",e),r=e.namespaces,n=t,a=make_scope_name(e),s=module_name(e),o="// Javascript code generated from ast\nvar $B = __BRYTHON__,\n_b_ = $B.builtins,\n";return r?(o+=`locals = ${r.local_name},\nglobals = ${r.global_name}\n`,t&&(o+=`,\nlocals_${t} = locals`)):o+=`${a} = $B.imported["${s}"],\nlocals = ${a},\nframe = ["${n}", locals, "${n}", locals]`,o+=`\nframe.__file__ = '${e.filename||"<string>"}'\nlocals.__name__ = '${t}'\nlocals.__annotations__ = $B.empty_dict()\nlocals.__doc__ = ${extract_docstring(this,e)}\n`,r||(o+="locals.$f_trace = $B.enter_frame(frame)\n"),o+="$B.set_lineno(frame, 1)\nvar stack_length = $B.frames_stack.length\ntry{\n"+add_body(this.body,e)+"\n"+(r?"":"$B.leave_frame({locals, value: _b_.None})\n")+"}catch(err){\n$B.set_exc(err)\nif((! err.$in_trace_func) && locals.$f_trace !== _b_.None){\nlocals.$f_trace = $B.trace_exception()\n}\n"+(r?"":"$B.leave_frame({locals, value: _b_.None})\n")+"throw err\n}",e.pop(),o},$B.ast.Name.prototype.to_js=function(e){if(this.ctx instanceof $B.ast.Store){var t=bind(this.id,e);return t===$B.last(e)&&t.freevars.has(this.id)&&t.freevars.delete(this.id),reference(e,t,this.id)}if(this.ctx instanceof $B.ast.Load){var r=name_reference(this.id,e,[this.col_offset,this.col_offset,this.end_col_offset]);return"__debugger__"==this.id&&r.startsWith("$B.resolve_in_scopes")?"debugger":r}},$B.ast.NamedExpr.prototype.to_js=function(e){for(var t=e.length-1;"comprehension"==e[t].type;)t--;var r=e.slice(0,t+1);return r.symtable=e.symtable,bind(this.target.id,r),"("+$B.js_from_ast(this.target,r)+" = "+$B.js_from_ast(this.value,e)+")"},$B.ast.Nonlocal.prototype.to_js=function(e){var t=$B.last(e);for(var r of this.names)t.nonlocals.add(r);return""},$B.ast.Pass.prototype.to_js=function(e){return`$B.set_lineno(frame, ${this.lineno})\nvoid(0)`},$B.ast.Raise.prototype.to_js=function(e){var t=`$B.set_lineno(frame, ${this.lineno})\n$B.$raise(`;return this.exc&&(t+=$B.js_from_ast(this.exc,e)),this.cause&&(t+=", "+$B.js_from_ast(this.cause,e)),t+")"},$B.ast.Return.prototype.to_js=function(e){compiler_check(this);var t=`$B.set_lineno(frame, ${this.lineno})\nvar result = `+(this.value?$B.js_from_ast(this.value,e):" _b_.None");return t+="\nif(locals.$f_trace !== _b_.None){\n$B.trace_return(result)\n}\n$B.leave_frame(locals)\nreturn result\n"},$B.ast.Set.prototype.to_js=function(e){for(var t of this.elts)t instanceof $B.ast.Starred&&(t.$handled=!0);var r={args:this.elts,keywords:[]},n=make_args.bind(r)(e),a=n.js;return n.has_starred||(a=`[${a}]`),`_b_.set.$factory(${a})`},$B.ast.SetComp.prototype.to_js=function(e){return make_comp.bind(this)(e)},$B.ast.Slice.prototype.to_js=function(e){return`_b_.slice.$fast_slice(${this.lower?$B.js_from_ast(this.lower,e):"_b_.None"}, ${this.upper?$B.js_from_ast(this.upper,e):"_b_.None"}, ${this.step?$B.js_from_ast(this.step,e):"_b_.None"})`},$B.ast.Starred.prototype.to_js=function(e){if(this.$handled)return`_b_.list.$unpack(${$B.js_from_ast(this.value,e)})`;this.ctx instanceof $B.ast.Store?compiler_error(this,"starred assignment target must be in a list or tuple"):compiler_error(this,"can't use starred expression here")},$B.ast.Subscript.prototype.to_js=function(e){var t=$B.js_from_ast(this.value,e),r=$B.js_from_ast(this.slice,e);return this.slice instanceof $B.ast.Slice?`$B.getitem_slice(${t}, ${r})`:$B.pep657?`$B.$getitem(${t}, ${r}, [${this.value.col_offset}, ${this.slice.col_offset}, ${this.slice.end_col_offset}])`:`$B.$getitem(${t}, ${r})`},$B.ast.Try.prototype.to_js=function(e){compiler_check(this);var t=$B.UUID(),r=this.handlers.length>0,n=this.orelse.length>0,a=this.finalbody.length>0,s=`$B.set_lineno(frame, ${this.lineno})\ntry{\n`;s+=`var stack_length_${t} = $B.frames_stack.length\n`,a&&(s+=`var save_stack_${t} = $B.frames_stack.slice()\n`),n&&(s+=`var failed${t} = false\n`);var o=copy_scope($B.last(e));if(e.push(o),s+=add_body(this.body,e)+"\n",r){var i="err"+t;s+="}\n",s+=`catch(${i}){\n$B.set_exc(${i})\nif(locals.$f_trace !== _b_.None){\nlocals.$f_trace = $B.trace_exception()}\n`,n&&(s+=`failed${t} = true\n`);var _=!0,l=!1;for(var c of this.handlers){if(_?(s+="if",_=!1):s+="}else if",s+=`($B.set_lineno(frame, ${c.lineno})`,c.type?(s+=` && $B.is_exc(${i}, `,c.type instanceof $B.ast.Tuple?s+=`${$B.js_from_ast(c.type,e)}`:s+=`[${$B.js_from_ast(c.type,e)}]`,s+=")){\n"):(l=!0,s+="){\n"),c.name)bind(c.name,e),s+=`locals.${mangle(e,o,c.name)} = ${i}\n`;s+=add_body(c.body,e)+"\n",$B.last(c.body)instanceof $B.ast.Return||(s+="$B.del_exc()\n")}l||(s+=`}else{\nthrow ${i}\n`),s+="}\n"}if(n||a){s+="}\n",s+="finally{\n";var u=`var exit = false\nif($B.frames_stack.length < stack_length_${t}){\nexit = true\n$B.frames_stack.push(frame)\n}\n`+add_body(this.finalbody,e);this.finalbody.length>0&&!($B.last(this.finalbody)instanceof $B.ast.Return)&&(u+="\nif(exit){\n$B.leave_frame(locals)\n}");var f=`if($B.frames_stack.length == stack_length_${t} && ! failed${t}){\n`+add_body(this.orelse,e)+"\n}";s+=n&&a?"try{\n"+f+"\n}\nfinally{\n"+u+"}\n":n&&!a?f:u,s+="\n}\n"}else s+="}\n";return e.pop(),s},$B.ast.Tuple.prototype.to_js=function(e){return list_or_tuple_to_js.bind(this)("$B.fast_tuple",e)},$B.ast.UnaryOp.prototype.to_js=function(e){var t=$B.js_from_ast(this.operand,e);if(this.op instanceof $B.ast.Not)return`! $B.$bool(${t})`;if("number"==typeof t||t instanceof Number){if(this.op instanceof $B.ast.UAdd)return t+"";if(this.op instanceof $B.ast.USub)return-t+""}return`$B.$getattr($B.get_class(locals.$result = ${t}), '${opclass2dunder[this.op.constructor.$name]}')(locals.$result)`},$B.ast.While.prototype.to_js=function(e){var t=$B.UUID(),r=copy_scope($B.last(e),this);e.push(r);var n=`var no_break_${t} = true\n`;return n+=`while($B.set_lineno(frame, ${this.lineno}) && $B.$bool(${$B.js_from_ast(this.test,e)})){\n`,n+=add_body(this.body,e)+"\n}",e.pop(),this.orelse.length>0&&(n+=`\nif(no_break_${t}){\n`+add_body(this.orelse,e)+"}\n"),n};var with_counter=[0];$B.ast.With.prototype.to_js=function(e){function t(t,n){var o=$B.UUID(),i=`var mgr_${o} = `+$B.js_from_ast(t.context_expr,e)+",\n"+`klass = $B.get_class(mgr_${o})\ntry{\n`+`var exit_${o} = $B.$getattr(klass, '__exit__'),\n`+`enter_${o} = $B.$getattr(klass, '__enter__')\n}catch(err){\n`+`var klass_name = $B.get_class(mgr_${o})\nthrow _b_.TypeError.$factory("'" + klass_name + "' object does not support the context manager protocol")\n}\n`+`var value_${o} = $B.$call($B.$getattr(klass, `+`'__enter__'))(mgr_${o}),\n`+`exc_${o} = true\n`;if(s&&(i+=`locals.$context_managers = locals.$context_managers || []\nlocals.$context_managers.push(mgr_${o})\n`),i+="try{\ntry{\n",t.optional_vars){var _={to_js:function(){return`value_${o}`}};copy_position(_,r);var l=new $B.ast.Assign([t.optional_vars],_);copy_position(l,r),i+=l.to_js(e)+"\n"}return i+=n,i+=`}catch(err_${o}){\nframe.$lineno = ${a}\nexc_${o} = false\nerr_${o} = $B.exception(err_${o}, frame)\nvar $b = exit_${o}(mgr_${o}, err_${o}.__class__, err_${o}, $B.$getattr(err_${o}, '__traceback__'))\nif(! $B.$bool($b)){\nthrow err_${o}\n}\n}\n`,i+=`}\nfinally{\nframe.$lineno = ${a}\n`+(s?"locals.$context_managers.pop()\n":"")+`if(exc_${o}){\ntry{\n`+`exit_${o}(mgr_${o}, _b_.None, _b_.None, _b_.None)\n}catch(err){\nif($B.frames_stack.length < stack_length){\n$B.frames_stack.push(frame)\n}\nthrow err\n}\n}\n}\n`}var r=this,n=last_scope(e),a=this.lineno;js=add_body(this.body,e)+"\n";var s=e.symtable.table.blocks.get(_b_.id(n.ast)).generator;for(var o of this.items.slice().reverse())js=t(o,js);return`$B.set_lineno(frame, ${this.lineno})\n`+js},$B.ast.Yield.prototype.to_js=function(e){return last_scope(e).is_generator=!0,`yield ${this.value?$B.js_from_ast(this.value,e):"_b_.None"}`},$B.ast.YieldFrom.prototype.to_js=function(e){last_scope(e).is_generator=!0;var t=$B.js_from_ast(this.value,e),r=$B.UUID();return`yield* (function* f(){\n        var _i${r} = _b_.iter(${t}),\n                _r${r}\n            var failed${r} = false\n            try{\n                var _y${r} = _b_.next(_i${r})\n            }catch(_e){\n                $B.set_exc(_e)\n                failed${r} = true\n                $B.pmframe = $B.last($B.frames_stack)\n                _e = $B.exception(_e)\n                if(_e.__class__ === _b_.StopIteration){\n                    var _r${r} = $B.$getattr(_e, "value")\n                }else{\n                    throw _e\n                }\n            }\n            if(! failed${r}){\n                while(true){\n                    var failed1${r} = false\n                    try{\n                        $B.leave_frame({locals})\n                        var _s${r} = yield _y${r}\n                        $B.frames_stack.push(frame)\n                    }catch(_e){\n                        if(_e.__class__ === _b_.GeneratorExit){\n                            var failed2${r} = false\n                            try{\n                                var _m${r} = $B.$getattr(_i${r}, "close")\n                            }catch(_e1){\n                                failed2${r} = true\n                                if(_e1.__class__ !== _b_.AttributeError){\n                                    throw _e1\n                                }\n                            }\n                            if(! failed2${r}){\n                                $B.$call(_m${r})()\n                            }\n                            throw _e\n                        }else if($B.is_exc(_e, [_b_.BaseException])){\n                            var sys_module = $B.imported._sys,\n                                _x = sys_module.exc_info()\n                            var failed3${r} = false\n                            try{\n                                var _m${r} = $B.$getattr(_i${r}, "throw")\n                            }catch(err){\n                                failed3${r} = true\n                                if($B.is_exc(err, [_b_.AttributeError])){\n                                    throw err\n                                }\n                            }\n                            if(! failed3${r}){\n                                try{\n                                    _y${r} = $B.$call(_m${r}).apply(null,\n                                        _b_.list.$factory(_x${r}))\n                                }catch(err){\n                                    if($B.$is_exc(err, [_b_.StopIteration])){\n                                        _r${r} = $B.$getattr(err, "value")\n                                        break\n                                    }\n                                    throw err\n                                }\n                            }\n                        }\n                    }\n                    if(! failed1${r}){\n                        try{\n                            if(_s${r} === _b_.None){\n                                _y${r} = _b_.next(_i${r})\n                            }else{\n                                _y${r} = $B.$call($B.$getattr(_i${r}, "send"))(_s${r})\n                            }\n                        }catch(err){\n                            if($B.is_exc(err, [_b_.StopIteration])){\n                                _r${r} = $B.$getattr(err, "value")\n                                break\n                            }\n                            throw err\n                        }\n                    }\n                }\n            }\n            return _r${r}\n        })()`};var state={};$B.js_from_root=function(e,t,r,n){$B.show_ast_dump&&console.log($B.ast_dump(e)),$B.compiler_check&&$B.compiler_check(e,t);var a=[];return state.filename=r,a.symtable=t,a.filename=r,a.namespaces=n,a.imports={},{js:e.to_js(a),imports:a.imports}},$B.js_from_ast=function(e,t){if(!t.symtable)throw Error("perdu symtable");if(t=t||[],void 0!==e.to_js){if(void 0===e.col_offset){var r=e.constructor.$name;if(-1==["match_case"].indexOf(r))throw console.log("pas de col offset pour",r),console.log(e),Error("ccc")}return e.to_js(t)}return console.log("unhandled",e.constructor.$name),"// unhandled class ast."+e.constructor.$name}}(__BRYTHON__),function($B){var _b_=$B.builtins,GLOBAL_PARAM="name '%s' is parameter and global",NONLOCAL_PARAM="name '%s' is parameter and nonlocal",GLOBAL_AFTER_ASSIGN="name '%s' is assigned to before global declaration",NONLOCAL_AFTER_ASSIGN="name '%s' is assigned to before nonlocal declaration",GLOBAL_AFTER_USE="name '%s' is used prior to global declaration",NONLOCAL_AFTER_USE="name '%s' is used prior to nonlocal declaration",GLOBAL_ANNOT="annotated name '%s' can't be global",NONLOCAL_ANNOT="annotated name '%s' can't be nonlocal",IMPORT_STAR_WARNING="import * only allowed at module level",NAMED_EXPR_COMP_IN_CLASS="assignment expression within a comprehension cannot be used in a class body",NAMED_EXPR_COMP_CONFLICT="assignment expression cannot rebind comprehension iteration variable '%s'",NAMED_EXPR_COMP_INNER_LOOP_CONFLICT="comprehension inner loop cannot rebind assignment expression target '%s'",NAMED_EXPR_COMP_ITER_EXPR="assignment expression cannot be used in a comprehension iterable expression",ANNOTATION_NOT_ALLOWED="'%s' can not be used within an annotation",DUPLICATE_ARGUMENT="duplicate argument '%s' in function definition",DEF_GLOBAL=1,DEF_LOCAL=2,DEF_PARAM=4,DEF_NONLOCAL=8,USE=16,DEF_FREE=32,DEF_FREE_CLASS=64,DEF_IMPORT=128,DEF_ANNOT=256,DEF_COMP_ITER=512,DEF_BOUND=DEF_LOCAL|DEF_PARAM|DEF_IMPORT,SCOPE_OFFSET=11,SCOPE_MASK=DEF_GLOBAL|DEF_LOCAL|DEF_PARAM|DEF_NONLOCAL,LOCAL=1,GLOBAL_EXPLICIT=2,GLOBAL_IMPLICIT=3,FREE=4,CELL=5,GENERATOR=1,GENERATOR_EXPRESSION=2,CO_FUTURE_ANNOTATIONS=16777216,TYPE_CLASS=1,TYPE_FUNCTION=0,TYPE_MODULE=2,NULL=void 0,ModuleBlock=2,ClassBlock=1,FunctionBlock=0,AnnotationBlock=4,PyExc_SyntaxError=_b_.SyntaxError;function assert(e){if(!$B.$bool(e))throw console.log("test fails",e),Error("test fails")}function LOCATION(e){return[e.lineno,e.col_offset,e.end_lineno,e.end_col_offset]}function ST_LOCATION(e){return[e.lineno,e.col_offset,e.end_lineno,e.end_col_offset]}function _Py_Mangle(e,t){var r,n;if(e==NULL||!t.startsWith("__"))return t;if(t.length,r=e.length,t.endsWith("__")||-1!=t.search(/\./))return t;for(n=0;"_"==e[n];)n++;return n==r?t:"_"+e.substr(n)+t}var top=NULL,lambda=NULL,genexpr=NULL,listcomp=NULL,setcomp=NULL,dictcomp=NULL,__class__=NULL,_annotation=NULL,NoComprehension=0,ListComprehension=1,DictComprehension=2,SetComprehension=3,GeneratorExpression=4,internals={},SET_SCOPE;function GET_IDENTIFIER(e){return e}function Symtable(){this.filename=NULL,this.stack=[],this.blocks=new Map,this.cur=NULL,this.private=NULL}function ste_new(e,t,r,n,a,s,o,i){var _;return _={table:e,id:_b_.id(n),name:t,directives:NULL,type:r,nested:0,free:0,varargs:0,varkeywords:0,opt_lineno:0,opt_col_offset:0,lineno:a,col_offset:s,end_lineno:o,end_col_offset:i},e.cur==NULL||!e.cur.nested&&e.cur.type!=FunctionBlock||(_.nested=1),_.child_free=0,_.generator=0,_.coroutine=0,_.comprehension=NoComprehension,_.returns_value=0,_.needs_class_closure=0,_.comp_iter_target=0,_.comp_iter_expr=0,_.symbols=$B.empty_dict(),_.varnames=[],_.children=[],e.blocks.set(_.id,_),_}function PySymtable_Lookup(e,t){var r=e.blocks.get(t);return r&&assert(PySTEntry_Check(r)),r}function _PyST_GetSymbol(e,t){return e.symbols.$string_dict.hasOwnProperty(t)?e.symbols.$string_dict[t][0]:0}function PyErr_Format(e,t,r){return r&&(t=_b_.str.__mod__(t,r)),e.$factory(t)}function PyErr_SetString(e,t){return e.$factory(t)}function set_exc_info(e,t,r,n,a,s){e.filename=t,e.lineno=r,e.offset=n+1,e.end_lineno=a,e.end_offset=s+1;var o=$B.file_cache[t];if(void 0!==o){var i=o.split("\n");e.text=i[r-1]}else e.text="";e.args[1]=[t,e.lineno,e.offset,e.text,e.end_lineno,e.end_offset]}function error_at_directive(e,t,r){for(var n of(assert(t.directives),t.directives))if(n[0]==r)return set_exc_info(e,t.table.filename,n[1],n[2],n[3],n[4]),0;return PyErr_SetString(PyExc_RuntimeError,"BUG: internal directive bookkeeping broken"),0}function SET_SCOPE(e,t,r){e[t]=r}function analyze_name(e,t,r,n,a,s,o,i){if(n&DEF_GLOBAL){if(n&DEF_NONLOCAL)throw error_at_directive(_=PyErr_Format(_b_.SyntaxError,"name '%s' is nonlocal and global",r),e,r),_;return SET_SCOPE(t,r,GLOBAL_EXPLICIT),i.add(r),a&&a.delete(r),1}if(n&DEF_NONLOCAL){var _;if(!a)throw error_at_directive(_=PyErr_Format(_b_.SyntaxError,"nonlocal declaration not allowed at module level"),e,r),_;if(!a.has(r))throw error_at_directive(_=PyErr_Format(_b_.SyntaxError,"no binding for nonlocal '%s' found",r),e,r),_;return SET_SCOPE(t,r,FREE),e.free=1,o.add(r),1}return n&DEF_BOUND?(SET_SCOPE(t,r,LOCAL),s.add(r),i.delete(r),1):a&&a.has(r)?(SET_SCOPE(t,r,FREE),e.free=1,o.add(r),1):i&&i.has(r)?(SET_SCOPE(t,r,GLOBAL_IMPLICIT),1):(e.nested&&(e.free=1),SET_SCOPE(t,r,GLOBAL_IMPLICIT),1)}function analyze_cells(e,t){var r,n;if(!(n=CELL))return 0;for(var a in e)r=e[a],scope=r,scope==LOCAL&&(t.has(a)||(e[a]=n,t.delete(a)));return 1}function drop_class_free(e,t){return t.delete("__class__")&&(e.needs_class_closure=1),1}function update_symbols(e,t,r,n,a){var s,o,i,_;for(var l in e.$string_dict){var c=e.$string_dict[l][0];if(!(i=c|=t[l]<<SCOPE_OFFSET))return 0;e.$string_dict[l][0]=i}_=FREE<<SCOPE_OFFSET,s=_b_.iter(n);for(var u=$B.$getattr(s,"__next__");;){try{l=u()}catch(e){break}if(o=e.$string_dict[l][0]){if(a&&o&(DEF_BOUND|DEF_GLOBAL)){if(!(i=c=o|DEF_FREE_CLASS))return 0;e.$string_dict[l][0]=i}}else r&&!r.has(l)||(e.$string_dict[l][0]=_)}return 1}function analyze_block(e,t,r,n){var a,s,o,i,_,l=NULL;for(var c in a=new Set,s={},o=new Set,i=new Set,l=new Set,e.type===ClassBlock&&(Set_Union(o,n),t&&Set_Union(l,t)),e.symbols.$string_dict){if(!analyze_name(e,s,c,e.symbols.$string_dict[c][0],t,a,r,n))return 0}for(var u of(e.type!=ClassBlock?(e.type==FunctionBlock&&Set_Union(l,a),t&&Set_Union(l,t),Set_Union(o,n)):l.add("__class__"),_=new Set,e.children)){var f=u;if(!analyze_child_block(f,l,i,o,_))return 0;(f.free||f.child_free)&&(e.child_free=1)}return Set_Union(i,_),(e.type!==FunctionBlock||analyze_cells(s,i))&&(e.type!==ClassBlock||drop_class_free(e,i))&&update_symbols(e.symbols,s,t,i,e.type===ClassBlock)?(Set_Union(r,i),1):0}function PySet_New(e){return e===NULL?new Set:new Set(e)}function Set_Union(e,t){for(let r of t)e.add(r)}function analyze_child_block(e,t,r,n,a){var s=PySet_New(t),o=PySet_New(r);return analyze_block(e,s,o,PySet_New(n))?(Set_Union(a,o),1):0}function symtable_analyze(e){var t=new Set,r=new Set;return analyze_block(e.top,NULL,t,r)}function symtable_exit_block(e){var t=e.stack.length;return e.cur=NULL,t&&(e.stack.pop(),--t&&(e.cur=e.stack[t-1])),1}function symtable_enter_block(e,t,r,n,a,s,o,i){var _,l=ste_new(e,t,r,n,a,s,o,i);return e.stack.push(l),(_=e.cur)&&(l.comp_iter_expr=_.comp_iter_expr),e.cur=l,r===AnnotationBlock||(r===ModuleBlock&&(e.global=e.cur.symbols),_&&_.children.push(l)),1}function symtable_lookup(e,t){var r=_Py_Mangle(e.private,t);return r?_PyST_GetSymbol(e.cur,r):0}function symtable_add_def_helper(e,t,r,n,a){var s,o,i,_=_Py_Mangle(e.private,t);if(!_)return 0;if((o=n.symbols).$string_dict.hasOwnProperty(_)){if(i=s=o.$string_dict[_][0],r&DEF_PARAM&&i&DEF_PARAM)throw set_exc_info(l=PyErr_Format(_b_.SyntaxError,DUPLICATE_ARGUMENT,t),e.filename,...a),l;i|=r}else i=r;if(n.comp_iter_target){var l;if(i&(DEF_GLOBAL|DEF_NONLOCAL))throw set_exc_info(l=PyErr_Format(_b_.SyntaxError,NAMED_EXPR_COMP_INNER_LOOP_CONFLICT,t),e.filename,...a),l;i|=DEF_COMP_ITER}if((s=i)==NULL)return 0;if(_b_.dict.$setitem(o,_,s),r&DEF_PARAM)n.varnames.push(_);else if(r&DEF_GLOBAL){if(i=r,e.global.hasOwnProperty(_)&&(i|=e.global[_]),(s=i)==NULL)return 0;e.global[_]=s}return 1}function symtable_add_def(e,t,r,n){return symtable_add_def_helper(e,t,r,e.cur,n)}function VISIT_QUIT(e,t){return t}function VISIT(ST,TYPE,V){var f=eval(`symtable_visit_${TYPE}`);f(ST,V)||VISIT_QUIT(ST,0)}function VISIT_SEQ(ST,TYPE,SEQ){for(var elt of SEQ)eval(`symtable_visit_${TYPE}`)(ST,elt)||VISIT_QUIT(ST,0)}function VISIT_SEQ_TAIL(ST,TYPE,SEQ,START){for(var i=START,len=SEQ.length;i<len;i++){var elt=SEQ[i];eval(`symtable_visit_${TYPE}`)(ST,elt)||VISIT_QUIT(ST,0)}}function VISIT_SEQ_WITH_NULL(ST,TYPE,SEQ){for(var elt of SEQ)elt&&(eval(`symtable_visit_${TYPE}`)(ST,elt)||VISIT_QUIT(ST,0))}function symtable_record_directive(e,t,r,n,a,s){var o,i;return e.cur.directives||(e.cur.directives=[]),(i=_Py_Mangle(e.private,t))?(o=$B.fast_tuple([i,r,n,a,s]),e.cur.directives.push(o),!0):0}function symtable_visit_stmt(e,t){switch(t.constructor){case $B.ast.FunctionDef:symtable_add_def(e,t.name,DEF_LOCAL,LOCATION(t))||VISIT_QUIT(e,0),t.args.defaults&&VISIT_SEQ(e,expr,t.args.defaults),t.args.kw_defaults&&VISIT_SEQ_WITH_NULL(e,expr,t.args.kw_defaults),symtable_visit_annotations(e,t,t.args,t.returns)||VISIT_QUIT(e,0),t.decorator_list&&VISIT_SEQ(e,expr,t.decorator_list),symtable_enter_block(e,t.name,FunctionBlock,t,...LOCATION(t))||VISIT_QUIT(e,0),VISIT(e,"arguments",t.args),VISIT_SEQ(e,stmt,t.body),symtable_exit_block(e)||VISIT_QUIT(e,0);break;case $B.ast.ClassDef:var r;symtable_add_def(e,t.name,DEF_LOCAL,LOCATION(t))||VISIT_QUIT(e,0),VISIT_SEQ(e,expr,t.bases),VISIT_SEQ(e,keyword,t.keywords),t.decorator_list&&VISIT_SEQ(e,expr,t.decorator_list),symtable_enter_block(e,t.name,ClassBlock,t,t.lineno,t.col_offset,t.end_lineno,t.end_col_offset)||VISIT_QUIT(e,0),r=e.private,e.private=t.name,VISIT_SEQ(e,stmt,t.body),e.private=r,symtable_exit_block(e)||VISIT_QUIT(e,0);break;case $B.ast.Return:t.value&&(VISIT(e,expr,t.value),e.cur.returns_value=1);break;case $B.ast.Delete:VISIT_SEQ(e,expr,t.targets);break;case $B.ast.Assign:VISIT_SEQ(e,expr,t.targets),VISIT(e,expr,t.value);break;case $B.ast.AnnAssign:if(t.target instanceof $B.ast.Name){var n=t.target;if((o=symtable_lookup(e,n.id))<0&&VISIT_QUIT(e,0),o&(DEF_GLOBAL|DEF_NONLOCAL)&&e.cur.symbols!=e.global&&t.simple)throw(_=PyErr_Format(_b_.SyntaxError,o&DEF_GLOBAL?GLOBAL_ANNOT:NONLOCAL_ANNOT,n.id)).args[1]=[e.filename,t.lineno,t.col_offset+1,t.end_lineno,t.end_col_offset+1],_;(t.simple&&!symtable_add_def(e,n.id,DEF_ANNOT|DEF_LOCAL,LOCATION(n))||t.value&&!symtable_add_def(e,n.id,DEF_LOCAL,LOCATION(n)))&&VISIT_QUIT(e,0)}else VISIT(e,expr,t.target);symtable_visit_annotation(e,t.annotation)||VISIT_QUIT(e,0),t.value&&VISIT(e,expr,t.value);break;case $B.ast.AugAssign:VISIT(e,expr,t.target),VISIT(e,expr,t.value);break;case $B.ast.For:VISIT(e,expr,t.target),VISIT(e,expr,t.iter),VISIT_SEQ(e,stmt,t.body),t.orelse&&VISIT_SEQ(e,stmt,t.orelse);break;case $B.ast.While:case $B.ast.If:VISIT(e,expr,t.test),VISIT_SEQ(e,stmt,t.body),t.orelse&&VISIT_SEQ(e,stmt,t.orelse);break;case $B.ast.Match:VISIT(e,expr,t.subject),VISIT_SEQ(e,match_case,t.cases);break;case $B.ast.Raise:t.exc&&(VISIT(e,expr,t.exc),t.cause&&VISIT(e,expr,t.cause));break;case $B.ast.Try:case $B.ast.TryStar:VISIT_SEQ(e,stmt,t.body),VISIT_SEQ(e,stmt,t.orelse),VISIT_SEQ(e,excepthandler,t.handlers),VISIT_SEQ(e,stmt,t.finalbody);break;case $B.ast.Assert:VISIT(e,expr,t.test),t.msg&&VISIT(e,expr,t.msg);break;case $B.ast.Import:case $B.ast.ImportFrom:VISIT_SEQ(e,alias,t.names);break;case $B.ast.Global:var a=t.names;for(var s of a){if((o=symtable_lookup(e,s))<0&&VISIT_QUIT(e,0),o&(DEF_PARAM|DEF_LOCAL|USE|DEF_ANNOT))throw i=o&DEF_PARAM?GLOBAL_PARAM:o&USE?GLOBAL_AFTER_USE:o&DEF_ANNOT?GLOBAL_ANNOT:GLOBAL_AFTER_ASSIGN,set_exc_info(_=PyErr_Format(_b_.SyntaxError,i,s),e.filename,t.lineno,t.col_offset,t.end_lineno,t.end_col_offset),_;symtable_add_def(e,s,DEF_GLOBAL,LOCATION(t))||VISIT_QUIT(e,0),symtable_record_directive(e,s,t.lineno,t.col_offset,t.end_lineno,t.end_col_offset)||VISIT_QUIT(e,0)}break;case $B.ast.Nonlocal:a=t.names;for(var s of a){var o,i,_;if((o=symtable_lookup(e,s))<0&&VISIT_QUIT(e,0),o&(DEF_PARAM|DEF_LOCAL|USE|DEF_ANNOT))throw i=o&DEF_PARAM?NONLOCAL_PARAM:o&USE?NONLOCAL_AFTER_USE:o&DEF_ANNOT?NONLOCAL_ANNOT:NONLOCAL_AFTER_ASSIGN,set_exc_info(_=PyErr_Format(_b_.SyntaxError,i,s),e.filename,t.lineno,t.col_offset,t.end_lineno,t.end_col_offset),_;symtable_add_def(e,s,DEF_NONLOCAL,LOCATION(t))||VISIT_QUIT(e,0),symtable_record_directive(e,s,t.lineno,t.col_offset,t.end_lineno,t.end_col_offset)||VISIT_QUIT(e,0)}break;case $B.ast.Expr:VISIT(e,expr,t.value);break;case $B.ast.Pass:case $B.ast.Break:case $B.ast.Continue:break;case $B.ast.With:VISIT_SEQ(e,"withitem",t.items),VISIT_SEQ(e,stmt,t.body);break;case $B.ast.AsyncFunctionDef:symtable_add_def(e,t.name,DEF_LOCAL,LOCATION(t))||VISIT_QUIT(e,0),t.args.defaults&&VISIT_SEQ(e,expr,t.args.defaults),t.args.kw_defaults&&VISIT_SEQ_WITH_NULL(e,expr,t.args.kw_defaults),symtable_visit_annotations(e,t,t.args,t.returns)||VISIT_QUIT(e,0),t.decorator_list&&VISIT_SEQ(e,expr,t.decorator_list),symtable_enter_block(e,t.name,FunctionBlock,t,t.lineno,t.col_offset,t.end_lineno,t.end_col_offset)||VISIT_QUIT(e,0),e.cur.coroutine=1,VISIT(e,"arguments",t.args),VISIT_SEQ(e,stmt,t.body),symtable_exit_block(e)||VISIT_QUIT(e,0);break;case $B.ast.AsyncWith:VISIT_SEQ(e,withitem,t.items),VISIT_SEQ(e,stmt,t.body);break;case $B.ast.AsyncFor:VISIT(e,expr,t.target),VISIT(e,expr,t.iter),VISIT_SEQ(e,stmt,t.body),t.orelse&&VISIT_SEQ(e,stmt,t.orelse)}VISIT_QUIT(e,1)}function symtable_extend_namedexpr_scope(e,t){assert(e.stack),assert(t instanceof $B.ast.Name);var r,n,a,s=t.id;for(assert(n=e.stack.length),r=n-1;r>=0;r--)if((a=e.stack[r]).comprehension){if(_PyST_GetSymbol(a,s)&DEF_COMP_ITER)throw set_exc_info(o=PyErr_Format(_b_.SyntaxError,NAMED_EXPR_COMP_CONFLICT,s),e.filename,t.lineno,t.col_offset,t.ed_lineno,t.end_col_offset),o}else{var o;if(a.type==FunctionBlock)return _PyST_GetSymbol(a,s)&DEF_GLOBAL?symtable_add_def(e,s,DEF_GLOBAL,LOCATION(t))||VISIT_QUIT(e,0):symtable_add_def(e,s,DEF_NONLOCAL,LOCATION(t))||VISIT_QUIT(e,0),symtable_record_directive(e,s,LOCATION(t))||VISIT_QUIT(e,0),symtable_add_def_helper(e,s,DEF_LOCAL,a,LOCATION(t));if(a.type==ModuleBlock)return symtable_add_def(e,s,DEF_GLOBAL,LOCATION(t))||VISIT_QUIT(e,0),symtable_record_directive(e,s,LOCATION(t))||VISIT_QUIT(e,0),symtable_add_def_helper(e,s,DEF_GLOBAL,a,LOCATION(t));if(a.type==ClassBlock)throw set_exc_info(o=PyErr_Format(_b_.SyntaxError,NAMED_EXPR_COMP_IN_CLASS),e.filename,t.lineno,t.col_offset,t.end_lineno,t.end_col_offset),o}return assert(0),0}function symtable_handle_namedexpr(e,t){if(e.cur.comp_iter_expr>0){var r=PyErr_Format(PyExc_SyntaxError,NAMED_EXPR_COMP_ITER_EXPR);throw set_exc_info(r,e.filename,t.lineno,t.col_offset,t.end_lineno,t.end_col_offset),r}return e.cur.comprehension&&!symtable_extend_namedexpr_scope(e,t.target)?0:(VISIT(e,expr,t.value),VISIT(e,expr,t.target),1)}$B._PySymtable_Build=function(e,t,r){var n=new Symtable;if(n.filename=t,n.future=r||{},n.type=TYPE_MODULE,!symtable_enter_block(n,"top",ModuleBlock,e,0,0,0,0))return NULL;switch(n.top=n.cur,e.constructor){case $B.ast.Module:for(var a of e.body)symtable_visit_stmt(n,a);break;case $B.ast.Expression:symtable_visit_expr(n,e.body);break;case $B.ast.Interactive:for(var a of e.body)symtable_visit_stmt(n,a)}return symtable_analyze(n),n.top};const alias="alias",comprehension="comprehension",excepthandler="excepthandler",expr="expr",keyword="keyword",match_case="match_case",pattern="pattern",stmt="stmt",withitem="withitem";function symtable_visit_expr(e,t){switch(t.constructor){case $B.ast.NamedExpr:symtable_raise_if_annotation_block(e,"named expression",t)||VISIT_QUIT(e,0),symtable_handle_namedexpr(e,t)||VISIT_QUIT(e,0);break;case $B.ast.BoolOp:VISIT_SEQ(e,"expr",t.values);break;case $B.ast.BinOp:VISIT(e,"expr",t.left),VISIT(e,"expr",t.right);break;case $B.ast.UnaryOp:VISIT(e,"expr",t.operand);break;case $B.ast.Lambda:GET_IDENTIFIER("lambda")||VISIT_QUIT(e,0),t.args.defaults&&VISIT_SEQ(e,"expr",t.args.defaults),t.args.kw_defaults&&VISIT_SEQ_WITH_NULL(e,"expr",t.args.kw_defaults),symtable_enter_block(e,lambda,FunctionBlock,t,t.lineno,t.col_offset,t.end_lineno,t.end_col_offset)||VISIT_QUIT(e,0),VISIT(e,"arguments",t.args),VISIT(e,"expr",t.body),symtable_exit_block(e)||VISIT_QUIT(e,0);break;case $B.ast.IfExp:VISIT(e,"expr",t.test),VISIT(e,"expr",t.body),VISIT(e,"expr",t.orelse);break;case $B.ast.Dict:VISIT_SEQ_WITH_NULL(e,"expr",t.keys),VISIT_SEQ(e,"expr",t.values);break;case $B.ast.Set:VISIT_SEQ(e,"expr",t.elts);break;case $B.ast.GeneratorExp:symtable_visit_genexp(e,t)||VISIT_QUIT(e,0);break;case $B.ast.ListComp:symtable_visit_listcomp(e,t)||VISIT_QUIT(e,0);break;case $B.ast.SetComp:symtable_visit_setcomp(e,t)||VISIT_QUIT(e,0);break;case $B.ast.DictComp:symtable_visit_dictcomp(e,t)||VISIT_QUIT(e,0);break;case $B.ast.Yield:if(symtable_raise_if_annotation_block(e,"yield expression",t)||VISIT_QUIT(e,0),t.value&&VISIT(e,"expr",t.value),e.cur.generator=1,e.cur.comprehension)return symtable_raise_if_comprehension_block(e,t);break;case $B.ast.YieldFrom:if(symtable_raise_if_annotation_block(e,"yield expression",t)||VISIT_QUIT(e,0),VISIT(e,"expr",t.value),e.cur.generator=1,e.cur.comprehension)return symtable_raise_if_comprehension_block(e,t);break;case $B.ast.Await:symtable_raise_if_annotation_block(e,"await expression",t)||VISIT_QUIT(e,0),VISIT(e,"expr",t.value),e.cur.coroutine=1;break;case $B.ast.Compare:VISIT(e,"expr",t.left),VISIT_SEQ(e,"expr",t.comparators);break;case $B.ast.Call:VISIT(e,"expr",t.func),VISIT_SEQ(e,"expr",t.args),VISIT_SEQ_WITH_NULL(e,"keyword",t.keywords);break;case $B.ast.FormattedValue:VISIT(e,"expr",t.value),t.format_spec&&VISIT(e,"expr",t.format_spec);break;case $B.ast.JoinedStr:VISIT_SEQ(e,"expr",t.values);break;case $B.ast.Constant:break;case $B.ast.Attribute:VISIT(e,"expr",t.value);break;case $B.ast.Subscript:VISIT(e,"expr",t.value),VISIT(e,"expr",t.slice);break;case $B.ast.Starred:VISIT(e,"expr",t.value);break;case $B.ast.Slice:t.lower&&VISIT(e,expr,t.lower),t.upper&&VISIT(e,expr,t.upper),t.step&&VISIT(e,expr,t.step);break;case $B.ast.Name:var r=t.ctx instanceof $B.ast.Load?USE:DEF_LOCAL;symtable_add_def(e,t.id,r,LOCATION(t))||VISIT_QUIT(e,0),t.ctx instanceof $B.ast.Load&&e.cur.type===$B.ast.FunctionDef&&"super"==t.id&&(GET_IDENTIFIER("__class__")&&symtable_add_def(e,"__class__",USE,LOCATION(t))||VISIT_QUIT(e,0));break;case $B.ast.List:case $B.ast.Tuple:VISIT_SEQ(e,expr,t.elts)}VISIT_QUIT(e,1)}function symtable_visit_pattern(e,t){switch(t.constructor){case $B.ast.MatchValue:VISIT(e,expr,t.value);break;case $B.ast.MatchSingleton:break;case $B.ast.MatchSequence:VISIT_SEQ(e,pattern,t.patterns);break;case $B.ast.MatchStar:t.name&&symtable_add_def(e,t.name,DEF_LOCAL,LOCATION(t));break;case $B.ast.MatchMapping:VISIT_SEQ(e,expr,t.keys),VISIT_SEQ(e,pattern,t.patterns),t.rest&&symtable_add_def(e,t.rest,DEF_LOCAL,LOCATION(t));break;case $B.ast.MatchClass:VISIT(e,expr,t.cls),VISIT_SEQ(e,pattern,t.patterns),VISIT_SEQ(e,pattern,t.kwd_patterns);break;case $B.ast.MatchAs:t.pattern&&VISIT(e,pattern,t.pattern),t.name&&symtable_add_def(e,t.name,DEF_LOCAL,LOCATION(t));break;case $B.ast.MatchOr:VISIT_SEQ(e,pattern,t.patterns)}VISIT_QUIT(e,1)}function symtable_implicit_arg(e,t){return symtable_add_def(e,"."+t,DEF_PARAM,ST_LOCATION(e.cur))?1:0}function symtable_visit_params(e,t){if(!t)return-1;for(var r of t)if(!symtable_add_def(e,r.arg,DEF_PARAM,LOCATION(r)))return 0;return 1}function symtable_visit_annotation(e,t){var r=e.future.features&CO_FUTURE_ANNOTATIONS;return r&&!symtable_enter_block(e,"_annotation",AnnotationBlock,t,t.lineno,t.col_offset,t.end_lineno,t.end_col_offset)&&VISIT_QUIT(e,0),VISIT(e,expr,t),r&&!symtable_exit_block(e)&&VISIT_QUIT(e,0),1}function symtable_visit_argannotations(e,t){if(!t)return-1;for(var r of t)r.annotation&&VISIT(e,expr,r.annotation);return 1}function symtable_visit_annotations(e,t,r,n){var a=e.future.ff_features&CO_FUTURE_ANNOTATIONS;return a&&!symtable_enter_block(e,"_annotation",AnnotationBlock,t,t.lineno,t.col_offset,t.end_lineno,t.end_col_offset)&&VISIT_QUIT(e,0),r.posonlyargs&&!symtable_visit_argannotations(e,r.posonlyargs)||r.args&&!symtable_visit_argannotations(e,r.args)?0:(r.vararg&&r.vararg.annotation&&VISIT(e,expr,r.vararg.annotation),r.kwarg&&r.kwarg.annotation&&VISIT(e,expr,r.kwarg.annotation),r.kwonlyargs&&!symtable_visit_argannotations(e,r.kwonlyargs)?0:(a&&!symtable_exit_block(e)&&VISIT_QUIT(e,0),n&&!symtable_visit_annotation(e,n)&&VISIT_QUIT(e,0),1))}function symtable_visit_arguments(e,t){if(t.posonlyargs&&!symtable_visit_params(e,t.posonlyargs))return 0;if(t.args&&!symtable_visit_params(e,t.args))return 0;if(t.kwonlyargs&&!symtable_visit_params(e,t.kwonlyargs))return 0;if(t.vararg){if(!symtable_add_def(e,t.vararg.arg,DEF_PARAM,LOCATION(t.vararg)))return 0;e.cur.varargs=1}if(t.kwarg){if(!symtable_add_def(e,t.kwarg.arg,DEF_PARAM,LOCATION(t.kwarg)))return 0;e.cur.varkeywords=1}return 1}function symtable_visit_excepthandler(e,t){return t.type&&VISIT(e,expr,t.type),t.name&&!symtable_add_def(e,t.name,DEF_LOCAL,LOCATION(t))?0:(VISIT_SEQ(e,stmt,t.body),1)}function symtable_visit_withitem(e,t){return VISIT(e,"expr",t.context_expr),t.optional_vars&&VISIT(e,"expr",t.optional_vars),1}function symtable_visit_match_case(e,t){return VISIT(e,pattern,t.pattern),t.guard&&VISIT(e,expr,t.guard),VISIT_SEQ(e,stmt,t.body),1}function symtable_visit_alias(e,t){var r,n=t.asname==NULL?t.name:t.asname,a=n.search("\\.");if(-1!=a){if(!(r=n.substring(0,a)))return 0}else r=n;if("*"!=n)return symtable_add_def(e,r,DEF_IMPORT,LOCATION(t));if(e.cur.type!=ModuleBlock){var s=t.lineno,o=t.col_offset,i=t.end_lineno,_=t.end_col_offset,l=PyErr_SetString(PyExc_SyntaxError,IMPORT_STAR_WARNING);throw set_exc_info(l,e.filename,s,o,i,_),l}return e.cur.$has_import_star=!0,1}function symtable_visit_comprehension(e,t){return e.cur.comp_iter_target=1,VISIT(e,expr,t.target),e.cur.comp_iter_target=0,e.cur.comp_iter_expr++,VISIT(e,expr,t.iter),e.cur.comp_iter_expr--,VISIT_SEQ(e,expr,t.ifs),t.is_async&&(e.cur.coroutine=1),1}function symtable_visit_keyword(e,t){return VISIT(e,expr,t.value),1}function symtable_handle_comprehension(e,t,r,n,a,s){var o=t.constructor===$B.ast.GeneratorExp,i=n[0];if(e.cur.comp_iter_expr++,VISIT(e,expr,i.iter),e.cur.comp_iter_expr--,!r||!symtable_enter_block(e,r,FunctionBlock,t,t.lineno,t.col_offset,t.end_lineno,t.end_col_offset))return 0;switch(t.constructor){case $B.ast.ListComp:e.cur.comprehension=ListComprehension;break;case $B.ast.SetComp:e.cur.comprehension=SetComprehension;break;case $B.ast.DictComp:e.cur.comprehension=DictComprehension;break;default:e.cur.comprehension=GeneratorExpression}if(i.is_async&&(e.cur.coroutine=1),!symtable_implicit_arg(e,0))return symtable_exit_block(e),0;e.cur.comp_iter_target=1,VISIT(e,expr,i.target),e.cur.comp_iter_target=0,VISIT_SEQ(e,expr,i.ifs),VISIT_SEQ_TAIL(e,comprehension,n,1),s&&VISIT(e,expr,s),VISIT(e,expr,a),e.cur.generator=o;var _=e.cur.coroutine&&!o;return symtable_exit_block(e)?(_&&(e.cur.coroutine=1),1):0}function symtable_visit_genexp(e,t){return symtable_handle_comprehension(e,t,"genexpr",t.generators,t.elt,NULL)}function symtable_visit_listcomp(e,t){return symtable_handle_comprehension(e,t,"listcomp",t.generators,t.elt,NULL)}function symtable_visit_setcomp(e,t){return symtable_handle_comprehension(e,t,"setcomp",t.generators,t.elt,NULL)}function symtable_visit_dictcomp(e,t){return symtable_handle_comprehension(e,t,"dictcomp",t.generators,t.key,t.value)}function symtable_raise_if_annotation_block(e,t,r){if(e.cur.type!=AnnotationBlock)return 1;var n=PyErr_Format(PyExc_SyntaxError,ANNOTATION_NOT_ALLOWED,t);throw set_exc_info(n,e.filename,r.lineno,r.col_offset,r.end_lineno,r.end_col_offset),n}function symtable_raise_if_comprehension_block(e,t){var r=e.cur.comprehension;PyErr_SetString(PyExc_SyntaxError,r==ListComprehension?"'yield' inside list comprehension":r==SetComprehension?"'yield' inside set comprehension":r==DictComprehension?"'yield' inside dict comprehension":"'yield' inside generator expression"),PyErr_RangedSyntaxLocationObject(e.filename,t.lineno,t.col_offset+1,t.end_lineno,t.end_col_offset+1),VISIT_QUIT(e,0)}function _Py_SymtableStringObjectFlags(e,t,r,n){var a,s,o;if((o=_PyArena_New())==NULL)return NULL;if((s=_PyParser_ASTFromString(e,t,r,n,o))==NULL)return _PyArena_Free(o),NULL;var i=_PyFuture_FromAST(s,t);return i==NULL?(_PyArena_Free(o),NULL):(i.features|=n.cf_flags,a=_PySymtable_Build(s,t,i),PyObject_Free(i),_PyArena_Free(o),a)}}(__BRYTHON__);