goog.provide("goog.async.DeferredList"),goog.require("goog.async.Deferred"),goog.async.DeferredList=function(e,s,r,t,i,n){goog.async.DeferredList.base(this,"constructor",i,n),this.list_=e,this.deferredResults_=[],this.fireOnOneCallback_=!!s,this.fireOnOneErrback_=!!r,this.consumeErrors_=!!t,this.numFinished_=0;for(var a=0;a<e.length;a++){e[a].addCallbacks(goog.bind(this.handleCallback_,this,a,!0),goog.bind(this.handleCallback_,this,a,!1))}0!=e.length||this.fireOnOneCallback_||this.callback(this.deferredResults_)},goog.inherits(goog.async.DeferredList,goog.async.Deferred),goog.async.DeferredList.prototype.handleCallback_=function(e,s,r){return this.numFinished_++,this.deferredResults_[e]=[s,r],this.hasFired()||(this.fireOnOneCallback_&&s?this.callback([e,r]):this.fireOnOneErrback_&&!s?this.errback(r):this.numFinished_==this.list_.length&&this.callback(this.deferredResults_)),this.consumeErrors_&&!s&&(r=null),r},goog.async.DeferredList.prototype.errback=function(e){goog.async.DeferredList.base(this,"errback",e);for(var s=0;s<this.list_.length;s++)this.list_[s].cancel()},goog.async.DeferredList.gatherResults=function(e){return new goog.async.DeferredList(e,!1,!0).addCallback(function(e){for(var s=[],r=0;r<e.length;r++)s[r]=e[r][1];return s})};