goog.provide("goog.fx.anim"),goog.provide("goog.fx.anim.Animated"),goog.require("goog.async.AnimationDelay"),goog.require("goog.async.Delay"),goog.require("goog.object"),goog.fx.anim.Animated=function(){},goog.fx.anim.Animated.prototype.onAnimationFrame,goog.fx.anim.TIMEOUT=goog.async.AnimationDelay.TIMEOUT,goog.fx.anim.activeAnimations_={},goog.fx.anim.animationWindow_=null,goog.fx.anim.animationDelay_=null,goog.fx.anim.registerAnimation=function(o){var n=goog.getUid(o);n in goog.fx.anim.activeAnimations_||(goog.fx.anim.activeAnimations_[n]=o),goog.fx.anim.requestAnimationFrame_()},goog.fx.anim.unregisterAnimation=function(o){var n=goog.getUid(o);delete goog.fx.anim.activeAnimations_[n],goog.object.isEmpty(goog.fx.anim.activeAnimations_)&&goog.fx.anim.cancelAnimationFrame_()},goog.fx.anim.tearDown=function(){goog.fx.anim.animationWindow_=null,goog.dispose(goog.fx.anim.animationDelay_),goog.fx.anim.animationDelay_=null,goog.fx.anim.activeAnimations_={}},goog.fx.anim.setAnimationWindow=function(o){var n=goog.fx.anim.animationDelay_&&goog.fx.anim.animationDelay_.isActive();goog.dispose(goog.fx.anim.animationDelay_),goog.fx.anim.animationDelay_=null,goog.fx.anim.animationWindow_=o,n&&goog.fx.anim.requestAnimationFrame_()},goog.fx.anim.requestAnimationFrame_=function(){goog.fx.anim.animationDelay_||(goog.fx.anim.animationWindow_?goog.fx.anim.animationDelay_=new goog.async.AnimationDelay(function(o){goog.fx.anim.cycleAnimations_(o)},goog.fx.anim.animationWindow_):goog.fx.anim.animationDelay_=new goog.async.Delay(function(){goog.fx.anim.cycleAnimations_(goog.now())},goog.fx.anim.TIMEOUT));var o=goog.fx.anim.animationDelay_;o.isActive()||o.start()},goog.fx.anim.cancelAnimationFrame_=function(){goog.fx.anim.animationDelay_&&goog.fx.anim.animationDelay_.stop()},goog.fx.anim.cycleAnimations_=function(o){goog.object.forEach(goog.fx.anim.activeAnimations_,function(n){n.onAnimationFrame(o)}),goog.object.isEmpty(goog.fx.anim.activeAnimations_)||goog.fx.anim.requestAnimationFrame_()};