goog.module("goog.iter.es6");const GoogIterable=goog.require("goog.iter.Iterable"),GoogIterator=goog.require("goog.iter.Iterator"),StopIteration=goog.require("goog.iter.StopIteration");class ShimIterable{__iterator__(){}toGoog(){}toEs6(){}static of(t){if(t instanceof ShimIterableImpl||t instanceof ShimGoogIterator||t instanceof ShimEs6Iterator)return t;if("function"==typeof t.next)return new ShimIterableImpl(()=>wrapGoog(t));if("function"==typeof t[Symbol.iterator])return new ShimIterableImpl(()=>t[Symbol.iterator]());if("function"==typeof t.__iterator__)return new ShimIterableImpl(()=>wrapGoog(t.__iterator__()));throw new Error("Not an iterator or iterable.")}}const wrapGoog=t=>{if(!(t instanceof GoogIterator))return t;let r=!1;return{next(){let e;for(;!r;)try{e=t.next();break}catch(t){if(t!==StopIteration)throw t;r=!0}return{value:e,done:r}}}};class ShimIterableImpl{constructor(t){this.func_=t}__iterator__(){return new ShimGoogIterator(this.func_())}toGoog(){return new ShimGoogIterator(this.func_())}[Symbol.iterator](){return new ShimEs6Iterator(this.func_())}toEs6(){return new ShimEs6Iterator(this.func_())}}class ShimGoogIterator extends GoogIterator{constructor(t){super(),this.iter_=t}__iterator__(){return super.__iterator__()}next(){const t=this.iter_.next();if(t.done)throw StopIteration;return t.value}toGoog(){return this}[Symbol.iterator](){return new ShimEs6Iterator(this.iter_)}toEs6(){return new ShimEs6Iterator(this.iter_)}}class ShimEs6Iterator extends ShimIterableImpl{constructor(t){super(()=>t),this.iter_=t}next(){return this.iter_.next()}}exports={ShimIterable:ShimIterable,ShimEs6Iterator:ShimEs6Iterator,ShimGoogIterator:ShimGoogIterator};