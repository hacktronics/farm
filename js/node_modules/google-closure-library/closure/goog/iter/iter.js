goog.provide("goog.iter"),goog.provide("goog.iter.Iterable"),goog.provide("goog.iter.Iterator"),goog.provide("goog.iter.StopIteration"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.functions"),goog.require("goog.math"),goog.iter.Iterable,goog.iter.StopIteration="StopIteration"in goog.global?goog.global.StopIteration:{message:"StopIteration",stack:""},goog.iter.Iterator=function(){},goog.iter.Iterator.prototype.next=function(){throw goog.iter.StopIteration},goog.iter.Iterator.prototype.__iterator__=function(t){return this},goog.iter.toIterator=function(t){if(t instanceof goog.iter.Iterator)return t;if("function"==typeof t.__iterator__)return t.__iterator__(!1);if(goog.isArrayLike(t)){var r=t,o=0,e=new goog.iter.Iterator;return e.next=function(){for(;;){if(o>=r.length)throw goog.iter.StopIteration;if(o in r)return r[o++];o++}},e}throw new Error("Not implemented")},goog.iter.forEach=function(t,r,o){if(goog.isArrayLike(t))try{goog.array.forEach(t,r,o)}catch(t){if(t!==goog.iter.StopIteration)throw t}else{t=goog.iter.toIterator(t);try{for(;;)r.call(o,t.next(),void 0,t)}catch(t){if(t!==goog.iter.StopIteration)throw t}}},goog.iter.filter=function(t,r,o){var e=goog.iter.toIterator(t),g=new goog.iter.Iterator;return g.next=function(){for(;;){var t=e.next();if(r.call(o,t,void 0,e))return t}},g},goog.iter.filterFalse=function(t,r,o){return goog.iter.filter(t,goog.functions.not(r),o)},goog.iter.range=function(t,r,o){var e=0,g=t,n=o||1;if(arguments.length>1&&(e=t,g=+r),0==n)throw new Error("Range step argument must not be zero");var i=new goog.iter.Iterator;return i.next=function(){if(n>0&&e>=g||n<0&&e<=g)throw goog.iter.StopIteration;var t=e;return e+=n,t},i},goog.iter.join=function(t,r){return goog.iter.toArray(t).join(r)},goog.iter.map=function(t,r,o){var e=goog.iter.toIterator(t),g=new goog.iter.Iterator;return g.next=function(){var t=e.next();return r.call(o,t,void 0,e)},g},goog.iter.reduce=function(t,r,o,e){var g=o;return goog.iter.forEach(t,function(t){g=r.call(e,g,t)}),g},goog.iter.some=function(t,r,o){t=goog.iter.toIterator(t);try{for(;;)if(r.call(o,t.next(),void 0,t))return!0}catch(t){if(t!==goog.iter.StopIteration)throw t}return!1},goog.iter.every=function(t,r,o){t=goog.iter.toIterator(t);try{for(;;)if(!r.call(o,t.next(),void 0,t))return!1}catch(t){if(t!==goog.iter.StopIteration)throw t}return!0},goog.iter.chain=function(t){return goog.iter.chainFromIterable(arguments)},goog.iter.chainFromIterable=function(t){var r=goog.iter.toIterator(t),o=new goog.iter.Iterator,e=null;return o.next=function(){for(;;){if(null==e){var t=r.next();e=goog.iter.toIterator(t)}try{return e.next()}catch(t){if(t!==goog.iter.StopIteration)throw t;e=null}}},o},goog.iter.dropWhile=function(t,r,o){var e=goog.iter.toIterator(t),g=new goog.iter.Iterator,n=!0;return g.next=function(){for(;;){var t=e.next();if(!n||!r.call(o,t,void 0,e))return n=!1,t}},g},goog.iter.takeWhile=function(t,r,o){var e=goog.iter.toIterator(t),g=new goog.iter.Iterator;return g.next=function(){var t=e.next();if(r.call(o,t,void 0,e))return t;throw goog.iter.StopIteration},g},goog.iter.toArray=function(t){if(goog.isArrayLike(t))return goog.array.toArray(t);t=goog.iter.toIterator(t);var r=[];return goog.iter.forEach(t,function(t){r.push(t)}),r},goog.iter.equals=function(t,r,o){var e=goog.iter.zipLongest({},t,r),g=o||goog.array.defaultCompareEquality;return goog.iter.every(e,function(t){return g(t[0],t[1])})},goog.iter.nextOrValue=function(t,r){try{return goog.iter.toIterator(t).next()}catch(t){if(t!=goog.iter.StopIteration)throw t;return r}},goog.iter.product=function(t){if(goog.array.some(arguments,function(t){return!t.length})||!arguments.length)return new goog.iter.Iterator;var r=new goog.iter.Iterator,o=arguments,e=goog.array.repeat(0,o.length);return r.next=function(){if(e){for(var t=goog.array.map(e,function(t,r){return o[r][t]}),r=e.length-1;r>=0;r--){if(goog.asserts.assert(e),e[r]<o[r].length-1){e[r]++;break}if(0==r){e=null;break}e[r]=0}return t}throw goog.iter.StopIteration},r},goog.iter.cycle=function(t){var r=goog.iter.toIterator(t),o=[],e=0,g=new goog.iter.Iterator,n=!1;return g.next=function(){var t=null;if(!n)try{return t=r.next(),o.push(t),t}catch(t){if(t!=goog.iter.StopIteration||goog.array.isEmpty(o))throw t;n=!0}return t=o[e],e=(e+1)%o.length,t},g},goog.iter.count=function(t,r){var o=t||0,e=void 0!==r?r:1,g=new goog.iter.Iterator;return g.next=function(){var t=o;return o+=e,t},g},goog.iter.repeat=function(t){var r=new goog.iter.Iterator;return r.next=goog.functions.constant(t),r},goog.iter.accumulate=function(t){var r=goog.iter.toIterator(t),o=0,e=new goog.iter.Iterator;return e.next=function(){return o+=r.next()},e},goog.iter.zip=function(t){var r=arguments,o=new goog.iter.Iterator;if(r.length>0){var e=goog.array.map(r,goog.iter.toIterator);o.next=function(){return goog.array.map(e,function(t){return t.next()})}}return o},goog.iter.zipLongest=function(t,r){var o=goog.array.slice(arguments,1),e=new goog.iter.Iterator;if(o.length>0){var g=goog.array.map(o,goog.iter.toIterator);e.next=function(){var r=!1,o=goog.array.map(g,function(o){var e;try{e=o.next(),r=!0}catch(r){if(r!==goog.iter.StopIteration)throw r;e=t}return e});if(!r)throw goog.iter.StopIteration;return o}}return e},goog.iter.compress=function(t,r){var o=goog.iter.toIterator(r);return goog.iter.filter(t,function(){return!!o.next()})},goog.iter.GroupByIterator_=function(t,r){this.iterator=goog.iter.toIterator(t),this.keyFunc=r||goog.functions.identity,this.targetKey,this.currentKey,this.currentValue},goog.inherits(goog.iter.GroupByIterator_,goog.iter.Iterator),goog.iter.GroupByIterator_.prototype.next=function(){for(;this.currentKey==this.targetKey;)this.currentValue=this.iterator.next(),this.currentKey=this.keyFunc(this.currentValue);return this.targetKey=this.currentKey,[this.currentKey,this.groupItems_(this.targetKey)]},goog.iter.GroupByIterator_.prototype.groupItems_=function(t){for(var r=[];this.currentKey==t;){r.push(this.currentValue);try{this.currentValue=this.iterator.next()}catch(t){if(t!==goog.iter.StopIteration)throw t;break}this.currentKey=this.keyFunc(this.currentValue)}return r},goog.iter.groupBy=function(t,r){return new goog.iter.GroupByIterator_(t,r)},goog.iter.starMap=function(t,r,o){var e=goog.iter.toIterator(t),g=new goog.iter.Iterator;return g.next=function(){var t=goog.iter.toArray(e.next());return r.apply(o,goog.array.concat(t,void 0,e))},g},goog.iter.tee=function(t,r){var o=goog.iter.toIterator(t),e="number"==typeof r?r:2,g=goog.array.map(goog.array.range(e),function(){return[]});return goog.array.map(g,function(t){var r=new goog.iter.Iterator;return r.next=function(){var r;return goog.array.isEmpty(t)&&(r=o.next(),goog.array.forEach(g,function(t){t.push(r)})),goog.asserts.assert(!goog.array.isEmpty(t)),t.shift()},r})},goog.iter.enumerate=function(t,r){return goog.iter.zip(goog.iter.count(r),t)},goog.iter.limit=function(t,r){goog.asserts.assert(goog.math.isInt(r)&&r>=0);var o=goog.iter.toIterator(t),e=new goog.iter.Iterator,g=r;return e.next=function(){if(g-- >0)return o.next();throw goog.iter.StopIteration},e},goog.iter.consume=function(t,r){goog.asserts.assert(goog.math.isInt(r)&&r>=0);for(var o=goog.iter.toIterator(t);r-- >0;)goog.iter.nextOrValue(o,null);return o},goog.iter.slice=function(t,r,o){goog.asserts.assert(goog.math.isInt(r)&&r>=0);var e=goog.iter.consume(t,r);return"number"==typeof o&&(goog.asserts.assert(goog.math.isInt(o)&&o>=r),e=goog.iter.limit(e,o-r)),e},goog.iter.hasDuplicates_=function(t){var r=[];return goog.array.removeDuplicates(t,r),t.length!=r.length},goog.iter.permutations=function(t,r){var o=goog.iter.toArray(t),e="number"==typeof r?r:o.length,g=goog.array.repeat(o,e),n=goog.iter.product.apply(void 0,g);return goog.iter.filter(n,function(t){return!goog.iter.hasDuplicates_(t)})},goog.iter.combinations=function(t,r){var o=goog.iter.toArray(t),e=goog.iter.range(o.length),g=goog.iter.permutations(e,r),n=goog.iter.filter(g,function(t){return goog.array.isSorted(t)}),i=new goog.iter.Iterator;function a(t){return o[t]}return i.next=function(){return goog.array.map(n.next(),a)},i},goog.iter.combinationsWithReplacement=function(t,r){var o=goog.iter.toArray(t),e=goog.array.range(o.length),g=goog.array.repeat(e,r),n=goog.iter.product.apply(void 0,g),i=goog.iter.filter(n,function(t){return goog.array.isSorted(t)}),a=new goog.iter.Iterator;function u(t){return o[t]}return a.next=function(){return goog.array.map(i.next(),u)},a};