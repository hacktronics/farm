goog.provide("goog.date.relative"),goog.provide("goog.date.relative.TimeDeltaFormatter"),goog.provide("goog.date.relative.Unit"),goog.require("goog.i18n.DateTimeFormat"),goog.require("goog.i18n.DateTimePatterns"),goog.require("goog.i18n.RelativeDateTimeFormat"),goog.scope(function(){var e=goog.module.get("goog.i18n.RelativeDateTimeFormat");goog.date.relative.MINUTE_MS_=6e4,goog.date.relative.DAY_MS_=864e5,goog.date.relative.FORTNIGHT_=14,goog.date.relative.SURROGATE_LOW_=55296,goog.date.relative.SURROGATE_HIGH_=57343,goog.date.relative.Unit={MINUTES:0,HOURS:1,DAYS:2},goog.date.relative.fullDateFormatter_,goog.date.relative.shortTimeFormatter_,goog.date.relative.monthDateFormatter_,goog.date.relative.casingMode_=!0,goog.date.relative.formatTimeDelta_,goog.date.relative.TimeDeltaFormatter,goog.date.relative.setTimeDeltaFormatter=function(e){goog.date.relative.formatTimeDelta_=e},goog.date.relative.setCasingMode=function(e){goog.date.relative.casingMode_=e},goog.date.relative.upcase=function(e){var t=1,o=e.charCodeAt(0);return o>=goog.date.relative.SURROGATE_LOW_&&o<=goog.date.relative.SURROGATE_HIGH_&&(t=2),e=e.substring(0,t).toLocaleUpperCase()+e.substring(t)},goog.date.relative.relativeCasedString_=function(t){var o=new e(e.NumericOption.AUTO).format(t,e.Unit.DAY);return!o||o.match(/[0-9\u0660-\u0669\u06f0-\u06f9]/g)?null:goog.date.relative.casingMode_?goog.date.relative.upcase(o):o},goog.date.relative.formatMonth_=function(e){return goog.date.relative.monthDateFormatter_||(goog.date.relative.monthDateFormatter_=new goog.i18n.DateTimeFormat(goog.i18n.DateTimePatterns.MONTH_DAY_ABBR)),goog.date.relative.monthDateFormatter_.format(e)},goog.date.relative.formatShortTime_=function(e){return goog.date.relative.shortTimeFormatter_||(goog.date.relative.shortTimeFormatter_=new goog.i18n.DateTimeFormat(goog.i18n.DateTimeFormat.Format.SHORT_TIME)),goog.date.relative.shortTimeFormatter_.format(e)},goog.date.relative.formatFullDate_=function(e){return goog.date.relative.fullDateFormatter_||(goog.date.relative.fullDateFormatter_=new goog.i18n.DateTimeFormat(goog.i18n.DateTimeFormat.Format.FULL_DATE)),goog.date.relative.fullDateFormatter_.format(e)},goog.date.relative.rdtformat_=function(t,o,a){var r,g=o?t:-t,i=new e;switch(a){case goog.date.relative.Unit.MINUTES:r=e.Unit.MINUTE;break;case goog.date.relative.Unit.HOURS:r=e.Unit.HOUR;break;default:case goog.date.relative.Unit.DAYS:r=e.Unit.DAY}return i.format(g,r)},goog.date.relative.format=function(e){var t=goog.now(),o=Math.floor((t-e)/goog.date.relative.MINUTE_MS_),a=!1;if(o<0&&(a=!0,o*=-1),o<60)return goog.date.relative.formatTimeDelta_(o,a,goog.date.relative.Unit.MINUTES);if((o=Math.floor(o/60))<24)return goog.date.relative.formatTimeDelta_(o,a,goog.date.relative.Unit.HOURS);var r=new Date(goog.now());return r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0),o=Math.ceil((r.getTime()-e)/goog.date.relative.DAY_MS_),a&&(o*=-1),o<goog.date.relative.FORTNIGHT_?goog.date.relative.formatTimeDelta_(o,a,goog.date.relative.Unit.DAYS):""},goog.date.relative.formatPast=function(e){var t=goog.now();return t<e&&(e=t),goog.date.relative.format(e)},goog.date.relative.formatDay=function(e,t){var o=new Date(goog.now());o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0);var a=(e-o.getTime())/goog.date.relative.DAY_MS_;a=Math.floor(a);var r=goog.date.relative.relativeCasedString_(a);return r||(t||goog.date.relative.formatMonth_)(new Date(e))},goog.date.relative.getDateString=function(e,t,o){return goog.date.relative.getDateString_(e,goog.date.relative.format,t,o)},goog.date.relative.getPastDateString=function(e,t,o){return goog.date.relative.getDateString_(e,goog.date.relative.formatPast,t,o)},goog.date.relative.getDateString_=function(e,t,o,a){var r=e.getTime(),g=t(r);return g&&(g=" ("+g+")"),Math.floor((goog.now()-r)/goog.date.relative.MINUTE_MS_)<1440?(o||goog.date.relative.formatShortTime_(e))+g:(a||goog.date.relative.formatFullDate_(e))+g}}),goog.date.relative.setTimeDeltaFormatter(goog.date.relative.rdtformat_);