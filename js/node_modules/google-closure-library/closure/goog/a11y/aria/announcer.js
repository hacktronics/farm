goog.provide("goog.a11y.aria.Announcer"),goog.require("goog.Disposable"),goog.require("goog.Timer"),goog.require("goog.a11y.aria"),goog.require("goog.a11y.aria.LivePriority"),goog.require("goog.a11y.aria.State"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.object"),goog.a11y.aria.Announcer=function(o){goog.a11y.aria.Announcer.base(this,"constructor"),this.domHelper_=o||goog.dom.getDomHelper(),this.liveRegions_={}},goog.inherits(goog.a11y.aria.Announcer,goog.Disposable),goog.a11y.aria.Announcer.prototype.disposeInternal=function(){goog.object.forEach(this.liveRegions_,this.domHelper_.removeNode,this.domHelper_),this.liveRegions_=null,this.domHelper_=null,goog.a11y.aria.Announcer.base(this,"disposeInternal")},goog.a11y.aria.Announcer.prototype.say=function(o,e){var g=e||goog.a11y.aria.LivePriority.POLITE,a=this.getLiveRegion_(g);goog.dom.setTextContent(a,""),goog.Timer.callOnce(function(){goog.dom.setTextContent(a,o)},1)},goog.a11y.aria.Announcer.prototype.getLiveRegion_=function(o){var e=this.liveRegions_[o];return e?(goog.a11y.aria.removeState(e,goog.a11y.aria.State.HIDDEN),e):((e=this.domHelper_.createElement(goog.dom.TagName.DIV)).style.position="absolute",e.style.top="-1000px",e.style.height="1px",e.style.overflow="hidden",goog.a11y.aria.setState(e,goog.a11y.aria.State.LIVE,o),goog.a11y.aria.setState(e,goog.a11y.aria.State.ATOMIC,"true"),this.domHelper_.getDocument().body.appendChild(e),this.liveRegions_[o]=e,e)};