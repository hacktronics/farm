goog.provide("goog.ui.Popup"),goog.require("goog.math.Box"),goog.require("goog.positioning.AbstractPosition"),goog.require("goog.positioning.Corner"),goog.require("goog.style"),goog.require("goog.ui.PopupBase"),goog.ui.Popup=function(o,i){this.popupCorner_=goog.positioning.Corner.TOP_START,this.position_=i||void 0,goog.ui.PopupBase.call(this,o)},goog.inherits(goog.ui.Popup,goog.ui.PopupBase),goog.tagUnsealableClass(goog.ui.Popup),goog.ui.Popup.prototype.margin_,goog.ui.Popup.prototype.getPinnedCorner=function(){return this.popupCorner_},goog.ui.Popup.prototype.setPinnedCorner=function(o){this.popupCorner_=o,this.isVisible()&&this.reposition()},goog.ui.Popup.prototype.getPosition=function(){return this.position_||null},goog.ui.Popup.prototype.setPosition=function(o){this.position_=o||void 0,this.isVisible()&&this.reposition()},goog.ui.Popup.prototype.getMargin=function(){return this.margin_||null},goog.ui.Popup.prototype.setMargin=function(o,i,t,g){null==o||o instanceof goog.math.Box?this.margin_=o:this.margin_=new goog.math.Box(o,i,t,g),this.isVisible()&&this.reposition()},goog.ui.Popup.prototype.reposition=function(){if(this.position_){var o=!this.isVisible()&&this.getType()!=goog.ui.PopupBase.Type.MOVE_OFFSCREEN,i=this.getElement();o&&(i.style.visibility="hidden",goog.style.setElementShown(i,!0)),this.position_.reposition(i,this.popupCorner_,this.margin_),o&&goog.style.setElementShown(i,!1)}};