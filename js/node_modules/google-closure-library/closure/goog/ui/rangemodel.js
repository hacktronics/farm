goog.provide("goog.ui.RangeModel"),goog.require("goog.events.EventTarget"),goog.require("goog.ui.Component"),goog.ui.RangeModel=function(){goog.events.EventTarget.call(this)},goog.inherits(goog.ui.RangeModel,goog.events.EventTarget),goog.tagUnsealableClass(goog.ui.RangeModel),goog.ui.RangeModel.prototype.value_=0,goog.ui.RangeModel.prototype.minimum_=0,goog.ui.RangeModel.prototype.maximum_=100,goog.ui.RangeModel.prototype.extent_=0,goog.ui.RangeModel.prototype.step_=1,goog.ui.RangeModel.prototype.isChanging_=!1,goog.ui.RangeModel.prototype.mute_=!1,goog.ui.RangeModel.prototype.setMute=function(t){this.mute_=t},goog.ui.RangeModel.prototype.setValue=function(t){t=this.roundToStepWithMin(t),this.value_!=t&&(t+this.extent_>this.maximum_?this.value_=this.maximum_-this.extent_:t<this.minimum_?this.value_=this.minimum_:this.value_=t,this.isChanging_||this.mute_||this.dispatchEvent(goog.ui.Component.EventType.CHANGE))},goog.ui.RangeModel.prototype.getValue=function(){return this.roundToStepWithMin(this.value_)},goog.ui.RangeModel.prototype.setExtent=function(t){t=this.roundToStepWithMin(t),this.extent_!=t&&(t<0?this.extent_=0:this.value_+t>this.maximum_?this.extent_=this.maximum_-this.value_:this.extent_=t,this.isChanging_||this.mute_||this.dispatchEvent(goog.ui.Component.EventType.CHANGE))},goog.ui.RangeModel.prototype.getExtent=function(){return this.roundToStep(this.extent_)},goog.ui.RangeModel.prototype.setMinimum=function(t){if(this.minimum_!=t){var i=this.isChanging_;this.isChanging_=!0,this.minimum_=t,t+this.extent_>this.maximum_&&(this.extent_=this.maximum_-this.minimum_),t>this.value_&&this.setValue(t),t>this.maximum_&&(this.extent_=0,this.setMaximum(t),this.setValue(t)),this.isChanging_=i,this.isChanging_||this.mute_||this.dispatchEvent(goog.ui.Component.EventType.CHANGE)}},goog.ui.RangeModel.prototype.getMinimum=function(){return this.roundToStepWithMin(this.minimum_)},goog.ui.RangeModel.prototype.setMaximum=function(t){if(t=this.roundToStepWithMin(t),this.maximum_!=t){var i=this.isChanging_;this.isChanging_=!0,this.maximum_=t,t<this.value_+this.extent_&&this.setValue(t-this.extent_),t<this.minimum_&&(this.extent_=0,this.setMinimum(t),this.setValue(this.maximum_)),t<this.minimum_+this.extent_&&(this.extent_=this.maximum_-this.minimum_),this.isChanging_=i,this.isChanging_||this.mute_||this.dispatchEvent(goog.ui.Component.EventType.CHANGE)}},goog.ui.RangeModel.prototype.getMaximum=function(){return this.roundToStepWithMin(this.maximum_)},goog.ui.RangeModel.prototype.getStep=function(){return this.step_},goog.ui.RangeModel.prototype.setStep=function(t){if(this.step_!=t){this.step_=t;var i=this.isChanging_;this.isChanging_=!0,this.setMaximum(this.getMaximum()),this.setExtent(this.getExtent()),this.setValue(this.getValue()),this.isChanging_=i,this.isChanging_||this.mute_||this.dispatchEvent(goog.ui.Component.EventType.CHANGE)}},goog.ui.RangeModel.prototype.roundToStepWithMin=function(t){return null==this.step_?t:this.minimum_+Math.round((t-this.minimum_)/this.step_)*this.step_},goog.ui.RangeModel.prototype.roundToStep=function(t){return null==this.step_?t:Math.round(t/this.step_)*this.step_};