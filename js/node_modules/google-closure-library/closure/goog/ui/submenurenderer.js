goog.provide("goog.ui.SubMenuRenderer"),goog.forwardDeclare("goog.ui.SubMenu"),goog.require("goog.a11y.aria"),goog.require("goog.a11y.aria.State"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.dom.classlist"),goog.require("goog.style"),goog.require("goog.ui.Menu"),goog.require("goog.ui.MenuItemRenderer"),goog.ui.SubMenuRenderer=function(){goog.ui.MenuItemRenderer.call(this)},goog.inherits(goog.ui.SubMenuRenderer,goog.ui.MenuItemRenderer),goog.addSingletonGetter(goog.ui.SubMenuRenderer),goog.ui.SubMenuRenderer.CSS_CLASS=goog.getCssName("goog-submenu"),goog.ui.SubMenuRenderer.CSS_CLASS_SUBMENU_=goog.getCssName("goog-submenu-arrow"),goog.ui.SubMenuRenderer.prototype.createDom=function(e){var o=e,g=goog.ui.SubMenuRenderer.superClass_.createDom.call(this,o);return goog.asserts.assert(g),goog.dom.classlist.add(g,goog.ui.SubMenuRenderer.CSS_CLASS),this.addArrow_(o,g),g},goog.ui.SubMenuRenderer.prototype.decorate=function(e,o){var g=e;o=goog.ui.SubMenuRenderer.superClass_.decorate.call(this,g,o),goog.asserts.assert(o),goog.dom.classlist.add(o,goog.ui.SubMenuRenderer.CSS_CLASS),this.addArrow_(g,o);var r=goog.dom.getElementsByTagNameAndClass(goog.dom.TagName.DIV,goog.getCssName("goog-menu"),o);if(r.length){var n=new goog.ui.Menu(g.getDomHelper()),t=r[0];goog.style.setElementShown(t,!1),g.getDomHelper().getDocument().body.appendChild(t),n.decorate(t),g.setMenu(n,!0)}return o},goog.ui.SubMenuRenderer.prototype.setContent=function(e,o){var g=this.getContentElement(e),r=g&&g.lastChild;goog.ui.SubMenuRenderer.superClass_.setContent.call(this,e,o),r&&g.lastChild!=r&&goog.dom.classlist.contains(r,goog.ui.SubMenuRenderer.CSS_CLASS_SUBMENU_)&&g.appendChild(r)},goog.ui.SubMenuRenderer.prototype.initializeDom=function(e){var o=e;goog.ui.SubMenuRenderer.superClass_.initializeDom.call(this,o);var g=o.getContentElement(),r=o.getDomHelper().getElementsByTagNameAndClass(goog.dom.TagName.SPAN,goog.ui.SubMenuRenderer.CSS_CLASS_SUBMENU_,g)[0];goog.ui.SubMenuRenderer.setArrowTextContent_(o,r),r!=g.lastChild&&g.appendChild(r);var n=o.getElement();goog.asserts.assert(n,"The sub menu DOM element cannot be null."),goog.a11y.aria.setState(n,goog.a11y.aria.State.HASPOPUP,"true")},goog.ui.SubMenuRenderer.prototype.addArrow_=function(e,o){var g=e.getDomHelper().createDom(goog.dom.TagName.SPAN);g.className=goog.ui.SubMenuRenderer.CSS_CLASS_SUBMENU_,goog.ui.SubMenuRenderer.setArrowTextContent_(e,g),this.getContentElement(o).appendChild(g)},goog.ui.SubMenuRenderer.LEFT_ARROW_="◄",goog.ui.SubMenuRenderer.RIGHT_ARROW_="►",goog.ui.SubMenuRenderer.setArrowTextContent_=function(e,o){var g=goog.ui.SubMenuRenderer.LEFT_ARROW_,r=goog.ui.SubMenuRenderer.RIGHT_ARROW_;goog.asserts.assert(o),e.isRightToLeft()?(goog.dom.classlist.add(o,goog.getCssName("goog-submenu-arrow-rtl")),goog.dom.setTextContent(o,e.isAlignedToEnd()?g:r)):(goog.dom.classlist.remove(o,goog.getCssName("goog-submenu-arrow-rtl")),goog.dom.setTextContent(o,e.isAlignedToEnd()?r:g))};