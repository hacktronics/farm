goog.provide("goog.ui.editor.AbstractDialog"),goog.provide("goog.ui.editor.AbstractDialog.Builder"),goog.provide("goog.ui.editor.AbstractDialog.EventType"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.classlist"),goog.require("goog.events.EventTarget"),goog.require("goog.string"),goog.require("goog.ui.Dialog"),goog.require("goog.ui.PopupBase"),goog.ui.editor.AbstractDialog=function(t){goog.ui.editor.AbstractDialog.base(this,"constructor"),this.dom=t,this.dialogInternal_=null},goog.inherits(goog.ui.editor.AbstractDialog,goog.events.EventTarget),goog.ui.editor.AbstractDialog.prototype.show=function(){this.dialogInternal_||(this.dialogInternal_=this.createDialogControl(),this.dialogInternal_.listen(goog.ui.PopupBase.EventType.HIDE,this.handleAfterHide_,!1,this)),this.dialogInternal_.setVisible(!0)},goog.ui.editor.AbstractDialog.prototype.hide=function(){this.dialogInternal_&&this.dialogInternal_.setVisible(!1)},goog.ui.editor.AbstractDialog.prototype.isOpen=function(){return!!this.dialogInternal_&&this.dialogInternal_.isVisible()},goog.ui.editor.AbstractDialog.prototype.processOkAndClose=function(){var t=new goog.ui.Dialog.Event(goog.ui.Dialog.DefaultButtonKeys.OK,null);this.handleOk(t)&&this.hide()},goog.ui.editor.AbstractDialog.EventType={AFTER_HIDE:"afterhide",CANCEL:"cancel",OK:"ok"},goog.ui.editor.AbstractDialog.Builder=function(t){this.editorDialog_=t,this.wrappedDialog_=new goog.ui.Dialog("",!0,this.editorDialog_.dom),this.buttonSet_=new goog.ui.Dialog.ButtonSet(this.editorDialog_.dom),this.buttonHandlers_={},this.addClassName(goog.getCssName("tr-dialog"))},goog.ui.editor.AbstractDialog.Builder.prototype.setTitle=function(t){return this.wrappedDialog_.setTitle(t),this},goog.ui.editor.AbstractDialog.Builder.prototype.addOkButton=function(t){var o=goog.ui.Dialog.DefaultButtonKeys.OK,i=goog.getMsg("OK");return this.buttonSet_.set(o,t||i,!0),this.buttonHandlers_[o]=goog.bind(this.editorDialog_.handleOk,this.editorDialog_),this},goog.ui.editor.AbstractDialog.Builder.prototype.addCancelButton=function(t){var o=goog.ui.Dialog.DefaultButtonKeys.CANCEL,i=goog.getMsg("Cancel");return this.buttonSet_.set(o,t||i,!1,!0),this.buttonHandlers_[o]=goog.bind(this.editorDialog_.handleCancel,this.editorDialog_),this},goog.ui.editor.AbstractDialog.Builder.prototype.addButton=function(t,o,i){var e=i||goog.string.createUniqueString();return this.buttonSet_.set(e,t),this.buttonHandlers_[e]=o,this},goog.ui.editor.AbstractDialog.Builder.prototype.addClassName=function(t){return goog.dom.classlist.add(goog.asserts.assert(this.wrappedDialog_.getDialogElement()),t),this},goog.ui.editor.AbstractDialog.Builder.prototype.setContent=function(t){return goog.dom.appendChild(this.wrappedDialog_.getContentElement(),t),this},goog.ui.editor.AbstractDialog.Builder.prototype.build=function(){this.buttonSet_.isEmpty()&&(this.addOkButton(),this.addCancelButton()),this.wrappedDialog_.setButtonSet(this.buttonSet_);var t=this.buttonHandlers_;this.buttonHandlers_=null,this.wrappedDialog_.listen(goog.ui.Dialog.EventType.SELECT,function(o){if(t[o.key])return t[o.key](o)}),this.wrappedDialog_.setModal(!0);var o=this.wrappedDialog_;return this.wrappedDialog_=null,o},goog.ui.editor.AbstractDialog.Builder.prototype.editorDialog_,goog.ui.editor.AbstractDialog.Builder.prototype.wrappedDialog_,goog.ui.editor.AbstractDialog.Builder.prototype.buttonSet_,goog.ui.editor.AbstractDialog.Builder.prototype.buttonHandlers_,goog.ui.editor.AbstractDialog.prototype.dom,goog.ui.editor.AbstractDialog.prototype.createDialogControl=goog.abstractMethod,goog.ui.editor.AbstractDialog.prototype.getOkButtonElement=function(){return this.getButtonElement(goog.ui.Dialog.DefaultButtonKeys.OK)},goog.ui.editor.AbstractDialog.prototype.getCancelButtonElement=function(){return this.getButtonElement(goog.ui.Dialog.DefaultButtonKeys.CANCEL)},goog.ui.editor.AbstractDialog.prototype.getButtonElement=function(t){return this.dialogInternal_.getButtonSet().getButton(t)},goog.ui.editor.AbstractDialog.prototype.createOkEvent=goog.abstractMethod,goog.ui.editor.AbstractDialog.prototype.handleOk=function(t){var o=this.createOkEvent(t);return!!o&&this.dispatchEvent(o)},goog.ui.editor.AbstractDialog.prototype.handleCancel=function(){return this.dispatchEvent(goog.ui.editor.AbstractDialog.EventType.CANCEL)},goog.ui.editor.AbstractDialog.prototype.disposeInternal=function(){this.dialogInternal_&&(this.hide(),this.dialogInternal_.dispose(),this.dialogInternal_=null),goog.ui.editor.AbstractDialog.superClass_.disposeInternal.call(this)},goog.ui.editor.AbstractDialog.prototype.handleAfterHide_=function(){this.dispatchEvent(goog.ui.editor.AbstractDialog.EventType.AFTER_HIDE)};