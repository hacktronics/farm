goog.provide("goog.ui.ColorPalette"),goog.require("goog.array"),goog.require("goog.color"),goog.require("goog.dom.TagName"),goog.require("goog.style"),goog.require("goog.ui.Palette"),goog.require("goog.ui.PaletteRenderer"),goog.ui.ColorPalette=function(o,e,t){this.colors_=o||[],goog.ui.Palette.call(this,null,e||goog.ui.PaletteRenderer.getInstance(),t),this.setColors(this.colors_)},goog.inherits(goog.ui.ColorPalette,goog.ui.Palette),goog.tagUnsealableClass(goog.ui.ColorPalette),goog.ui.ColorPalette.prototype.normalizedColors_=null,goog.ui.ColorPalette.prototype.labels_=null,goog.ui.ColorPalette.prototype.getColors=function(){return this.colors_},goog.ui.ColorPalette.prototype.setColors=function(o,e){this.colors_=o,this.labels_=e||null,this.normalizedColors_=null,this.setContent(this.createColorNodes())},goog.ui.ColorPalette.prototype.getSelectedColor=function(){var o=this.getSelectedItem();if(o){var e=goog.style.getStyle(o,"background-color");return goog.ui.ColorPalette.parseColor_(e)}return null},goog.ui.ColorPalette.prototype.setSelectedColor=function(o){var e=goog.ui.ColorPalette.parseColor_(o);this.normalizedColors_||(this.normalizedColors_=goog.array.map(this.colors_,function(o){return goog.ui.ColorPalette.parseColor_(o)})),this.setSelectedIndex(e?goog.array.indexOf(this.normalizedColors_,e):-1)},goog.ui.ColorPalette.prototype.createColorNodes=function(){return goog.array.map(this.colors_,function(o,e){var t=this.getDomHelper().createDom(goog.dom.TagName.DIV,{class:goog.getCssName(this.getRenderer().getCssClass(),"colorswatch"),style:"background-color:"+o});return this.labels_&&this.labels_[e]?t.title=this.labels_[e]:t.title="#"==o.charAt(0)?"RGB ("+goog.color.hexToRgb(o).join(", ")+")":o,t},this)},goog.ui.ColorPalette.parseColor_=function(o){if(o)try{return goog.color.parse(o).hex}catch(o){}return null};