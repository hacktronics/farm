goog.provide("goog.ui.media.GoogleVideo"),goog.provide("goog.ui.media.GoogleVideoModel"),goog.require("goog.html.TrustedResourceUrl"),goog.require("goog.string"),goog.require("goog.string.Const"),goog.require("goog.ui.media.FlashObject"),goog.require("goog.ui.media.Media"),goog.require("goog.ui.media.MediaModel"),goog.require("goog.ui.media.MediaRenderer"),goog.ui.media.GoogleVideo=function(){goog.ui.media.MediaRenderer.call(this)},goog.inherits(goog.ui.media.GoogleVideo,goog.ui.media.MediaRenderer),goog.addSingletonGetter(goog.ui.media.GoogleVideo),goog.ui.media.GoogleVideo.newControl=function(o,e){var i=new goog.ui.media.Media(o,goog.ui.media.GoogleVideo.getInstance(),e);return i.setSelected(!0),i},goog.ui.media.GoogleVideo.CSS_CLASS=goog.getCssName("goog-ui-media-googlevideo"),goog.ui.media.GoogleVideo.prototype.createDom=function(o){var e=o,i=goog.ui.media.GoogleVideo.base(this,"createDom",e),g=e.getDataModel();return new goog.ui.media.FlashObject(g.getPlayer().getTrustedResourceUrl(),e.getDomHelper()).render(i),i},goog.ui.media.GoogleVideo.prototype.getCssClass=function(){return goog.ui.media.GoogleVideo.CSS_CLASS},goog.ui.media.GoogleVideoModel=function(o,e,i,g){goog.ui.media.MediaModel.call(this,goog.ui.media.GoogleVideoModel.buildUrl(o),e,i,goog.ui.media.MediaModel.MimeType.FLASH),this.videoId_=o,this.setPlayer(new goog.ui.media.MediaModel.Player(goog.ui.media.GoogleVideoModel.buildFlashUrl(o,g)))},goog.inherits(goog.ui.media.GoogleVideoModel,goog.ui.media.MediaModel),goog.ui.media.GoogleVideoModel.MATCHER_=/^https?:\/\/(?:www\.)?video\.google\.com\/videoplay.*[\?#]docid=(-?[0-9]+)#?$/i,goog.ui.media.GoogleVideoModel.newInstance=function(o,e,i,g){if(goog.ui.media.GoogleVideoModel.MATCHER_.test(o)){var d=goog.ui.media.GoogleVideoModel.MATCHER_.exec(o);return new goog.ui.media.GoogleVideoModel(d[1],e,i,g)}throw new Error("failed to parse video id from GoogleVideo url: "+o)},goog.ui.media.GoogleVideoModel.buildUrl=function(o){return"https://video.google.com/videoplay?docid="+goog.string.urlEncode(o)},goog.ui.media.GoogleVideoModel.buildFlashUrl=function(o,e){return goog.html.TrustedResourceUrl.format(goog.string.Const.from("https://video.google.com/googleplayer.swf?docid=%{docid}&hl=en&fs=true%{autoplay}"),{docid:o,autoplay:e?goog.string.Const.from("&autoplay=1"):""})},goog.ui.media.GoogleVideoModel.prototype.getVideoId=function(){return this.videoId_};