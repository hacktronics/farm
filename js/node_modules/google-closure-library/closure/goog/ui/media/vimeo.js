goog.provide("goog.ui.media.Vimeo"),goog.provide("goog.ui.media.VimeoModel"),goog.require("goog.html.TrustedResourceUrl"),goog.require("goog.string"),goog.require("goog.string.Const"),goog.require("goog.ui.media.FlashObject"),goog.require("goog.ui.media.Media"),goog.require("goog.ui.media.MediaModel"),goog.require("goog.ui.media.MediaRenderer"),goog.ui.media.Vimeo=function(){goog.ui.media.MediaRenderer.call(this)},goog.inherits(goog.ui.media.Vimeo,goog.ui.media.MediaRenderer),goog.addSingletonGetter(goog.ui.media.Vimeo),goog.ui.media.Vimeo.CSS_CLASS=goog.getCssName("goog-ui-media-vimeo"),goog.ui.media.Vimeo.newControl=function(o,e){var i=new goog.ui.media.Media(o,goog.ui.media.Vimeo.getInstance(),e);return i.setSelected(!0),i},goog.ui.media.Vimeo.prototype.createDom=function(o){var e=o,i=goog.ui.media.Vimeo.superClass_.createDom.call(this,e),g=e.getDataModel();return new goog.ui.media.FlashObject(g.getPlayer().getTrustedResourceUrl(),e.getDomHelper()).render(i),i},goog.ui.media.Vimeo.prototype.getCssClass=function(){return goog.ui.media.Vimeo.CSS_CLASS},goog.ui.media.VimeoModel=function(o,e,i,g){goog.ui.media.MediaModel.call(this,goog.ui.media.VimeoModel.buildUrl(o),e,i,goog.ui.media.MediaModel.MimeType.FLASH),this.videoId_=o,this.setPlayer(new goog.ui.media.MediaModel.Player(goog.ui.media.VimeoModel.buildFlashUrl(o,g)))},goog.inherits(goog.ui.media.VimeoModel,goog.ui.media.MediaModel),goog.ui.media.VimeoModel.MATCHER_=/https?:\/\/(?:www\.)?vimeo\.com\/(?:hd#)?([0-9]+)/i,goog.ui.media.VimeoModel.newInstance=function(o,e,i,g){if(goog.ui.media.VimeoModel.MATCHER_.test(o)){var d=goog.ui.media.VimeoModel.MATCHER_.exec(o);return new goog.ui.media.VimeoModel(d[1],e,i,g)}throw new Error("failed to parse vimeo url: "+o)},goog.ui.media.VimeoModel.buildUrl=function(o){return"https://vimeo.com/"+goog.string.urlEncode(o)},goog.ui.media.VimeoModel.buildFlashUrl=function(o,e){return goog.html.TrustedResourceUrl.format(goog.string.Const.from("https://vimeo.com/moogaloop.swf?clip_id=%{clip_id}&server=vimeo.com&show_title=1&show_byline=1&show_portrait=0color=&fullscreen=1%{autoplay}"),{clip_id:o,autoplay:e?goog.string.Const.from("&autoplay=1"):""})},goog.ui.media.VimeoModel.prototype.getVideoId=function(){return this.videoId_};