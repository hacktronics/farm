goog.provide("goog.ui.media.FlickrSet"),goog.provide("goog.ui.media.FlickrSetModel"),goog.require("goog.html.TrustedResourceUrl"),goog.require("goog.string.Const"),goog.require("goog.ui.media.FlashObject"),goog.require("goog.ui.media.Media"),goog.require("goog.ui.media.MediaModel"),goog.require("goog.ui.media.MediaRenderer"),goog.ui.media.FlickrSet=function(){goog.ui.media.MediaRenderer.call(this)},goog.inherits(goog.ui.media.FlickrSet,goog.ui.media.MediaRenderer),goog.addSingletonGetter(goog.ui.media.FlickrSet),goog.ui.media.FlickrSet.CSS_CLASS=goog.getCssName("goog-ui-media-flickrset"),goog.ui.media.FlickrSet.flashUrl_=goog.html.TrustedResourceUrl.fromConstant(goog.string.Const.from("http://www.flickr.com/apps/slideshow/show.swf?v=63961")),goog.ui.media.FlickrSet.newControl=function(e,o){var i=new goog.ui.media.Media(e,goog.ui.media.FlickrSet.getInstance(),o);return i.setSelected(!0),i},goog.ui.media.FlickrSet.setFlashUrl=function(e){goog.ui.media.FlickrSet.flashUrl_=e},goog.ui.media.FlickrSet.prototype.createDom=function(e){var o=e,i=goog.ui.media.FlickrSet.superClass_.createDom.call(this,o),g=o.getDataModel(),t=new goog.ui.media.FlashObject(g.getPlayer().getTrustedResourceUrl(),o.getDomHelper());return t.addFlashVars(g.getPlayer().getVars()),t.render(i),i},goog.ui.media.FlickrSet.prototype.getCssClass=function(){return goog.ui.media.FlickrSet.CSS_CLASS},goog.ui.media.FlickrSetModel=function(e,o,i,g){goog.ui.media.MediaModel.call(this,goog.ui.media.FlickrSetModel.buildUrl(e,o),i,g,goog.ui.media.MediaModel.MimeType.FLASH),this.userId_=e,this.setId_=o;var t={offsite:"true",lang:"en",page_show_url:"/photos/"+e+"/sets/"+o+"/show/",page_show_back_url:"/photos/"+e+"/sets/"+o,set_id:o},r=new goog.ui.media.MediaModel.Player(goog.ui.media.FlickrSet.flashUrl_,t);this.setPlayer(r)},goog.inherits(goog.ui.media.FlickrSetModel,goog.ui.media.MediaModel),goog.ui.media.FlickrSetModel.MATCHER_=/(?:http:\/\/)?(?:www\.)?flickr\.com\/(?:photos\/([\d\w@\-]+)\/sets\/(\d+))\/?/i,goog.ui.media.FlickrSetModel.newInstance=function(e,o,i){if(goog.ui.media.FlickrSetModel.MATCHER_.test(e)){var g=goog.ui.media.FlickrSetModel.MATCHER_.exec(e);return new goog.ui.media.FlickrSetModel(g[1],g[2],o,i)}throw new Error("failed to parse flickr url: "+e)},goog.ui.media.FlickrSetModel.buildUrl=function(e,o){return"http://flickr.com/photos/"+e+"/sets/"+o},goog.ui.media.FlickrSetModel.prototype.getUserId=function(){return this.userId_},goog.ui.media.FlickrSetModel.prototype.getSetId=function(){return this.setId_};