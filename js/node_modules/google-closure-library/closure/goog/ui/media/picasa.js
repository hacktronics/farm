goog.provide("goog.ui.media.PicasaAlbum"),goog.provide("goog.ui.media.PicasaAlbumModel"),goog.require("goog.html.TrustedResourceUrl"),goog.require("goog.string.Const"),goog.require("goog.ui.media.FlashObject"),goog.require("goog.ui.media.Media"),goog.require("goog.ui.media.MediaModel"),goog.require("goog.ui.media.MediaRenderer"),goog.ui.media.PicasaAlbum=function(){goog.ui.media.MediaRenderer.call(this)},goog.inherits(goog.ui.media.PicasaAlbum,goog.ui.media.MediaRenderer),goog.addSingletonGetter(goog.ui.media.PicasaAlbum),goog.ui.media.PicasaAlbum.CSS_CLASS=goog.getCssName("goog-ui-media-picasa"),goog.ui.media.PicasaAlbum.newControl=function(e,o){var i=new goog.ui.media.Media(e,goog.ui.media.PicasaAlbum.getInstance(),o);return i.setSelected(!0),i},goog.ui.media.PicasaAlbum.prototype.createDom=function(e){var o=e,i=goog.ui.media.PicasaAlbum.superClass_.createDom.call(this,o),a=o.getDataModel(),g=new goog.ui.media.FlashObject(a.getPlayer().getTrustedResourceUrl(),o.getDomHelper());return g.addFlashVars(a.getPlayer().getVars()),g.render(i),i},goog.ui.media.PicasaAlbum.prototype.getCssClass=function(){return goog.ui.media.PicasaAlbum.CSS_CLASS},goog.ui.media.PicasaAlbumModel=function(e,o,i,a,g,u){goog.ui.media.MediaModel.call(this,goog.ui.media.PicasaAlbumModel.buildUrl(e,o),a,g,goog.ui.media.MediaModel.MimeType.FLASH),this.userId_=e,this.albumId_=o,this.authKey_=i||null;var d={host:"picasaweb.google.com",RGB:"0x000000",feed:"http://picasaweb.google.com/data/feed/api/user/"+e+"/album/"+o+"?kind=photo&alt=rss"+(i?"&authkey="+i:"")};d[u?"autoplay":"noautoplay"]="1";var t=goog.html.TrustedResourceUrl.fromConstant(goog.string.Const.from("http://picasaweb.google.com/s/c/bin/slideshow.swf")),r=new goog.ui.media.MediaModel.Player(t,d);this.setPlayer(r)},goog.inherits(goog.ui.media.PicasaAlbumModel,goog.ui.media.MediaModel),goog.ui.media.PicasaAlbumModel.MATCHER_=/https?:\/\/(?:www\.)?picasaweb\.(?:google\.)?com\/([\d\w\.]+)\/([\d\w_\-\.]+)(?:\?[\w\d\-_=&amp;;\.]*&?authKey=([\w\d\-_=;\.]+))?(?:#([\d]+)?)?/im,goog.ui.media.PicasaAlbumModel.newInstance=function(e,o,i,a){if(goog.ui.media.PicasaAlbumModel.MATCHER_.test(e)){var g=goog.ui.media.PicasaAlbumModel.MATCHER_.exec(e);return new goog.ui.media.PicasaAlbumModel(g[1],g[2],g[3],o,i,a)}throw new Error("failed to parse user and album from picasa url: "+e)},goog.ui.media.PicasaAlbumModel.buildUrl=function(e,o){return"http://picasaweb.google.com/"+e+"/"+o},goog.ui.media.PicasaAlbumModel.prototype.getUserId=function(){return this.userId_},goog.ui.media.PicasaAlbumModel.prototype.getAlbumId=function(){return this.albumId_},goog.ui.media.PicasaAlbumModel.prototype.getAuthKey=function(){return this.authKey_};