goog.provide("goog.ui.CustomColorPalette"),goog.require("goog.color"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.dom.classlist"),goog.require("goog.ui.ColorPalette"),goog.require("goog.ui.Component"),goog.ui.CustomColorPalette=function(o,t,e){goog.ui.ColorPalette.call(this,o,t,e),this.setSupportedState(goog.ui.Component.State.OPENED,!0)},goog.inherits(goog.ui.CustomColorPalette,goog.ui.ColorPalette),goog.ui.CustomColorPalette.prototype.createColorNodes=function(){var o=goog.getMsg("Add a color"),t=goog.ui.CustomColorPalette.base(this,"createColorNodes");return t.push(goog.dom.createDom(goog.dom.TagName.DIV,{class:goog.getCssName("goog-palette-customcolor"),title:o},"+")),t},goog.ui.CustomColorPalette.prototype.performActionInternal=function(o){var t=this.getHighlightedItem();if(t){if(!goog.dom.classlist.contains(t,goog.getCssName("goog-palette-customcolor")))return this.setSelectedItem(t),this.dispatchEvent(goog.ui.Component.EventType.ACTION);this.promptForCustomColor()}return!1},goog.ui.CustomColorPalette.prototype.promptForCustomColor=function(){var o=goog.getMsg("Input custom color, i.e. pink, #F00, #D015FF or rgb(100, 50, 25)"),t=null;if(this.setOpen(!0),this.isOpen()&&(t=window.prompt(o,"#FFFFFF"),this.setOpen(!1)),t){var e;try{e=goog.color.parse(t).hex}catch(o){var g=goog.getMsg('ERROR: "{$color}" is not a valid color.',{color:t});return void alert(g)}var r=this.getColors();r.push(e),this.setColors(r),this.setSelectedColor(e),this.dispatchEvent(goog.ui.Component.EventType.ACTION)}};