goog.provide("goog.ui.Checkbox"),goog.provide("goog.ui.Checkbox.State"),goog.require("goog.a11y.aria"),goog.require("goog.a11y.aria.State"),goog.require("goog.events.EventType"),goog.require("goog.events.KeyCodes"),goog.require("goog.string"),goog.require("goog.ui.CheckboxRenderer"),goog.require("goog.ui.Component"),goog.require("goog.ui.Control"),goog.require("goog.ui.registry"),goog.ui.Checkbox=function(e,o,t){var i=t||goog.ui.CheckboxRenderer.getInstance();goog.ui.Control.call(this,null,i,o),this.checked_=void 0!==e?e:goog.ui.Checkbox.State.UNCHECKED},goog.inherits(goog.ui.Checkbox,goog.ui.Control),goog.tagUnsealableClass(goog.ui.Checkbox),goog.ui.Checkbox.State={CHECKED:!0,UNCHECKED:!1,UNDETERMINED:null},goog.ui.Checkbox.prototype.label_=null,goog.ui.Checkbox.prototype.getChecked=function(){return this.checked_},goog.ui.Checkbox.prototype.isChecked=function(){return this.checked_==goog.ui.Checkbox.State.CHECKED},goog.ui.Checkbox.prototype.isUnchecked=function(){return this.checked_==goog.ui.Checkbox.State.UNCHECKED},goog.ui.Checkbox.prototype.isUndetermined=function(){return this.checked_==goog.ui.Checkbox.State.UNDETERMINED},goog.ui.Checkbox.prototype.setChecked=function(e){e!=this.checked_&&(this.checked_=e,this.getRenderer().setCheckboxState(this.getElement(),this.checked_))},goog.ui.Checkbox.prototype.setCheckedInternal=function(e){this.checked_=e},goog.ui.Checkbox.prototype.setLabel=function(e){if(this.isInDocument()){var o=this.isFocused();this.exitDocument(),this.label_=e,this.enterDocument(),o&&this.getElementStrict().focus()}else this.label_=e},goog.ui.Checkbox.prototype.toggle=function(){this.setChecked(this.checked_?goog.ui.Checkbox.State.UNCHECKED:goog.ui.Checkbox.State.CHECKED)},goog.ui.Checkbox.prototype.enterDocument=function(){if(goog.ui.Checkbox.base(this,"enterDocument"),this.isHandleMouseEvents()){var e=this.getHandler();this.label_&&e.listen(this.label_,goog.events.EventType.CLICK,this.handleClickOrSpace_).listen(this.label_,goog.events.EventType.MOUSEOVER,this.handleMouseOver).listen(this.label_,goog.events.EventType.MOUSEOUT,this.handleMouseOut).listen(this.label_,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).listen(this.label_,goog.events.EventType.MOUSEUP,this.handleMouseUp),e.listen(this.getElement(),goog.events.EventType.CLICK,this.handleClickOrSpace_)}var o=this.getElementStrict();this.label_&&o!=this.label_&&goog.string.isEmptyOrWhitespace(goog.a11y.aria.getLabel(o))&&(this.label_.id||(this.label_.id=this.makeId("lbl")),goog.a11y.aria.setState(o,goog.a11y.aria.State.LABELLEDBY,this.label_.id))},goog.ui.Checkbox.prototype.handleClickOrSpace_=function(e){e.stopPropagation();var o=this.checked_?goog.ui.Component.EventType.UNCHECK:goog.ui.Component.EventType.CHECK;this.isEnabled()&&!e.target.href&&this.dispatchEvent(o)&&(e.preventDefault(),this.toggle(),this.dispatchEvent(goog.ui.Component.EventType.CHANGE))},goog.ui.Checkbox.prototype.handleKeyEventInternal=function(e){return e.keyCode==goog.events.KeyCodes.SPACE&&(this.performActionInternal(e),this.handleClickOrSpace_(e)),!1},goog.ui.registry.setDecoratorByClassName(goog.ui.CheckboxRenderer.CSS_CLASS,function(){return new goog.ui.Checkbox});