goog.provide("goog.ui.Component"),goog.provide("goog.ui.Component.Error"),goog.provide("goog.ui.Component.EventType"),goog.provide("goog.ui.Component.State"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.NodeType"),goog.require("goog.dom.TagName"),goog.require("goog.events.EventHandler"),goog.require("goog.events.EventTarget"),goog.require("goog.object"),goog.require("goog.style"),goog.require("goog.ui.IdGenerator"),goog.ui.Component=function(o){goog.events.EventTarget.call(this),this.dom_=o||goog.dom.getDomHelper(),this.rightToLeft_=goog.ui.Component.defaultRightToLeft_,this.id_=null,this.inDocument_=!1,this.element_=null,this.googUiComponentHandler_=void 0,this.model_=null,this.parent_=null,this.children_=null,this.childIndex_=null,this.wasDecorated_=!1,this.pointerEventsEnabled_=!1},goog.inherits(goog.ui.Component,goog.events.EventTarget),goog.ui.Component.ALLOW_DETACHED_DECORATION=goog.define("goog.ui.Component.ALLOW_DETACHED_DECORATION",!1),goog.ui.Component.prototype.idGenerator_=goog.ui.IdGenerator.getInstance(),goog.ui.Component.DEFAULT_BIDI_DIR=goog.define("goog.ui.Component.DEFAULT_BIDI_DIR",0),goog.ui.Component.defaultRightToLeft_=1!=goog.ui.Component.DEFAULT_BIDI_DIR&&(-1==goog.ui.Component.DEFAULT_BIDI_DIR||null),goog.ui.Component.EventType={BEFORE_SHOW:"beforeshow",SHOW:"show",HIDE:"hide",DISABLE:"disable",ENABLE:"enable",HIGHLIGHT:"highlight",UNHIGHLIGHT:"unhighlight",ACTIVATE:"activate",DEACTIVATE:"deactivate",SELECT:"select",UNSELECT:"unselect",CHECK:"check",UNCHECK:"uncheck",FOCUS:"focus",BLUR:"blur",OPEN:"open",CLOSE:"close",ENTER:"enter",LEAVE:"leave",ACTION:"action",CHANGE:"change"},goog.ui.Component.Error={NOT_SUPPORTED:"Method not supported",DECORATE_INVALID:"Invalid element to decorate",ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds",NOT_OUR_CHILD:"Child is not in parent component",NOT_IN_DOCUMENT:"Operation not supported while component is not in document",STATE_INVALID:"Invalid component state"},goog.ui.Component.State={ALL:255,DISABLED:1,HOVER:2,ACTIVE:4,SELECTED:8,CHECKED:16,FOCUSED:32,OPENED:64},goog.ui.Component.getStateTransitionEvent=function(o,e){switch(o){case goog.ui.Component.State.DISABLED:return e?goog.ui.Component.EventType.DISABLE:goog.ui.Component.EventType.ENABLE;case goog.ui.Component.State.HOVER:return e?goog.ui.Component.EventType.HIGHLIGHT:goog.ui.Component.EventType.UNHIGHLIGHT;case goog.ui.Component.State.ACTIVE:return e?goog.ui.Component.EventType.ACTIVATE:goog.ui.Component.EventType.DEACTIVATE;case goog.ui.Component.State.SELECTED:return e?goog.ui.Component.EventType.SELECT:goog.ui.Component.EventType.UNSELECT;case goog.ui.Component.State.CHECKED:return e?goog.ui.Component.EventType.CHECK:goog.ui.Component.EventType.UNCHECK;case goog.ui.Component.State.FOCUSED:return e?goog.ui.Component.EventType.FOCUS:goog.ui.Component.EventType.BLUR;case goog.ui.Component.State.OPENED:return e?goog.ui.Component.EventType.OPEN:goog.ui.Component.EventType.CLOSE}throw new Error(goog.ui.Component.Error.STATE_INVALID)},goog.ui.Component.setDefaultRightToLeft=function(o){goog.ui.Component.defaultRightToLeft_=o},goog.ui.Component.prototype.getId=function(){return this.id_||(this.id_=this.idGenerator_.getNextUniqueId())},goog.ui.Component.prototype.setId=function(o){this.parent_&&this.parent_.childIndex_&&(goog.object.remove(this.parent_.childIndex_,this.id_),goog.object.add(this.parent_.childIndex_,o,this)),this.id_=o},goog.ui.Component.prototype.getElement=function(){return this.element_},goog.ui.Component.prototype.getElementStrict=function(){var o=this.element_;return goog.asserts.assert(o,"Can not call getElementStrict before rendering/decorating."),o},goog.ui.Component.prototype.setElementInternal=function(o){this.element_=o},goog.ui.Component.prototype.getElementsByClass=function(o){return this.element_?this.dom_.getElementsByClass(o,this.element_):[]},goog.ui.Component.prototype.getElementByClass=function(o){return this.element_?this.dom_.getElementByClass(o,this.element_):null},goog.ui.Component.prototype.getRequiredElementByClass=function(o){var e=this.getElementByClass(o);return goog.asserts.assert(e,"Expected element in component with class: %s",o),e},goog.ui.Component.prototype.getHandler=function(){var o=this;return o.googUiComponentHandler_||(o.googUiComponentHandler_=new goog.events.EventHandler(o)),goog.asserts.assert(o.googUiComponentHandler_)},goog.ui.Component.prototype.setParent=function(o){if(this==o)throw new Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);if(o&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=o)throw new Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);this.parent_=o,goog.ui.Component.superClass_.setParentEventTarget.call(this,o)},goog.ui.Component.prototype.getParent=function(){return this.parent_},goog.ui.Component.prototype.setParentEventTarget=function(o){if(this.parent_&&this.parent_!=o)throw new Error(goog.ui.Component.Error.NOT_SUPPORTED);goog.ui.Component.superClass_.setParentEventTarget.call(this,o)},goog.ui.Component.prototype.getDomHelper=function(){return this.dom_},goog.ui.Component.prototype.isInDocument=function(){return this.inDocument_},goog.ui.Component.prototype.createDom=function(){this.element_=this.dom_.createElement(goog.dom.TagName.DIV)},goog.ui.Component.prototype.render=function(o){this.render_(o)},goog.ui.Component.prototype.renderBefore=function(o){this.render_(o.parentNode,o)},goog.ui.Component.prototype.render_=function(o,e){if(this.inDocument_)throw new Error(goog.ui.Component.Error.ALREADY_RENDERED);this.element_||this.createDom(),o?o.insertBefore(this.element_,e||null):this.dom_.getDocument().body.appendChild(this.element_),this.parent_&&!this.parent_.isInDocument()||this.enterDocument()},goog.ui.Component.prototype.decorate=function(o){if(this.inDocument_)throw new Error(goog.ui.Component.Error.ALREADY_RENDERED);if(!o||!this.canDecorate(o))throw new Error(goog.ui.Component.Error.DECORATE_INVALID);this.wasDecorated_=!0;var e=goog.dom.getOwnerDocument(o);this.dom_&&this.dom_.getDocument()==e||(this.dom_=goog.dom.getDomHelper(o)),this.decorateInternal(o),goog.ui.Component.ALLOW_DETACHED_DECORATION&&!goog.dom.contains(e,o)||this.enterDocument()},goog.ui.Component.prototype.canDecorate=function(o){return!0},goog.ui.Component.prototype.wasDecorated=function(){return this.wasDecorated_},goog.ui.Component.prototype.decorateInternal=function(o){this.element_=o},goog.ui.Component.prototype.enterDocument=function(){this.inDocument_=!0,this.forEachChild(function(o){!o.isInDocument()&&o.getElement()&&o.enterDocument()})},goog.ui.Component.prototype.exitDocument=function(){this.forEachChild(function(o){o.isInDocument()&&o.exitDocument()}),this.googUiComponentHandler_&&this.googUiComponentHandler_.removeAll(),this.inDocument_=!1},goog.ui.Component.prototype.disposeInternal=function(){this.inDocument_&&this.exitDocument(),this.googUiComponentHandler_&&(this.googUiComponentHandler_.dispose(),delete this.googUiComponentHandler_),this.forEachChild(function(o){o.dispose()}),!this.wasDecorated_&&this.element_&&goog.dom.removeNode(this.element_),this.children_=null,this.childIndex_=null,this.element_=null,this.model_=null,this.parent_=null,goog.ui.Component.superClass_.disposeInternal.call(this)},goog.ui.Component.prototype.makeId=function(o){return this.getId()+"."+o},goog.ui.Component.prototype.makeIds=function(o){var e={};for(var t in o)e[t]=this.makeId(o[t]);return e},goog.ui.Component.prototype.getModel=function(){return this.model_},goog.ui.Component.prototype.setModel=function(o){this.model_=o},goog.ui.Component.prototype.getFragmentFromId=function(o){return o.substring(this.getId().length+1)},goog.ui.Component.prototype.getElementByFragment=function(o){if(!this.inDocument_)throw new Error(goog.ui.Component.Error.NOT_IN_DOCUMENT);return this.dom_.getElement(this.makeId(o))},goog.ui.Component.prototype.addChild=function(o,e){this.addChildAt(o,this.getChildCount(),e)},goog.ui.Component.prototype.addChildAt=function(o,e,t){if(goog.asserts.assert(!!o,"Provided element must not be null."),o.inDocument_&&(t||!this.inDocument_))throw new Error(goog.ui.Component.Error.ALREADY_RENDERED);if(e<0||e>this.getChildCount())throw new Error(goog.ui.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);if(this.childIndex_&&this.children_||(this.childIndex_={},this.children_=[]),o.getParent()==this?(goog.object.set(this.childIndex_,o.getId(),o),goog.array.remove(this.children_,o)):goog.object.add(this.childIndex_,o.getId(),o),o.setParent(this),goog.array.insertAt(this.children_,o,e),o.inDocument_&&this.inDocument_&&o.getParent()==this){var n=this.getContentElement(),i=n.childNodes[e]||null;i!=o.getElement()&&n.insertBefore(o.getElement(),i)}else if(t){this.element_||this.createDom();var r=this.getChildAt(e+1);o.render_(this.getContentElement(),r?r.element_:null)}else this.inDocument_&&!o.inDocument_&&o.element_&&o.element_.parentNode&&o.element_.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&o.enterDocument()},goog.ui.Component.prototype.getContentElement=function(){return this.element_},goog.ui.Component.prototype.isRightToLeft=function(){return null==this.rightToLeft_&&(this.rightToLeft_=goog.style.isRightToLeft(this.inDocument_?this.element_:this.dom_.getDocument().body)),this.rightToLeft_},goog.ui.Component.prototype.setRightToLeft=function(o){if(this.inDocument_)throw new Error(goog.ui.Component.Error.ALREADY_RENDERED);this.rightToLeft_=o},goog.ui.Component.prototype.hasChildren=function(){return!!this.children_&&0!=this.children_.length},goog.ui.Component.prototype.getChildCount=function(){return this.children_?this.children_.length:0},goog.ui.Component.prototype.getChildIds=function(){var o=[];return this.forEachChild(function(e){o.push(e.getId())}),o},goog.ui.Component.prototype.getChild=function(o){return this.childIndex_&&o&&goog.object.get(this.childIndex_,o)||null},goog.ui.Component.prototype.getChildAt=function(o){return this.children_&&this.children_[o]||null},goog.ui.Component.prototype.forEachChild=function(o,e){this.children_&&goog.array.forEach(this.children_,o,e)},goog.ui.Component.prototype.indexOfChild=function(o){return this.children_&&o?goog.array.indexOf(this.children_,o):-1},goog.ui.Component.prototype.removeChild=function(o,e){if(o){var t="string"==typeof o?o:o.getId();o=this.getChild(t),t&&o&&(goog.object.remove(this.childIndex_,t),goog.array.remove(this.children_,o),e&&(o.exitDocument(),o.element_&&goog.dom.removeNode(o.element_)),o.setParent(null))}if(!o)throw new Error(goog.ui.Component.Error.NOT_OUR_CHILD);return o},goog.ui.Component.prototype.removeChildAt=function(o,e){return this.removeChild(this.getChildAt(o),e)},goog.ui.Component.prototype.removeChildren=function(o){for(var e=[];this.hasChildren();)e.push(this.removeChildAt(0,o));return e},goog.ui.Component.prototype.pointerEventsEnabled=function(){return this.pointerEventsEnabled_},goog.ui.Component.prototype.setPointerEventsEnabled=function(o){if(this.inDocument_)throw new Error(goog.ui.Component.Error.ALREADY_RENDERED);this.pointerEventsEnabled_=o};