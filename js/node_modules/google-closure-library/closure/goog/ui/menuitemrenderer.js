goog.provide("goog.ui.MenuItemRenderer"),goog.require("goog.a11y.aria.Role"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.dom.classlist"),goog.require("goog.ui.Component"),goog.require("goog.ui.ControlRenderer"),goog.ui.MenuItemRenderer=function(){goog.ui.ControlRenderer.call(this),this.classNameCache_=[]},goog.inherits(goog.ui.MenuItemRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.MenuItemRenderer),goog.ui.MenuItemRenderer.CSS_CLASS=goog.getCssName("goog-menuitem"),goog.ui.MenuItemRenderer.CompositeCssClassIndex_={HOVER:0,CHECKBOX:1,CONTENT:2},goog.ui.MenuItemRenderer.prototype.getCompositeCssClass_=function(e){var o=this.classNameCache_[e];if(!o){switch(e){case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER:o=goog.getCssName(this.getStructuralCssClass(),"highlight");break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX:o=goog.getCssName(this.getStructuralCssClass(),"checkbox");break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT:o=goog.getCssName(this.getStructuralCssClass(),"content")}this.classNameCache_[e]=o}return o},goog.ui.MenuItemRenderer.prototype.getAriaRole=function(){return goog.a11y.aria.Role.MENU_ITEM},goog.ui.MenuItemRenderer.prototype.createDom=function(e){var o=e.getDomHelper().createDom(goog.dom.TagName.DIV,this.getClassNames(e).join(" "),this.createContent(e.getContent(),e.getDomHelper()));return this.setEnableCheckBoxStructure(e,o,e.isSupportedState(goog.ui.Component.State.SELECTED)||e.isSupportedState(goog.ui.Component.State.CHECKED)),o},goog.ui.MenuItemRenderer.prototype.getContentElement=function(e){return e&&e.firstChild},goog.ui.MenuItemRenderer.prototype.decorate=function(e,o){return goog.asserts.assert(o),this.hasContentStructure(o)||o.appendChild(this.createContent(o.childNodes,e.getDomHelper())),goog.dom.classlist.contains(o,goog.getCssName("goog-option"))&&(e.setCheckable(!0),this.setCheckable(e,o,!0)),goog.ui.MenuItemRenderer.superClass_.decorate.call(this,e,o)},goog.ui.MenuItemRenderer.prototype.setContent=function(e,o){var t=this.getContentElement(e),s=this.hasCheckBoxStructure(e)?t.firstChild:null;goog.ui.MenuItemRenderer.superClass_.setContent.call(this,e,o),s&&!this.hasCheckBoxStructure(e)&&t.insertBefore(s,t.firstChild||null)},goog.ui.MenuItemRenderer.prototype.hasContentStructure=function(e){var o=goog.dom.getFirstElementChild(e),t=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return!!o&&goog.dom.classlist.contains(o,t)},goog.ui.MenuItemRenderer.prototype.createContent=function(e,o){var t=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return o.createDom(goog.dom.TagName.DIV,t,e)},goog.ui.MenuItemRenderer.prototype.setSelectable=function(e,o,t){e&&o&&this.setEnableCheckBoxStructure(e,o,t)},goog.ui.MenuItemRenderer.prototype.setCheckable=function(e,o,t){e&&o&&this.setEnableCheckBoxStructure(e,o,t)},goog.ui.MenuItemRenderer.prototype.hasCheckBoxStructure=function(e){var o=this.getContentElement(e);if(o){var t=o.firstChild,s=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX);return!!t&&goog.dom.isElement(t)&&goog.dom.classlist.contains(t,s)}return!1},goog.ui.MenuItemRenderer.prototype.setEnableCheckBoxStructure=function(e,o,t){if(this.setAriaRole(o,e.getPreferredAriaRole()),this.setAriaStates(e,o),t!=this.hasCheckBoxStructure(o)){goog.dom.classlist.enable(o,goog.getCssName("goog-option"),t);var s=this.getContentElement(o);if(t){var r=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX);s.insertBefore(e.getDomHelper().createDom(goog.dom.TagName.DIV,r),s.firstChild||null)}else s.removeChild(s.firstChild)}},goog.ui.MenuItemRenderer.prototype.getClassForState=function(e){switch(e){case goog.ui.Component.State.HOVER:return this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);case goog.ui.Component.State.CHECKED:case goog.ui.Component.State.SELECTED:return goog.getCssName("goog-option-selected");default:return goog.ui.MenuItemRenderer.superClass_.getClassForState.call(this,e)}},goog.ui.MenuItemRenderer.prototype.getStateFromClass=function(e){var o=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);switch(e){case goog.getCssName("goog-option-selected"):return goog.ui.Component.State.CHECKED;case o:return goog.ui.Component.State.HOVER;default:return goog.ui.MenuItemRenderer.superClass_.getStateFromClass.call(this,e)}},goog.ui.MenuItemRenderer.prototype.getCssClass=function(){return goog.ui.MenuItemRenderer.CSS_CLASS};