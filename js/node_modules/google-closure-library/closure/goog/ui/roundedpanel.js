goog.provide("goog.ui.BaseRoundedPanel"),goog.provide("goog.ui.CssRoundedPanel"),goog.provide("goog.ui.GraphicsRoundedPanel"),goog.provide("goog.ui.RoundedPanel"),goog.provide("goog.ui.RoundedPanel.Corner"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.dom.classlist"),goog.require("goog.graphics"),goog.require("goog.graphics.Path"),goog.require("goog.graphics.SolidFill"),goog.require("goog.graphics.Stroke"),goog.require("goog.math"),goog.require("goog.math.Coordinate"),goog.require("goog.style"),goog.require("goog.ui.Component"),goog.require("goog.userAgent"),goog.ui.RoundedPanel.create=function(e,o,n,t,g,r){return goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("500")||goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9a")||goog.userAgent.EDGE?new goog.ui.CssRoundedPanel(e,o,n,t,g,r):new goog.ui.GraphicsRoundedPanel(e,o,n,t,g,r)},goog.ui.RoundedPanel.Corner={NONE:0,BOTTOM_LEFT:2,TOP_LEFT:4,LEFT:6,TOP_RIGHT:8,TOP:12,BOTTOM_RIGHT:1,BOTTOM:3,RIGHT:9,ALL:15},goog.ui.RoundedPanel.Classes_={BACKGROUND:goog.getCssName("goog-roundedpanel-background"),PANEL:goog.getCssName("goog-roundedpanel"),CONTENT:goog.getCssName("goog-roundedpanel-content")},goog.ui.BaseRoundedPanel=function(e,o,n,t,g,r){goog.ui.Component.call(this,r),this.radius_=e,this.borderWidth_=o,this.borderColor_=n,this.backgroundColor_=t||null,this.corners_=g||goog.ui.RoundedPanel.Corner.NONE},goog.inherits(goog.ui.BaseRoundedPanel,goog.ui.Component),goog.tagUnsealableClass(goog.ui.BaseRoundedPanel),goog.ui.BaseRoundedPanel.prototype.backgroundElement_,goog.ui.BaseRoundedPanel.prototype.contentElement_,goog.ui.BaseRoundedPanel.prototype.decorateInternal=function(e){goog.ui.BaseRoundedPanel.superClass_.decorateInternal.call(this,e),goog.dom.classlist.add(goog.asserts.assert(this.getElement()),goog.ui.RoundedPanel.Classes_.PANEL),this.backgroundElement_=this.getDomHelper().createElement(goog.dom.TagName.DIV),this.backgroundElement_.className=goog.ui.RoundedPanel.Classes_.BACKGROUND,this.getElement().appendChild(this.backgroundElement_),this.contentElement_=goog.dom.getElementsByTagNameAndClass(null,goog.ui.RoundedPanel.Classes_.CONTENT,this.getElement())[0],this.contentElement_||(this.contentElement_=this.getDomHelper().createDom(goog.dom.TagName.DIV),this.contentElement_.className=goog.ui.RoundedPanel.Classes_.CONTENT,this.getElement().appendChild(this.contentElement_))},goog.ui.BaseRoundedPanel.prototype.disposeInternal=function(){this.backgroundElement_&&(this.getDomHelper().removeNode(this.backgroundElement_),this.backgroundElement_=null),this.contentElement_=null,goog.ui.BaseRoundedPanel.superClass_.disposeInternal.call(this)},goog.ui.BaseRoundedPanel.prototype.getContentElement=function(){return this.contentElement_},goog.ui.CssRoundedPanel=function(e,o,n,t,g,r){goog.ui.BaseRoundedPanel.call(this,e,o,n,t,g,r)},goog.inherits(goog.ui.CssRoundedPanel,goog.ui.BaseRoundedPanel),goog.ui.CssRoundedPanel.prototype.decorateInternal=function(e){if(goog.ui.CssRoundedPanel.superClass_.decorateInternal.call(this,e),this.backgroundElement_.style.border=this.borderWidth_+"px solid "+this.borderColor_,this.backgroundColor_&&(this.backgroundElement_.style.backgroundColor=this.backgroundColor_),this.corners_==goog.ui.RoundedPanel.Corner.ALL){var o=this.getStyle_(goog.ui.RoundedPanel.Corner.ALL);this.backgroundElement_.style[o]=this.radius_+"px"}else{var n=this.corners_&goog.ui.RoundedPanel.Corner.TOP_LEFT?this.radius_:0,t=this.getStyle_(goog.ui.RoundedPanel.Corner.TOP_LEFT);this.backgroundElement_.style[t]=n+"px";var g=this.corners_&goog.ui.RoundedPanel.Corner.TOP_RIGHT?this.radius_:0;t=this.getStyle_(goog.ui.RoundedPanel.Corner.TOP_RIGHT),this.backgroundElement_.style[t]=g+"px";var r=this.corners_&goog.ui.RoundedPanel.Corner.BOTTOM_RIGHT?this.radius_:0;t=this.getStyle_(goog.ui.RoundedPanel.Corner.BOTTOM_RIGHT),this.backgroundElement_.style[t]=r+"px";var s=this.corners_&goog.ui.RoundedPanel.Corner.BOTTOM_LEFT?this.radius_:0;t=this.getStyle_(goog.ui.RoundedPanel.Corner.BOTTOM_LEFT),this.backgroundElement_.style[t]=s+"px"}},goog.ui.CssRoundedPanel.prototype.getStyle_=function(e){var o,n,t;switch(goog.userAgent.WEBKIT?(n="Left",t="Right"):(n="left",t="right"),e){case goog.ui.RoundedPanel.Corner.ALL:o="";break;case goog.ui.RoundedPanel.Corner.TOP_LEFT:o="Top"+n;break;case goog.ui.RoundedPanel.Corner.TOP_RIGHT:o="Top"+t;break;case goog.ui.RoundedPanel.Corner.BOTTOM_LEFT:o="Bottom"+n;break;case goog.ui.RoundedPanel.Corner.BOTTOM_RIGHT:o="Bottom"+t}return goog.userAgent.WEBKIT?"WebkitBorder"+o+"Radius":"MozBorderRadius"+o},goog.ui.GraphicsRoundedPanel=function(e,o,n,t,g,r){goog.ui.BaseRoundedPanel.call(this,e,o,n,t,g,r)},goog.inherits(goog.ui.GraphicsRoundedPanel,goog.ui.BaseRoundedPanel),goog.ui.GraphicsRoundedPanel.prototype.arcCenters_,goog.ui.GraphicsRoundedPanel.prototype.cornerStarts_,goog.ui.GraphicsRoundedPanel.prototype.endAngles_,goog.ui.GraphicsRoundedPanel.prototype.graphics_,goog.ui.GraphicsRoundedPanel.prototype.radii_,goog.ui.GraphicsRoundedPanel.prototype.startAngles_,goog.ui.GraphicsRoundedPanel.BORDER_WIDTH_FACTOR_=.5,goog.ui.GraphicsRoundedPanel.prototype.decorateInternal=function(e){goog.ui.GraphicsRoundedPanel.superClass_.decorateInternal.call(this,e);var o=goog.style.getSize(this.getElement());this.calculateArcParameters_(o),this.graphics_=goog.graphics.createGraphics(o.width,o.height,o.width,o.height,this.getDomHelper()),this.graphics_.createDom();for(var n=new goog.graphics.Path,t=0;t<4;t++)if(this.radii_[t]){var g=this.arcCenters_[t].x,r=this.arcCenters_[t].y,s=this.radii_[t],i=s,a=this.startAngles_[t],d=this.endAngles_[t]-a,l=g+goog.math.angleDx(a,s),u=r+goog.math.angleDy(a,i);if(t>0){var h=n.getCurrentPoint();h&&l==h[0]&&u==h[1]||n.lineTo(l,u)}else n.moveTo(l,u);n.arcTo(s,i,a,d)}else 0==t?n.moveTo(this.cornerStarts_[t].x,this.cornerStarts_[t].y):n.lineTo(this.cornerStarts_[t].x,this.cornerStarts_[t].y);n.close();var c=this.borderWidth_?new goog.graphics.Stroke(this.borderWidth_,this.borderColor_):null,_=this.backgroundColor_?new goog.graphics.SolidFill(this.backgroundColor_,1):null;this.graphics_.drawPath(n,c,_),this.graphics_.render(this.backgroundElement_)},goog.ui.GraphicsRoundedPanel.prototype.disposeInternal=function(){goog.ui.GraphicsRoundedPanel.superClass_.disposeInternal.call(this),this.graphics_.dispose(),delete this.graphics_,delete this.radii_,delete this.cornerStarts_,delete this.arcCenters_,delete this.startAngles_,delete this.endAngles_},goog.ui.GraphicsRoundedPanel.prototype.calculateArcParameters_=function(e){this.radii_=[],this.cornerStarts_=[],this.arcCenters_=[],this.startAngles_=[],this.endAngles_=[];for(var o,n,t,g,r,s,i,a=this.borderWidth_*goog.ui.GraphicsRoundedPanel.BORDER_WIDTH_FACTOR_,d=0;d<4;d++){var l=Math.pow(2,d),u=l&goog.ui.RoundedPanel.Corner.LEFT,h=l&goog.ui.RoundedPanel.Corner.TOP;switch(o=l&this.corners_?this.radius_:0,l){case goog.ui.RoundedPanel.Corner.BOTTOM_LEFT:n=a+o,t=e.height-a;break;case goog.ui.RoundedPanel.Corner.TOP_LEFT:n=a,t=o+a;break;case goog.ui.RoundedPanel.Corner.TOP_RIGHT:n=e.width-o-a,t=a;break;case goog.ui.RoundedPanel.Corner.BOTTOM_RIGHT:n=e.width-a,t=e.height-o-a}g=u?o+a:e.width-o-a,r=h?o+a:e.height-o-a,i=(s=90*d)+90,this.radii_[d]=o,this.cornerStarts_[d]=new goog.math.Coordinate(n,t),this.arcCenters_[d]=new goog.math.Coordinate(g,r),this.startAngles_[d]=s,this.endAngles_[d]=i}};