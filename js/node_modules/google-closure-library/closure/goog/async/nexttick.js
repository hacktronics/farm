goog.provide("goog.async.nextTick"),goog.provide("goog.async.throwException"),goog.require("goog.debug.entryPointRegistry"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.dom.safe"),goog.require("goog.functions"),goog.require("goog.html.SafeHtml"),goog.require("goog.html.TrustedResourceUrl"),goog.require("goog.labs.userAgent.browser"),goog.require("goog.labs.userAgent.engine"),goog.require("goog.string.Const"),goog.async.throwException=function(o){goog.global.setTimeout(function(){throw o},0)},goog.async.nextTick=function(o,e,g){var t=o;e&&(t=goog.bind(o,e)),t=goog.async.nextTick.wrapCallback_(t),goog.isFunction(goog.global.setImmediate)&&(g||goog.async.nextTick.useSetImmediate_())?goog.global.setImmediate(t):(goog.async.nextTick.setImmediate_||(goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_()),goog.async.nextTick.setImmediate_(t))},goog.async.nextTick.useSetImmediate_=function(){return!goog.global.Window||!goog.global.Window.prototype||!(!goog.labs.userAgent.browser.isEdge()&&goog.global.Window.prototype.setImmediate==goog.global.setImmediate)},goog.async.nextTick.setImmediate_,goog.async.nextTick.getSetImmediateEmulator_=function(){var o=goog.global.MessageChannel;if(void 0===o&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!goog.labs.userAgent.engine.isPresto()&&(o=function(){var o=goog.dom.createElement(goog.dom.TagName.IFRAME);o.style.display="none",goog.dom.safe.setIframeSrc(o,goog.html.TrustedResourceUrl.fromConstant(goog.string.Const.EMPTY)),document.documentElement.appendChild(o);var e=o.contentWindow,g=e.document;g.open(),goog.dom.safe.documentWrite(g,goog.html.SafeHtml.EMPTY),g.close();var t="callImmediate"+Math.random(),n="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,a=goog.bind(function(o){"*"!=n&&o.origin!=n||o.data!=t||this.port1.onmessage()},this);e.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(t,n)}}}),void 0!==o&&!goog.labs.userAgent.browser.isIE()){var e=new o,g={},t=g;return e.port1.onmessage=function(){if(void 0!==g.next){var o=(g=g.next).cb;g.cb=null,o()}},function(o){t.next={cb:o},t=t.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in goog.dom.createElement(goog.dom.TagName.SCRIPT)?function(o){var e=goog.dom.createElement(goog.dom.TagName.SCRIPT);e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,o(),o=null},document.documentElement.appendChild(e)}:function(o){goog.global.setTimeout(o,0)}},goog.async.nextTick.wrapCallback_=goog.functions.identity,goog.debug.entryPointRegistry.register(function(o){goog.async.nextTick.wrapCallback_=o});