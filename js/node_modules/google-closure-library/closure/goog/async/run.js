goog.provide("goog.async.run"),goog.require("goog.async.WorkQueue"),goog.require("goog.async.nextTick"),goog.require("goog.async.throwException"),goog.ASSUME_NATIVE_PROMISE=goog.define("goog.ASSUME_NATIVE_PROMISE",!1),goog.async.run=function(o,e){goog.async.run.schedule_||goog.async.run.initializeRunner_(),goog.async.run.workQueueScheduled_||(goog.async.run.schedule_(),goog.async.run.workQueueScheduled_=!0),goog.async.run.workQueue_.add(o,e)},goog.async.run.initializeRunner_=function(){if(goog.ASSUME_NATIVE_PROMISE||goog.global.Promise&&goog.global.Promise.resolve){var o=goog.global.Promise.resolve(void 0);goog.async.run.schedule_=function(){o.then(goog.async.run.processWorkQueue)}}else goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue)}},goog.async.run.forceNextTick=function(o){goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue),o&&o(goog.async.run.processWorkQueue)}},goog.async.run.schedule_,goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new goog.async.WorkQueue,goog.DEBUG&&(goog.async.run.resetQueue=function(){goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new goog.async.WorkQueue}),goog.async.run.processWorkQueue=function(){for(var o=null;o=goog.async.run.workQueue_.remove();){try{o.fn.call(o.scope)}catch(o){goog.async.throwException(o)}goog.async.run.workQueue_.returnUnused(o)}goog.async.run.workQueueScheduled_=!1};