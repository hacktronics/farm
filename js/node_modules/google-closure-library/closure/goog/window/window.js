goog.provide("goog.window"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.dom.safe"),goog.require("goog.html.SafeUrl"),goog.require("goog.html.uncheckedconversions"),goog.require("goog.labs.userAgent.platform"),goog.require("goog.string"),goog.require("goog.string.Const"),goog.require("goog.userAgent"),goog.window.DEFAULT_POPUP_HEIGHT=500,goog.window.DEFAULT_POPUP_WIDTH=690,goog.window.DEFAULT_POPUP_TARGET="google_popup",goog.window.createFakeWindow_=function(){return{}},goog.window.open=function(o,e,g){e||(e={});var r,n=g||window;if(o instanceof goog.html.SafeUrl)r=o;else{var t=void 0!==o.href?o.href:String(o);r=goog.html.SafeUrl.sanitize(t)}var a=e.target||o.target,i=[];for(var s in e)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+e[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(e[s]?1:0))}var c,u=i.join(",");if(goog.labs.userAgent.platform.isIos()&&n.navigator&&n.navigator.standalone&&a&&"_self"!=a){var d=goog.dom.createElement(goog.dom.TagName.A);goog.dom.safe.setAnchorHref(d,r),d.setAttribute("target",a),e.noreferrer&&d.setAttribute("rel","noreferrer");var w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,n,1),d.dispatchEvent(w),c=goog.window.createFakeWindow_()}else if(e.noreferrer){c=n.open("",a,u);var f=goog.html.SafeUrl.unwrap(r);if(c){goog.userAgent.EDGE_OR_IE&&goog.string.contains(f,";")&&(f="'"+f.replace(/'/g,"%27")+"'"),c.opener=null;var l=goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("b/12014412, meta tag with sanitized URL"),'<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+goog.string.htmlEscape(f)+'">'),m=c.document;m&&(goog.dom.safe.documentWrite(m,l),m.close())}}else(c=n.open(goog.html.SafeUrl.unwrap(r),a,u))&&e.noopener&&(c.opener=null);return c},goog.window.openBlank=function(o,e,g){var r;r=o?goog.string.escapeString(goog.string.htmlEscape(o)):"";var n=goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("b/12014412, encoded string in javascript: URL"),'javascript:"'+encodeURI(r)+'"');return goog.window.open(n,e,g)},goog.window.popup=function(o,e){e||(e={}),e.target=e.target||o.target||goog.window.DEFAULT_POPUP_TARGET,e.width=e.width||goog.window.DEFAULT_POPUP_WIDTH,e.height=e.height||goog.window.DEFAULT_POPUP_HEIGHT;var g=goog.window.open(o,e);return!g||(g.focus(),!1)};