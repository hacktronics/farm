goog.provide("goog.math.Bezier"),goog.require("goog.math"),goog.require("goog.math.Coordinate"),goog.math.Bezier=function(t,i,o,h,e,s,g,r){this.x0=t,this.y0=i,this.x1=o,this.y1=h,this.x2=e,this.y2=s,this.x3=g,this.y3=r},goog.math.Bezier.KAPPA=4*(Math.sqrt(2)-1)/3,goog.math.Bezier.prototype.clone=function(){return new goog.math.Bezier(this.x0,this.y0,this.x1,this.y1,this.x2,this.y2,this.x3,this.y3)},goog.math.Bezier.prototype.equals=function(t){return this.x0==t.x0&&this.y0==t.y0&&this.x1==t.x1&&this.y1==t.y1&&this.x2==t.x2&&this.y2==t.y2&&this.x3==t.x3&&this.y3==t.y3},goog.math.Bezier.prototype.flip=function(){var t=this.x0;this.x0=this.x3,this.x3=t,t=this.y0,this.y0=this.y3,this.y3=t,t=this.x1,this.x1=this.x2,this.x2=t,t=this.y1,this.y1=this.y2,this.y2=t},goog.math.Bezier.prototype.getPointX=function(t){if(0==t)return this.x0;if(1==t)return this.x3;var i=goog.math.lerp(this.x0,this.x1,t),o=goog.math.lerp(this.x1,this.x2,t),h=goog.math.lerp(this.x2,this.x3,t);return i=goog.math.lerp(i,o,t),o=goog.math.lerp(o,h,t),goog.math.lerp(i,o,t)},goog.math.Bezier.prototype.getPointY=function(t){if(0==t)return this.y0;if(1==t)return this.y3;var i=goog.math.lerp(this.y0,this.y1,t),o=goog.math.lerp(this.y1,this.y2,t),h=goog.math.lerp(this.y2,this.y3,t);return i=goog.math.lerp(i,o,t),o=goog.math.lerp(o,h,t),goog.math.lerp(i,o,t)},goog.math.Bezier.prototype.getPoint=function(t){return new goog.math.Coordinate(this.getPointX(t),this.getPointY(t))},goog.math.Bezier.prototype.subdivideLeft=function(t){if(1!=t){var i=goog.math.lerp(this.x0,this.x1,t),o=goog.math.lerp(this.y0,this.y1,t),h=goog.math.lerp(this.x1,this.x2,t),e=goog.math.lerp(this.y1,this.y2,t),s=goog.math.lerp(this.x2,this.x3,t),g=goog.math.lerp(this.y2,this.y3,t);this.x1=i,this.y1=o,i=goog.math.lerp(i,h,t),o=goog.math.lerp(o,e,t),h=goog.math.lerp(h,s,t),e=goog.math.lerp(e,g,t),this.x2=i,this.y2=o,this.x3=goog.math.lerp(i,h,t),this.y3=goog.math.lerp(o,e,t)}},goog.math.Bezier.prototype.subdivideRight=function(t){this.flip(),this.subdivideLeft(1-t),this.flip()},goog.math.Bezier.prototype.subdivide=function(t,i){this.subdivideRight(t),this.subdivideLeft((i-t)/(1-t))},goog.math.Bezier.prototype.solvePositionFromXValue=function(t){var i=1e-6,o=(t-this.x0)/(this.x3-this.x0);if(o<=0)return 0;if(o>=1)return 1;for(var h=0,e=1,s=0,g=0;g<8;g++){s=this.getPointX(o);var r=(this.getPointX(o+i)-s)/i;if(Math.abs(s-t)<i)return o;if(Math.abs(r)<i)break;s<t?h=o:e=o,o-=(s-t)/r}for(g=0;Math.abs(s-t)>i&&g<8;g++)s<t?(h=o,o=(o+e)/2):(e=o,o=(o+h)/2),s=this.getPointX(o);return o},goog.math.Bezier.prototype.solveYValueFromXValue=function(t){return this.getPointY(this.solvePositionFromXValue(t))};