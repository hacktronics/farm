goog.provide("goog.i18n.mime"),goog.provide("goog.i18n.mime.encode"),goog.require("goog.array"),goog.require("goog.i18n.uChar"),goog.i18n.mime.NONASCII_=/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^!-<>@-^`-~]/g,goog.i18n.mime.NONASCII_NOQUOTE_=/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^!#-<>@-^`-~]/g,goog.i18n.mime.encode=function(o,g){var e=g?goog.i18n.mime.NONASCII_NOQUOTE_:goog.i18n.mime.NONASCII_;return o.search(e)>=0&&(o="=?UTF-8?Q?"+o.replace(e,function(o){return 32==o.charCodeAt(0)?"_":goog.array.concat("",goog.i18n.mime.getHexCharArray(o)).join("=")})+"?="),o},goog.i18n.mime.getHexCharArray=function(o){var g=goog.i18n.uChar.toCharCode(o),e=[];for(g<128?e.push(g):g<=2047?e.push(192+(g>>6&63),128+(63&g)):g<=65535?e.push(224+(g>>12&63),128+(g>>6&63),128+(63&g)):e.push(240+(g>>18&63),128+(g>>12&63),128+(g>>6&63),128+(63&g)),g=e.length-1;g>=0;--g)e[g]=e[g].toString(16);return e};