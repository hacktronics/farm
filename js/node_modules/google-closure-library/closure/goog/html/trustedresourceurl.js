goog.provide("goog.html.TrustedResourceUrl"),goog.require("goog.asserts"),goog.require("goog.html.trustedtypes"),goog.require("goog.i18n.bidi.Dir"),goog.require("goog.i18n.bidi.DirectionalString"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.TrustedResourceUrl=function(r,e){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=r===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(r,e){var o=goog.html.TrustedResourceUrl.unwrap(this),t=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(o),s=t[1],u=t[2]||"",g=t[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(s+goog.html.TrustedResourceUrl.stringifyParams_("?",u,r)+goog.html.TrustedResourceUrl.stringifyParams_("#",g,e))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(r){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(r).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(r){return r instanceof goog.html.TrustedResourceUrl&&r.constructor===goog.html.TrustedResourceUrl&&r.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?r.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+r+"' of type "+goog.typeOf(r)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(r,e){var o=goog.string.Const.unwrap(r);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(o))throw new Error("Invalid TrustedResourceUrl format: "+o);var t=o.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(r,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error('Found marker, "'+t+'", in format string, "'+o+'", but no valid label mapping found in args: '+JSON.stringify(e));var s=e[t];return s instanceof goog.string.Const?goog.string.Const.unwrap(s):encodeURIComponent(String(s))});return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=new RegExp("^((https:)?//[0-9a-z.:[\\]-]+/|/[^/\\\\]|[^:/\\\\%]+/|[^:/\\\\%]*[?#]|about:blank#)","i"),goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(r,e,o,t){return goog.html.TrustedResourceUrl.format(r,e).cloneWithParams(o,t)},goog.html.TrustedResourceUrl.fromConstant=function(r){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(r))},goog.html.TrustedResourceUrl.fromConstants=function(r){for(var e="",o=0;o<r.length;o++)e+=goog.string.Const.unwrap(r[o]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(r){var e=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(r):r;return new goog.html.TrustedResourceUrl(goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.html.TrustedResourceUrl.stringifyParams_=function(r,e,o){if(null==o)return e;if("string"==typeof o)return o?r+encodeURIComponent(o):"";for(var t in o)for(var s=o[t],u=goog.isArray(s)?s:[s],g=0;g<u.length;g++){var l=u[g];null!=l&&(e||(e=r),e+=(e.length>r.length?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(String(l)))}return e},goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={};