goog.provide("goog.color"),goog.provide("goog.color.Hsl"),goog.provide("goog.color.Hsv"),goog.provide("goog.color.Rgb"),goog.require("goog.color.names"),goog.require("goog.math"),goog.color.Rgb,goog.color.Hsv,goog.color.Hsl,goog.color.parse=function(o){var r={};o=String(o);var g=goog.color.prependHashIfNecessaryHelper(o);if(goog.color.isValidHexColor_(g))return r.hex=goog.color.normalizeHex(g),r.type="hex",r;var e=goog.color.isValidRgbColor_(o);if(e.length)return r.hex=goog.color.rgbArrayToHex(e),r.type="rgb",r;if(goog.color.names){var l=goog.color.names[o.toLowerCase()];if(l)return r.hex=l,r.type="named",r}throw Error(o+" is not a valid color string")},goog.color.isValidColor=function(o){var r=goog.color.prependHashIfNecessaryHelper(o);return!!(goog.color.isValidHexColor_(r)||goog.color.isValidRgbColor_(o).length||goog.color.names&&goog.color.names[o.toLowerCase()])},goog.color.parseRgb=function(o){var r=goog.color.isValidRgbColor_(o);if(!r.length)throw Error(o+" is not a valid RGB color");return r},goog.color.hexToRgbStyle=function(o){return goog.color.rgbStyle_(goog.color.hexToRgb(o))},goog.color.hexTripletRe_=/#(.)(.)(.)/,goog.color.normalizeHex=function(o){if(!goog.color.isValidHexColor_(o))throw Error("'"+o+"' is not a valid hex color");return 4==o.length&&(o=o.replace(goog.color.hexTripletRe_,"#$1$1$2$2$3$3")),o.toLowerCase()},goog.color.hexToRgb=function(o){o=goog.color.normalizeHex(o);var r=parseInt(o.substr(1),16);return[r>>16,r>>8&255,255&r]},goog.color.rgbToHex=function(o,r,g){if(o=Number(o),r=Number(r),g=Number(g),o!=(255&o)||r!=(255&r)||g!=(255&g))throw Error('"('+o+","+r+","+g+'") is not a valid RGB color');var e=o<<16|r<<8|g;return o<16?"#"+(16777216|e).toString(16).substr(1):"#"+e.toString(16)},goog.color.rgbArrayToHex=function(o){return goog.color.rgbToHex(o[0],o[1],o[2])},goog.color.rgbToHsl=function(o,r,g){var e=o/255,l=r/255,n=g/255,c=Math.max(e,l,n),t=Math.min(e,l,n),a=0,i=0,u=.5*(c+t);return c!=t&&(c==e?a=60*(l-n)/(c-t):c==l?a=60*(n-e)/(c-t)+120:c==n&&(a=60*(e-l)/(c-t)+240),i=0<u&&u<=.5?(c-t)/(2*u):(c-t)/(2-2*u)),[Math.round(a+360)%360,i,u]},goog.color.rgbArrayToHsl=function(o){return goog.color.rgbToHsl(o[0],o[1],o[2])},goog.color.hueToRgb_=function(o,r,g){return g<0?g+=1:g>1&&(g-=1),6*g<1?o+6*(r-o)*g:2*g<1?r:3*g<2?o+(r-o)*(2/3-g)*6:o},goog.color.hslToRgb=function(o,r,g){var e=0,l=0,n=0,c=o/360;if(0==r)e=l=n=255*g;else{var t,a=0;t=2*g-(a=g<.5?g*(1+r):g+r-r*g),e=255*goog.color.hueToRgb_(t,a,c+1/3),l=255*goog.color.hueToRgb_(t,a,c),n=255*goog.color.hueToRgb_(t,a,c-1/3)}return[Math.round(e),Math.round(l),Math.round(n)]},goog.color.hslArrayToRgb=function(o){return goog.color.hslToRgb(o[0],o[1],o[2])},goog.color.validHexColorRe_=/^#(?:[0-9a-f]{3}){1,2}$/i,goog.color.isValidHexColor_=function(o){return goog.color.validHexColorRe_.test(o)},goog.color.rgbColorRe_=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,goog.color.isValidRgbColor_=function(o){var r=o.match(goog.color.rgbColorRe_);if(r){var g=Number(r[1]),e=Number(r[2]),l=Number(r[3]);if(g>=0&&g<=255&&e>=0&&e<=255&&l>=0&&l<=255)return[g,e,l]}return[]},goog.color.prependZeroIfNecessaryHelper=function(o){return 1==o.length?"0"+o:o},goog.color.prependHashIfNecessaryHelper=function(o){return"#"==o.charAt(0)?o:"#"+o},goog.color.rgbStyle_=function(o){return"rgb("+o.join(",")+")"},goog.color.hsvToRgb=function(o,r,g){var e=0,l=0,n=0;if(0==r)e=g,l=g,n=g;else{var c=Math.floor(o/60),t=o/60-c,a=g*(1-r),i=g*(1-r*t),u=g*(1-r*(1-t));switch(c){case 1:e=i,l=g,n=a;break;case 2:e=a,l=g,n=u;break;case 3:e=a,l=i,n=g;break;case 4:e=u,l=a,n=g;break;case 5:e=g,l=a,n=i;break;case 6:case 0:e=g,l=u,n=a}}return[Math.round(e),Math.round(l),Math.round(n)]},goog.color.rgbToHsv=function(o,r,g){var e,l,n=Math.max(Math.max(o,r),g),c=Math.min(Math.min(o,r),g);if(c==n)e=0,l=0;else{var t=n-c;l=t/n,e=o==n?(r-g)/t:r==n?2+(g-o)/t:4+(o-r)/t,(e*=60)<0&&(e+=360),e>360&&(e-=360)}return[e,l,n]},goog.color.rgbArrayToHsv=function(o){return goog.color.rgbToHsv(o[0],o[1],o[2])},goog.color.hsvArrayToRgb=function(o){return goog.color.hsvToRgb(o[0],o[1],o[2])},goog.color.hexToHsl=function(o){var r=goog.color.hexToRgb(o);return goog.color.rgbToHsl(r[0],r[1],r[2])},goog.color.hslToHex=function(o,r,g){return goog.color.rgbArrayToHex(goog.color.hslToRgb(o,r,g))},goog.color.hslArrayToHex=function(o){return goog.color.rgbArrayToHex(goog.color.hslToRgb(o[0],o[1],o[2]))},goog.color.hexToHsv=function(o){return goog.color.rgbArrayToHsv(goog.color.hexToRgb(o))},goog.color.hsvToHex=function(o,r,g){return goog.color.rgbArrayToHex(goog.color.hsvToRgb(o,r,g))},goog.color.hsvArrayToHex=function(o){return goog.color.hsvToHex(o[0],o[1],o[2])},goog.color.hslDistance=function(o,r){var g,e;g=o[2]<=.5?o[1]*o[2]:o[1]*(1-o[2]),e=r[2]<=.5?r[1]*r[2]:r[1]*(1-r[2]);var l=2*(o[0]/360-r[0]/360)*Math.PI;return(o[2]-r[2])*(o[2]-r[2])+g*g+e*e-2*g*e*Math.cos(l)},goog.color.blend=function(o,r,g){return g=goog.math.clamp(g,0,1),[Math.round(r[0]+g*(o[0]-r[0])),Math.round(r[1]+g*(o[1]-r[1])),Math.round(r[2]+g*(o[2]-r[2]))]},goog.color.darken=function(o,r){return goog.color.blend([0,0,0],o,r)},goog.color.lighten=function(o,r){return goog.color.blend([255,255,255],o,r)},goog.color.highContrast=function(o,r){for(var g=[],e=0;e<r.length;e++)g.push({color:r[e],diff:goog.color.yiqBrightnessDiff_(r[e],o)+goog.color.colorDiff_(r[e],o)});return g.sort(function(o,r){return r.diff-o.diff}),g[0].color},goog.color.yiqBrightness_=function(o){return Math.round((299*o[0]+587*o[1]+114*o[2])/1e3)},goog.color.yiqBrightnessDiff_=function(o,r){return Math.abs(goog.color.yiqBrightness_(o)-goog.color.yiqBrightness_(r))},goog.color.colorDiff_=function(o,r){return Math.abs(o[0]-r[0])+Math.abs(o[1]-r[1])+Math.abs(o[2]-r[2])};