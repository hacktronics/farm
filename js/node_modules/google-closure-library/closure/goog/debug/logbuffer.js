goog.provide("goog.debug.LogBuffer"),goog.require("goog.asserts"),goog.require("goog.debug.LogRecord"),goog.debug.LogBuffer=function(){goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(),"Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY."),this.clear()},goog.debug.LogBuffer.getInstance=function(){return goog.debug.LogBuffer.instance_||(goog.debug.LogBuffer.instance_=new goog.debug.LogBuffer),goog.debug.LogBuffer.instance_},goog.debug.LogBuffer.CAPACITY=goog.define("goog.debug.LogBuffer.CAPACITY",0),goog.debug.LogBuffer.prototype.buffer_,goog.debug.LogBuffer.prototype.curIndex_,goog.debug.LogBuffer.prototype.isFull_,goog.debug.LogBuffer.prototype.addRecord=function(g,o,e){var u=(this.curIndex_+1)%goog.debug.LogBuffer.CAPACITY;if(this.curIndex_=u,this.isFull_){var f=this.buffer_[u];return f.reset(g,o,e),f}return this.isFull_=u==goog.debug.LogBuffer.CAPACITY-1,this.buffer_[u]=new goog.debug.LogRecord(g,o,e)},goog.debug.LogBuffer.isBufferingEnabled=function(){return goog.debug.LogBuffer.CAPACITY>0},goog.debug.LogBuffer.prototype.clear=function(){this.buffer_=new Array(goog.debug.LogBuffer.CAPACITY),this.curIndex_=-1,this.isFull_=!1},goog.debug.LogBuffer.prototype.forEachRecord=function(g){var o=this.buffer_;if(o[0]){var e=this.curIndex_,u=this.isFull_?e:-1;do{g(o[u=(u+1)%goog.debug.LogBuffer.CAPACITY])}while(u!=e)}};