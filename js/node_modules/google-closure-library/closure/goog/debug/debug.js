goog.provide("goog.debug"),goog.require("goog.array"),goog.require("goog.debug.errorcontext"),goog.require("goog.userAgent"),goog.debug.LOGGING_ENABLED=goog.define("goog.debug.LOGGING_ENABLED",goog.DEBUG),goog.debug.FORCE_SLOPPY_STACKS=goog.define("goog.debug.FORCE_SLOPPY_STACKS",!1),goog.debug.catchErrors=function(e,o,r){var g=r||goog.global,n=g.onerror,t=!!o;goog.userAgent.WEBKIT&&!goog.userAgent.isVersionOrHigher("535.3")&&(t=!t),g.onerror=function(o,r,g,a,u){return n&&n(o,r,g,a,u),e({message:o,fileName:r,line:g,lineNumber:g,col:a,error:u}),t}},goog.debug.expose=function(e,o){if(void 0===e)return"undefined";if(null==e)return"NULL";var r=[];for(var g in e)if(o||!goog.isFunction(e[g])){var n=g+" = ";try{n+=e[g]}catch(e){n+="*** "+e+" ***"}r.push(n)}return r.join("\n")},goog.debug.deepExpose=function(e,o){var r=[],g=[],n={},t=function(e,a){var u=a+"  ",c=function(e){return e.replace(/\n/g,"\n"+a)};try{if(void 0===e)r.push("undefined");else if(null===e)r.push("NULL");else if("string"==typeof e)r.push('"'+c(e)+'"');else if(goog.isFunction(e))r.push(c(String(e)));else if(goog.isObject(e)){goog.hasUid(e)||g.push(e);var i=goog.getUid(e);if(n[i])r.push("*** reference loop detected (id="+i+") ***");else{for(var s in n[i]=!0,r.push("{"),e)!o&&goog.isFunction(e[s])||(r.push("\n"),r.push(u),r.push(s+" = "),t(e[s],u));r.push("\n"+a+"}"),delete n[i]}}else r.push(e)}catch(e){r.push("*** "+e+" ***")}};t(e,"");for(var a=0;a<g.length;a++)goog.removeUid(g[a]);return r.join("")},goog.debug.exposeArray=function(e){for(var o=[],r=0;r<e.length;r++)goog.isArray(e[r])?o.push(goog.debug.exposeArray(e[r])):o.push(e[r]);return"[ "+o.join(", ")+" ]"},goog.debug.normalizeErrorObject=function(e){var o,r,g=goog.getObjectByName("window.location.href");if(null==e&&(e='Unknown Error of type "null/undefined"'),"string"==typeof e)return{message:e,name:"Unknown error",lineNumber:"Not available",fileName:g,stack:"Not available"};var n=!1;try{o=e.lineNumber||e.line||"Not available"}catch(e){o="Not available",n=!0}try{r=e.fileName||e.filename||e.sourceURL||goog.global.$googDebugFname||g}catch(e){r="Not available",n=!0}if(n||!e.lineNumber||!e.fileName||!e.stack||!e.message||!e.name){var t=e.message;if(null==t)if(e.constructor&&e.constructor instanceof Function)t='Unknown Error of type "'+(e.constructor.name?e.constructor.name:goog.debug.getFunctionName(e.constructor))+'"';else t="Unknown Error of unknown type";return{message:t,name:e.name||"UnknownError",lineNumber:o,fileName:r,stack:e.stack||"Not available"}}return e},goog.debug.enhanceError=function(e,o){var r;if(e instanceof Error?r=e:(r=Error(e),Error.captureStackTrace&&Error.captureStackTrace(r,goog.debug.enhanceError)),r.stack||(r.stack=goog.debug.getStacktrace(goog.debug.enhanceError)),o){for(var g=0;r["message"+g];)++g;r["message"+g]=String(o)}return r},goog.debug.enhanceErrorWithContext=function(e,o){var r=goog.debug.enhanceError(e);if(o)for(var g in o)goog.debug.errorcontext.addErrorContext(r,g,o[g]);return r},goog.debug.getStacktraceSimple=function(e){if(!goog.debug.FORCE_SLOPPY_STACKS){var o=goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);if(o)return o}for(var r=[],g=arguments.callee.caller,n=0;g&&(!e||n<e);){r.push(goog.debug.getFunctionName(g)),r.push("()\n");try{g=g.caller}catch(e){r.push("[exception trying to get caller]\n");break}if(++n>=goog.debug.MAX_STACK_DEPTH){r.push("[...long stack...]");break}}return e&&n>=e?r.push("[...reached max depth limit...]"):r.push("[end]"),r.join("")},goog.debug.MAX_STACK_DEPTH=50,goog.debug.getNativeStackTrace_=function(e){var o=new Error;if(Error.captureStackTrace)return Error.captureStackTrace(o,e),String(o.stack);try{throw o}catch(e){o=e}var r=o.stack;return r?String(r):null},goog.debug.getStacktrace=function(e){var o;if(!goog.debug.FORCE_SLOPPY_STACKS){var r=e||goog.debug.getStacktrace;o=goog.debug.getNativeStackTrace_(r)}return o||(o=goog.debug.getStacktraceHelper_(e||arguments.callee.caller,[])),o},goog.debug.getStacktraceHelper_=function(e,o){var r=[];if(goog.array.contains(o,e))r.push("[...circular reference...]");else if(e&&o.length<goog.debug.MAX_STACK_DEPTH){r.push(goog.debug.getFunctionName(e)+"(");for(var g=e.arguments,n=0;g&&n<g.length;n++){var t;n>0&&r.push(", ");var a=g[n];switch(typeof a){case"object":t=a?"object":"null";break;case"string":t=a;break;case"number":t=String(a);break;case"boolean":t=a?"true":"false";break;case"function":t=(t=goog.debug.getFunctionName(a))||"[fn]";break;default:t=typeof a}t.length>40&&(t=t.substr(0,40)+"..."),r.push(t)}o.push(e),r.push(")\n");try{r.push(goog.debug.getStacktraceHelper_(e.caller,o))}catch(e){r.push("[exception trying to get caller]\n")}}else e?r.push("[...long stack...]"):r.push("[end]");return r.join("")},goog.debug.getFunctionName=function(e){if(goog.debug.fnNameCache_[e])return goog.debug.fnNameCache_[e];var o=String(e);if(!goog.debug.fnNameCache_[o]){var r=/function\s+([^\(]+)/m.exec(o);if(r){var g=r[1];goog.debug.fnNameCache_[o]=g}else goog.debug.fnNameCache_[o]="[Anonymous]"}return goog.debug.fnNameCache_[o]},goog.debug.makeWhitespaceVisible=function(e){return e.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,"[n]\n").replace(/\r/g,"[r]").replace(/\t/g,"[t]")},goog.debug.runtimeType=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.debug.fnNameCache_={},goog.debug.freezeInternal_=goog.DEBUG&&Object.freeze||function(e){return e},goog.debug.freeze=function(e){return goog.debug.freezeInternal_(e)};