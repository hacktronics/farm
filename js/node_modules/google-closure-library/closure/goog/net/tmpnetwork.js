goog.provide("goog.net.tmpnetwork"),goog.require("goog.Uri"),goog.require("goog.dom.safe"),goog.require("goog.net.ChannelDebug"),goog.net.tmpnetwork.GOOGLECOM_TIMEOUT=1e4,goog.net.tmpnetwork.TEST_URL=goog.define("goog.net.tmpnetwork.TEST_URL","//www.google.com/images/cleardot.gif"),goog.net.tmpnetwork.testGoogleCom=function(o,e,t){var g=e;g||(g=new goog.Uri(goog.net.tmpnetwork.TEST_URL)).makeUnique(),goog.net.tmpnetwork.testLoadImage(g.toString(),t||goog.net.tmpnetwork.GOOGLECOM_TIMEOUT,o)},goog.net.tmpnetwork.testLoadImageWithRetries=function(o,e,t,g,n){if((new goog.net.ChannelDebug).debug("TestLoadImageWithRetries: "+n),0!=g){var a=n||0;g--,goog.net.tmpnetwork.testLoadImage(o,e,function(n){n?t(!0):goog.global.setTimeout(function(){goog.net.tmpnetwork.testLoadImageWithRetries(o,e,t,g,a)},a)})}else t(!1)},goog.net.tmpnetwork.testLoadImage=function(o,e,t){var g=new goog.net.ChannelDebug;g.debug("TestLoadImage: loading "+o);var n=new Image;n.onload=function(){try{g.debug("TestLoadImage: loaded"),goog.net.tmpnetwork.clearImageCallbacks_(n),t(!0)}catch(o){g.dumpException(o)}},n.onerror=function(){try{g.debug("TestLoadImage: error"),goog.net.tmpnetwork.clearImageCallbacks_(n),t(!1)}catch(o){g.dumpException(o)}},n.onabort=function(){try{g.debug("TestLoadImage: abort"),goog.net.tmpnetwork.clearImageCallbacks_(n),t(!1)}catch(o){g.dumpException(o)}},n.ontimeout=function(){try{g.debug("TestLoadImage: timeout"),goog.net.tmpnetwork.clearImageCallbacks_(n),t(!1)}catch(o){g.dumpException(o)}},goog.global.setTimeout(function(){n.ontimeout&&n.ontimeout()},e),goog.dom.safe.setImageSrc(n,o)},goog.net.tmpnetwork.clearImageCallbacks_=function(o){o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null};