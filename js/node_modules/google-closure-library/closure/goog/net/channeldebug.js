goog.provide("goog.net.ChannelDebug"),goog.forwardDeclare("goog.Uri"),goog.forwardDeclare("goog.net.XmlHttp.ReadyState"),goog.require("goog.json"),goog.require("goog.log"),goog.net.ChannelDebug=function(){this.logger_=goog.log.getLogger("goog.net.BrowserChannel")},goog.net.ChannelDebug.prototype.getLogger=function(){return this.logger_},goog.net.ChannelDebug.prototype.browserOfflineResponse=function(e){this.info("BROWSER_OFFLINE: "+e)},goog.net.ChannelDebug.prototype.xmlHttpChannelRequest=function(e,o,n,t,g){this.info("XMLHTTP REQ ("+n+") [attempt "+t+"]: "+e+"\n"+o+"\n"+this.maybeRedactPostData_(g))},goog.net.ChannelDebug.prototype.xmlHttpChannelResponseMetaData=function(e,o,n,t,g,r){this.info("XMLHTTP RESP ("+n+") [ attempt "+t+"]: "+e+"\n"+o+"\n"+g+" "+r)},goog.net.ChannelDebug.prototype.xmlHttpChannelResponseText=function(e,o,n){this.info("XMLHTTP TEXT ("+e+"): "+this.redactResponse_(o)+(n?" "+n:""))},goog.net.ChannelDebug.prototype.tridentChannelRequest=function(e,o,n,t){this.info("TRIDENT REQ ("+n+") [ attempt "+t+"]: "+e+"\n"+o)},goog.net.ChannelDebug.prototype.tridentChannelResponseText=function(e,o){this.info("TRIDENT TEXT ("+e+"): "+this.redactResponse_(o))},goog.net.ChannelDebug.prototype.tridentChannelResponseDone=function(e,o){this.info("TRIDENT TEXT ("+e+"): "+o?"success":"failure")},goog.net.ChannelDebug.prototype.timeoutResponse=function(e){this.info("TIMEOUT: "+e)},goog.net.ChannelDebug.prototype.debug=function(e){this.info(e)},goog.net.ChannelDebug.prototype.dumpException=function(e,o="Exception"){this.severe(o,e)},goog.net.ChannelDebug.prototype.info=function(e){goog.log.info(this.logger_,e)},goog.net.ChannelDebug.prototype.warning=function(e){goog.log.warning(this.logger_,e)},goog.net.ChannelDebug.prototype.severe=function(e,o=void 0){goog.log.error(this.logger_,e,o)},goog.net.ChannelDebug.prototype.redactResponse_=function(e){if(!e||e==goog.net.ChannelDebug.MAGIC_RESPONSE_COOKIE)return e;try{var o=JSON.parse(e);if(o)for(var n=0;n<o.length;n++)goog.isArray(o[n])&&this.maybeRedactArray_(o[n]);return goog.json.serialize(o)}catch(o){return this.debug("Exception parsing expected JS array - probably was not JS"),e}},goog.net.ChannelDebug.prototype.maybeRedactArray_=function(e){if(!(e.length<2)){var o=e[1];if(goog.isArray(o)&&!(o.length<1)){var n=o[0];if("noop"!=n&&"stop"!=n)for(var t=1;t<o.length;t++)o[t]=""}}},goog.net.ChannelDebug.prototype.maybeRedactPostData_=function(e){if(!e)return null;for(var o="",n=e.split("&"),t=0;t<n.length;t++){var g=n[t].split("=");if(g.length>1){var r=g[0],i=g[1],a=r.split("_");a.length>=2&&"type"==a[1]?o+=r+"="+i+"&":o+=r+"=redacted&"}}return o},goog.net.ChannelDebug.MAGIC_RESPONSE_COOKIE="y2f%";