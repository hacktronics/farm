goog.provide("goog.ds.BaseDataNode"),goog.provide("goog.ds.BasicNodeList"),goog.provide("goog.ds.DataNode"),goog.provide("goog.ds.DataNodeList"),goog.provide("goog.ds.EmptyNodeList"),goog.provide("goog.ds.LoadState"),goog.provide("goog.ds.SortedNodeList"),goog.provide("goog.ds.Util"),goog.provide("goog.ds.logger"),goog.require("goog.array"),goog.require("goog.log"),goog.ds.DataNode=function(){},goog.ds.DataNode.prototype.get=goog.abstractMethod,goog.ds.DataNode.prototype.set=goog.abstractMethod,goog.ds.DataNode.prototype.getChildNodes=goog.abstractMethod,goog.ds.DataNode.prototype.getChildNode=goog.abstractMethod,goog.ds.DataNode.prototype.getChildNodeValue=goog.abstractMethod,goog.ds.DataNode.prototype.setChildNode=goog.abstractMethod,goog.ds.DataNode.prototype.getDataName=goog.abstractMethod,goog.ds.DataNode.prototype.setDataName=goog.abstractMethod,goog.ds.DataNode.prototype.getDataPath=goog.abstractMethod,goog.ds.DataNode.prototype.load=goog.abstractMethod,goog.ds.DataNode.prototype.getLoadState=goog.abstractMethod,goog.ds.DataNode.prototype.isList=goog.abstractMethod,goog.ds.LoadState={LOADED:"LOADED",LOADING:"LOADING",FAILED:"FAILED",NOT_LOADED:"NOT_LOADED"},goog.ds.BaseDataNode=function(){},goog.ds.BaseDataNode.prototype.set=goog.abstractMethod,goog.ds.BaseDataNode.prototype.getChildNodes=function(o){return new goog.ds.EmptyNodeList},goog.ds.BaseDataNode.prototype.getChildNode=function(o,t){return null},goog.ds.BaseDataNode.prototype.getChildNodeValue=function(o){return null},goog.ds.BaseDataNode.prototype.getDataName=goog.abstractMethod,goog.ds.BaseDataNode.prototype.getDataPath=function(){var o="",t=this.getDataName();return this.getParent()&&(o=this.getParent().getDataPath()+(-1!=t.indexOf(goog.ds.STR_ARRAY_START)?"":goog.ds.STR_PATH_SEPARATOR)),o+t},goog.ds.BaseDataNode.prototype.load=goog.nullFunction,goog.ds.BaseDataNode.prototype.getLoadState=function(){return goog.ds.LoadState.LOADED},goog.ds.BaseDataNode.prototype.getParent=goog.abstractMethod,goog.ds.DataNodeList=function(){},goog.ds.DataNodeList.prototype.add=goog.abstractMethod,goog.ds.DataNodeList.prototype.get=goog.abstractMethod,goog.ds.DataNodeList.prototype.getByIndex=goog.abstractMethod,goog.ds.DataNodeList.prototype.getCount=goog.abstractMethod,goog.ds.DataNodeList.prototype.setNode=goog.abstractMethod,goog.ds.DataNodeList.prototype.removeNode=goog.abstractMethod,goog.ds.BasicNodeList=function(o){if(this.map_={},this.list_=[],this.indexMap_={},o)for(var t,e=0;t=o[e];e++)this.add(t)},goog.ds.BasicNodeList.prototype.add=function(o){this.list_.push(o);var t=o.getDataName();t&&(this.map_[t]=o,this.indexMap_[t]=this.list_.length-1)},goog.ds.BasicNodeList.prototype.get=function(o){return this.map_[o]||null},goog.ds.BasicNodeList.prototype.getByIndex=function(o){return this.list_[o]||null},goog.ds.BasicNodeList.prototype.getCount=function(){return this.list_.length},goog.ds.BasicNodeList.prototype.setNode=function(o,t){if(null==t)this.removeNode(o);else{var e=this.indexMap_[o];null!=e?(this.map_[o]=t,this.list_[e]=t):this.add(t)}},goog.ds.BasicNodeList.prototype.removeNode=function(o){var t=this.indexMap_[o];if(null!=t)for(var e in this.list_.splice(t,1),delete this.map_[o],delete this.indexMap_[o],this.indexMap_)this.indexMap_[e]>t&&this.indexMap_[e]--;return null!=t},goog.ds.BasicNodeList.prototype.indexOf=function(o){return this.indexMap_[o]},goog.ds.EmptyNodeList=function(){goog.ds.BasicNodeList.call(this)},goog.inherits(goog.ds.EmptyNodeList,goog.ds.BasicNodeList),goog.ds.EmptyNodeList.prototype.add=function(o){throw new Error("Can't add to EmptyNodeList")},goog.ds.SortedNodeList=function(o,t){this.compareFn_=o,goog.ds.BasicNodeList.call(this,t)},goog.inherits(goog.ds.SortedNodeList,goog.ds.BasicNodeList),goog.ds.SortedNodeList.prototype.add=function(o){if(this.compareFn_){var t=goog.array.binarySearch(this.list_,o,this.compareFn_);for(var e in t<0&&(t=-(t+1)),this.indexMap_)this.indexMap_[e]>=t&&this.indexMap_[e]++;goog.array.insertAt(this.list_,o,t);var g=o.getDataName();g&&(this.map_[g]=o,this.indexMap_[g]=t)}else this.append(o)},goog.ds.SortedNodeList.prototype.append=function(o){goog.ds.SortedNodeList.superClass_.add.call(this,o)},goog.ds.SortedNodeList.prototype.setNode=function(o,t){if(null==t)this.removeNode(o);else{var e=this.indexMap_[o];if(null!=e){if(this.compareFn_)0==this.compareFn_(this.list_[e],t)?(this.map_[o]=t,this.list_[e]=t):(this.removeNode(o),this.add(t))}else this.add(t)}},goog.ds.STR_ATTRIBUTE_START="@",goog.ds.STR_ALL_CHILDREN_SELECTOR="*",goog.ds.STR_WILDCARD="*",goog.ds.STR_PATH_SEPARATOR="/",goog.ds.STR_ARRAY_START="[",goog.ds.logger=goog.log.getLogger("goog.ds"),goog.ds.Util.makeReferenceNode=function(o,t){var e=function(){};e.prototype=o;var g=new e;return g.getDataName=function(){return t},g};