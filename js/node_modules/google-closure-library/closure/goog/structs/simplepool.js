goog.provide("goog.structs.SimplePool"),goog.require("goog.Disposable"),goog.structs.SimplePool=function(e,t){goog.Disposable.call(this),this.createObjectFn_=null,this.disposeObjectFn_=null,this.maxCount_=t,this.freeQueue_=[],this.createInitial_(e)},goog.inherits(goog.structs.SimplePool,goog.Disposable),goog.structs.SimplePool.prototype.setCreateObjectFn=function(e){this.createObjectFn_=e},goog.structs.SimplePool.prototype.setDisposeObjectFn=function(e){this.disposeObjectFn_=e},goog.structs.SimplePool.prototype.getObject=function(){return this.freeQueue_.length?this.freeQueue_.pop():this.createObject()},goog.structs.SimplePool.prototype.releaseObject=function(e){this.freeQueue_.length<this.maxCount_?this.freeQueue_.push(e):this.disposeObject(e)},goog.structs.SimplePool.prototype.createInitial_=function(e){if(e>this.maxCount_)throw new Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var t=0;t<e;t++)this.freeQueue_.push(this.createObject())},goog.structs.SimplePool.prototype.createObject=function(){return this.createObjectFn_?this.createObjectFn_():{}},goog.structs.SimplePool.prototype.disposeObject=function(e){if(this.disposeObjectFn_)this.disposeObjectFn_(e);else if(goog.isObject(e))if(goog.isFunction(e.dispose))e.dispose();else for(var t in e)delete e[t]},goog.structs.SimplePool.prototype.disposeInternal=function(){goog.structs.SimplePool.superClass_.disposeInternal.call(this);for(var e=this.freeQueue_;e.length;)this.disposeObject(e.pop());delete this.freeQueue_};