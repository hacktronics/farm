goog.provide("goog.structs.CircularBuffer"),goog.structs.CircularBuffer=function(t){this.nextPtr_=0,this.maxSize_=t||100,this.buff_=[]},goog.structs.CircularBuffer.prototype.add=function(t){const r=this.buff_[this.nextPtr_];return this.buff_[this.nextPtr_]=t,this.nextPtr_=(this.nextPtr_+1)%this.maxSize_,r},goog.structs.CircularBuffer.prototype.get=function(t){return t=this.normalizeIndex_(t),this.buff_[t]},goog.structs.CircularBuffer.prototype.set=function(t,r){t=this.normalizeIndex_(t),this.buff_[t]=r},goog.structs.CircularBuffer.prototype.getCount=function(){return this.buff_.length},goog.structs.CircularBuffer.prototype.isEmpty=function(){return 0==this.buff_.length},goog.structs.CircularBuffer.prototype.clear=function(){this.buff_.length=0,this.nextPtr_=0},goog.structs.CircularBuffer.prototype.getValues=function(){return this.getNewestValues(this.getCount())},goog.structs.CircularBuffer.prototype.getNewestValues=function(t){const r=this.getCount(),e=[];for(let o=this.getCount()-t;o<r;o++)e.push(this.get(o));return e},goog.structs.CircularBuffer.prototype.getKeys=function(){const t=[],r=this.getCount();for(let e=0;e<r;e++)t[e]=e;return t},goog.structs.CircularBuffer.prototype.containsKey=function(t){return t<this.getCount()},goog.structs.CircularBuffer.prototype.containsValue=function(t){const r=this.getCount();for(let e=0;e<r;e++)if(this.get(e)==t)return!0;return!1},goog.structs.CircularBuffer.prototype.getLast=function(){return 0==this.getCount()?null:this.get(this.getCount()-1)},goog.structs.CircularBuffer.prototype.normalizeIndex_=function(t){if(t>=this.buff_.length)throw new Error("Out of bounds exception");return this.buff_.length<this.maxSize_?t:(this.nextPtr_+Number(t))%this.maxSize_};