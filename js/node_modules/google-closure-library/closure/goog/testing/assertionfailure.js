goog.module("goog.testing.safe.assertionFailure"),goog.setTestOnly();const asserts=goog.require("goog.asserts"),testingAsserts=goog.require("goog.testing.asserts");exports.withAssertionFailure=function(s,e,r){try{r||(r=1);var t=0;asserts.setErrorHandler(function(s){asserts.assertInstanceof(s,asserts.AssertionError,"A none assertion failure is thrown"),e&&testingAsserts.assertContains(e,s.message),t+=1});var o=s();return asserts.assert(t==r,"%d assertion failed.",t),o}finally{asserts.setErrorHandler(asserts.DEFAULT_ERROR_HANDLER)}};