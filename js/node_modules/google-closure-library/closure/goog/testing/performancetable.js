goog.setTestOnly("goog.testing.PerformanceTable"),goog.provide("goog.testing.PerformanceTable"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.testing.PerformanceTimer"),goog.testing.PerformanceTable=function(o,e,t,g){this.root_=o,this.precision_=t||0;var r=e;r||((r=new goog.testing.PerformanceTimer).setNumSamples(g||5),r.setDiscardOutliers(!0)),this.timer_=r,this.initRoot_()},goog.testing.PerformanceTable.prototype.getTimer=function(){return this.timer_},goog.testing.PerformanceTable.prototype.initRoot_=function(){this.root_.innerHTML='<table class="test-results" cellspacing="1">  <thead>    <tr>      <th rowspan="2">Test Description</th>      <th rowspan="2">Runs</th>      <th colspan="4">Results (ms)</th>    </tr>    <tr>      <th>Average</th>      <th>Median</th>      <th>Std Dev</th>      <th>Minimum</th>      <th>Maximum</th>    </tr>  </thead>  <tbody>  </tbody></table>'},goog.testing.PerformanceTable.prototype.getTableBody_=function(){return goog.dom.getElementsByTagName(goog.dom.TagName.TBODY,goog.asserts.assert(this.root_))[0]},goog.testing.PerformanceTable.prototype.round_=function(o){var e=Math.pow(10,this.precision_);return String(Math.round(o*e)/e)},goog.testing.PerformanceTable.prototype.run=function(o,e){this.runTask(new goog.testing.PerformanceTimer.Task(o),e)},goog.testing.PerformanceTable.prototype.runTask=function(o,e){var t=this.timer_.runTask(o);this.recordResults(t,e)},goog.testing.PerformanceTable.prototype.recordResults=function(o,e){var t=o.average,g=o.standardDeviation,r=t<0||g>.5*t,a=goog.dom.createDom(goog.dom.TagName.TR,null,goog.dom.createDom(goog.dom.TagName.TD,"test-description",e||"No description"),goog.dom.createDom(goog.dom.TagName.TD,"test-count",String(o.count)),goog.dom.createDom(goog.dom.TagName.TD,"test-average",this.round_(t)),goog.dom.createDom(goog.dom.TagName.TD,"test-median",String(o.median)),goog.dom.createDom(goog.dom.TagName.TD,"test-standard-deviation",this.round_(g)),goog.dom.createDom(goog.dom.TagName.TD,"test-minimum",String(o.minimum)),goog.dom.createDom(goog.dom.TagName.TD,"test-maximum",String(o.maximum)));r&&(a.className="test-suspicious"),this.getTableBody_().appendChild(a)},goog.testing.PerformanceTable.prototype.reportError=function(o){this.getTableBody_().appendChild(goog.dom.createDom(goog.dom.TagName.TR,null,goog.dom.createDom(goog.dom.TagName.TD,{class:"test-error",colSpan:5},String(o))))};