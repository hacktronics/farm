goog.setTestOnly("goog.testing.DeferredTestCase"),goog.provide("goog.testing.DeferredTestCase"),goog.require("goog.async.Deferred"),goog.require("goog.testing.AsyncTestCase"),goog.require("goog.testing.TestCase"),goog.testing.DeferredTestCase=function(e){goog.testing.AsyncTestCase.call(this,e)},goog.inherits(goog.testing.DeferredTestCase,goog.testing.AsyncTestCase),goog.testing.DeferredTestCase.createAndInstall=function(e){var t=new goog.testing.DeferredTestCase(e);return goog.testing.TestCase.initializeTestRunner(t),t},goog.testing.DeferredTestCase.prototype.onError=function(e){this.doAsyncError(e)},goog.testing.DeferredTestCase.prototype.onSuccess=function(){this.continueTesting()},goog.testing.DeferredTestCase.prototype.addWaitForAsync=function(e,t){t.addCallback(goog.bind(this.waitForAsync,this,e))},goog.testing.DeferredTestCase.prototype.waitForDeferred=function(e,t){var o,s;switch(arguments.length){case 1:s=e,o=null;break;case 2:s=t,o=e;break;default:throw new Error("Invalid number of arguments")}s.addCallbacks(this.onSuccess,this.onError,this),o||(o="Waiting for deferred in "+this.getCurrentStepName()),this.waitForAsync(o),s.callback(!0)};