goog.setTestOnly("goog.testing.editor.TestHelper"),goog.provide("goog.testing.editor.TestHelper"),goog.require("goog.Disposable"),goog.require("goog.dom"),goog.require("goog.dom.Range"),goog.require("goog.editor.BrowserFeature"),goog.require("goog.editor.node"),goog.require("goog.editor.plugins.AbstractBubblePlugin"),goog.require("goog.testing.dom"),goog.testing.editor.TestHelper=function(o){if(!o)throw new Error("Null root");goog.Disposable.call(this),this.root_=o,this.savedHtml_=""},goog.inherits(goog.testing.editor.TestHelper,goog.Disposable),goog.testing.editor.TestHelper.prototype.setRoot=function(o){if(!o)throw new Error("Null root");this.root_=o},goog.testing.editor.TestHelper.prototype.setUpEditableElement=function(){this.savedHtml_=this.root_.innerHTML,goog.editor.BrowserFeature.HAS_CONTENT_EDITABLE?this.root_.contentEditable=!0:this.root_.ownerDocument.designMode="on",this.root_.setAttribute("g_editable","true")},goog.testing.editor.TestHelper.prototype.tearDownEditableElement=function(){if(goog.editor.BrowserFeature.HAS_CONTENT_EDITABLE?this.root_.contentEditable=!1:this.root_.ownerDocument.designMode="off",goog.dom.removeChildren(this.root_),this.root_.innerHTML=this.savedHtml_,this.root_.removeAttribute("g_editable"),goog.editor.plugins&&goog.editor.plugins.AbstractBubblePlugin){for(var o in goog.editor.plugins.AbstractBubblePlugin.bubbleMap_)goog.editor.plugins.AbstractBubblePlugin.bubbleMap_[o].dispose();goog.editor.plugins.AbstractBubblePlugin.bubbleMap_={}}},goog.testing.editor.TestHelper.prototype.assertHtmlMatches=function(o){goog.testing.dom.assertHtmlContentsMatch(o,this.root_)},goog.testing.editor.TestHelper.prototype.findTextNode=function(o){return goog.testing.dom.findTextNode(o,this.root_)},goog.testing.editor.TestHelper.prototype.select=function(o,e,t,r){var i,g,s=i="string"==typeof o?this.findTextNode(o):o,n=g=e;t&&"number"==typeof r&&(i="string"==typeof t?this.findTextNode(t):t,g=r);var l=goog.dom.Range.createFromNodes(s,n,i,g);return l.select(),l},goog.testing.editor.TestHelper.prototype.disposeInternal=function(){goog.editor.node.isEditableContainer(this.root_)&&this.tearDownEditableElement(),delete this.root_,goog.testing.editor.TestHelper.base(this,"disposeInternal")};