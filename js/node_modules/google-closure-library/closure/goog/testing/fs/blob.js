goog.setTestOnly("goog.testing.fs.Blob"),goog.provide("goog.testing.fs.Blob"),goog.require("goog.crypt"),goog.require("goog.crypt.base64"),goog.testing.fs.Blob=function(t,o){this.type=o||"",this.data_=[],this.size=0,this.setDataInternal(t||"")},goog.testing.fs.Blob.prototype.slice=function(t,o,e){var i,n;i="number"==typeof t?t<0?Math.max(this.size+t,0):Math.min(t,this.size):0,n="number"==typeof o?o<0?Math.max(this.size+o,0):Math.min(o,this.size):this.size;var s=Math.max(n-i,0);return new goog.testing.fs.Blob(this.data_.slice(i,i+s),e)},goog.testing.fs.Blob.prototype.toString=function(){return goog.crypt.utf8ByteArrayToString(this.data_)},goog.testing.fs.Blob.prototype.toArrayBuffer=function(){for(var t=new ArrayBuffer(this.data_.length),o=new Uint8Array(t),e=0;e<this.data_.length;e++)o[e]=this.data_[e];return t},goog.testing.fs.Blob.prototype.toDataUrl=function(){return"data:"+this.type+";base64,"+goog.crypt.base64.encodeByteArray(this.data_)},goog.testing.fs.Blob.prototype.setDataInternal=function(t){if(this.data_=[],"string"==typeof t)this.appendString_(t);else if(t instanceof Array)for(var o=0;o<t.length;o++){var e=t[o];"string"==typeof e?this.appendString_(e):"number"==typeof e?this.appendByte_(e):e instanceof Uint8Array&&this.appendUint8_(e)}this.size=this.data_.length},goog.testing.fs.Blob.prototype.appendString_=function(t){Array.prototype.push.apply(this.data_,goog.crypt.stringToUtf8ByteArray(t))},goog.testing.fs.Blob.prototype.appendByte_=function(t){this.data_.push(t)},goog.testing.fs.Blob.prototype.appendUint8_=function(t){for(var o=0;o<t.length;o++)this.data_.push(t[o])};