goog.provide("goog.json"),goog.provide("goog.json.Replacer"),goog.provide("goog.json.Reviver"),goog.provide("goog.json.Serializer"),goog.json.USE_NATIVE_JSON=goog.define("goog.json.USE_NATIVE_JSON",!1),goog.json.TRY_NATIVE_JSON=goog.define("goog.json.TRY_NATIVE_JSON",!1),goog.json.isValid=function(o){if(/^\s*$/.test(o))return!1;return/^[\],:{}\s\u2028\u2029]*$/.test(o.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))},goog.json.errorLogger_=goog.nullFunction,goog.json.setErrorLogger=function(o){goog.json.errorLogger_=o},goog.json.parse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(s){let error;if(goog.json.TRY_NATIVE_JSON)try{return goog.global.JSON.parse(s)}catch(o){error=o}const o=String(s);if(goog.json.isValid(o))try{const result=eval("("+o+")");return error&&goog.json.errorLogger_("Invalid JSON: "+o,error),result}catch(o){}throw new Error("Invalid JSON string: "+o)},goog.json.Replacer,goog.json.Reviver,goog.json.serialize=goog.json.USE_NATIVE_JSON?goog.global.JSON.stringify:function(o,e){return new goog.json.Serializer(e).serialize(o)},goog.json.Serializer=function(o){this.replacer_=o},goog.json.Serializer.prototype.serialize=function(o){const e=[];return this.serializeInternal(o,e),e.join("")},goog.json.Serializer.prototype.serializeInternal=function(o,e){if(null!=o){if("object"==typeof o){if(goog.isArray(o))return void this.serializeArray(o,e);if(!(o instanceof String||o instanceof Number||o instanceof Boolean))return void this.serializeObject_(o,e);o=o.valueOf()}switch(typeof o){case"string":this.serializeString_(o,e);break;case"number":this.serializeNumber_(o,e);break;case"boolean":e.push(String(o));break;case"function":e.push("null");break;default:throw new Error("Unknown type: "+typeof o)}}else e.push("null")},goog.json.Serializer.charToJsonCharCache_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},goog.json.Serializer.charsToReplace_=/\uffff/.test("ï¿¿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,goog.json.Serializer.prototype.serializeString_=function(o,e){e.push('"',o.replace(goog.json.Serializer.charsToReplace_,function(o){let e=goog.json.Serializer.charToJsonCharCache_[o];return e||(e="\\u"+(65536|o.charCodeAt(0)).toString(16).substr(1),goog.json.Serializer.charToJsonCharCache_[o]=e),e}),'"')},goog.json.Serializer.prototype.serializeNumber_=function(o,e){e.push(isFinite(o)&&!isNaN(o)?String(o):"null")},goog.json.Serializer.prototype.serializeArray=function(o,e){const r=o.length;e.push("[");let n="";for(let i=0;i<r;i++){e.push(n);const r=o[i];this.serializeInternal(this.replacer_?this.replacer_.call(o,String(i),r):r,e),n=","}e.push("]")},goog.json.Serializer.prototype.serializeObject_=function(o,e){e.push("{");let r="";for(const n in o)if(Object.prototype.hasOwnProperty.call(o,n)){const i=o[n];"function"!=typeof i&&(e.push(r),this.serializeString_(n,e),e.push(":"),this.serializeInternal(this.replacer_?this.replacer_.call(o,n,i):i,e),r=",")}e.push("}")};