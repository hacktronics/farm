goog.module("goog.streams.fullNativeImpl");const fullTypes=goog.require("goog.streams.fullTypes"),liteNativeImpl=goog.require("goog.streams.liteNativeImpl");class NativeReadableStream extends liteNativeImpl.NativeReadableStream{constructor(e){super(e),this[Symbol.asyncIterator]=this.getIterator}getReader(){return new NativeReadableStreamDefaultReader(this.stream.getReader())}cancel(e){return this.stream.cancel(e)}getIterator(e=void 0){return this.stream.getIterator(e)}tee(){return this.stream.tee().map(e=>new NativeReadableStream(e))}}function newReadableStream(e={},a={}){const t={};e.start&&(t.start=a=>e.start(new NativeReadableStreamDefaultController(a))),e.pull&&(t.pull=a=>e.pull(new NativeReadableStreamDefaultController(a))),e.cancel&&(t.cancel=e.cancel);const r=new ReadableStream(t,a);return new NativeReadableStream(r)}class NativeReadableStreamDefaultReader extends liteNativeImpl.NativeReadableStreamDefaultReader{cancel(e){return this.reader.cancel(e)}}class NativeReadableStreamAsyncIterator{constructor(e){this.iterator_=e}next(){return this.iterator_.next()}return(e){return this.iterator_.return(e)}}class NativeReadableStreamDefaultController extends liteNativeImpl.NativeReadableStreamDefaultController{get desiredSize(){return this.controller.desiredSize}}exports={NativeReadableStream:NativeReadableStream,NativeReadableStreamAsyncIterator:NativeReadableStreamAsyncIterator,NativeReadableStreamDefaultController:NativeReadableStreamDefaultController,NativeReadableStreamDefaultReader:NativeReadableStreamDefaultReader,newReadableStream:newReadableStream};