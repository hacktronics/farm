const a0_0x22c6ba=a0_0xb6fc;function a0_0x3628(){const _0x4478ea=['desiredSize','value','enqueue','112PVeHip','testTee_Cancel_NoCancelOnSource','testPull_Throws','testPull_AfterRead','testReaderCancel_RejectingSource','reason2','testDesiredSize_CustomHighWaterMark_Closed','testAsyncIterator_Locked','goog.streams.fullTypes','testCancel_Errored','testDesiredSize_Default_Closed','newReadableStream','testDesiredSize_CustomSize_Closed','testAsyncIterator_Closed','getIterator','testPull_AfterAsyncStart_PreventsReadPulls','testPull_AfterReadOnEmptyStream','testDesiredSize_Default_Increases','testPull_AfterAsyncStart','7534RASsDc','getReader','testDesiredSize_Default_Decreases','testPull_StartEnqueue','3496008FVrESB','testSize_Infinity','1232554SnkjFq','testSize_Chunks','getArguments','testSize_Negative','testPull','testCancel_Locked','push','tee','return','baz','4602830mglEVd','testCancel_ThrowingSource','testReaderCancel_Errored','testDesiredSize_CustomHighWaterMark_Decreases','testSize_Throws','testCancel_RejectingSource','getCalls','testPull_AfterManyReadsOnEmptyStream','next','asyncIterator','goog.streams.liteTestCases','testAsyncIterator_Released','testDesiredSize_CustomSize_Increases','getLastCall','testDesiredSize_CustomSize_Errored','bar','setTestOnly','error','testReaderCancel_Source','6201870joZDgN','module','newReadableStreamWithController','testCancel_Source','testAsyncIterator_Error','testDesiredSize_CustomHighWaterMark_Increases','assign','testDesiredSize_CustomHighWaterMark_Errored','11AmzSEw','195705THKyPr','testDesiredSize_Default_Errored','testPull_Rejects','testTee_Cancel_ReverseOrder','7KOsWQq','done','cancel','testTee_Cancel_Rejects','21QftiSe','testAsyncIterator_Partial','4233564xZCBpF','testCancel_Closed','testTee_Cancel','map','testReaderCancel_Closed','testSize_NonNumber','releaseLock','waitForCalls','start','foo','reason1','reject','assertCallCount','require','close','reset','read','other-error','testReaderCancel_ThrowingSource','testCancel'];a0_0x3628=function(){return _0x4478ea;};return a0_0x3628();}(function(_0x4f60a1,_0x3a074c){const _0x354128=a0_0xb6fc,_0x3bd2e2=_0x4f60a1();while(!![]){try{const _0x57f7ab=parseInt(_0x354128(0x1ec))/0x1+parseInt(_0x354128(0x1e6))/0x2*(-parseInt(_0x354128(0x21a))/0x3)+-parseInt(_0x354128(0x21c))/0x4+parseInt(_0x354128(0x209))/0x5+parseInt(_0x354128(0x1ea))/0x6*(-parseInt(_0x354128(0x216))/0x7)+-parseInt(_0x354128(0x1d3))/0x8*(-parseInt(_0x354128(0x212))/0x9)+parseInt(_0x354128(0x1f6))/0xa*(-parseInt(_0x354128(0x211))/0xb);if(_0x57f7ab===_0x3a074c)break;else _0x3bd2e2['push'](_0x3bd2e2['shift']());}catch(_0x10288d){_0x3bd2e2['push'](_0x3bd2e2['shift']());}}}(a0_0x3628,0x9e9af),(goog[a0_0x22c6ba(0x20a)]('goog.streams.fullTestCases'),goog[a0_0x22c6ba(0x206)]()));const recordFunction=goog['require']('goog.testing.recordFunction'),{ReadableStream:ReadableStream,ReadableStreamDefaultController:ReadableStreamDefaultController,ReadableStreamStrategy:ReadableStreamStrategy,ReadableStreamUnderlyingSource:ReadableStreamUnderlyingSource}=goog[a0_0x22c6ba(0x1c9)](a0_0x22c6ba(0x1db)),{TestCases:LiteTestCases}=goog['require'](a0_0x22c6ba(0x200)),chunkSizeTwo=()=>0x2;class TestCases extends LiteTestCases{constructor(_0x1f11be){const _0xa20410=a0_0x22c6ba;super(_0x1f11be),this[_0xa20410(0x1de)];}['newReadableStreamWithController'](_0x293c46={},_0x3175a1={}){const _0x11ec38=a0_0x22c6ba;let _0x4a73fc;const _0x27da36=_0x293c46[_0x11ec38(0x224)];return _0x293c46=Object[_0x11ec38(0x20f)]({},_0x293c46,{'start':_0x5902db=>(_0x4a73fc=_0x5902db,_0x27da36&&_0x27da36(_0x5902db))}),{'stream':this[_0x11ec38(0x1de)](_0x293c46,_0x3175a1),'controller':_0x4a73fc};}async[a0_0x22c6ba(0x1cf)](){const _0x15959a=a0_0x22c6ba,_0x4942de=this[_0x15959a(0x1de)](),_0x4f2be1=await _0x4942de[_0x15959a(0x218)](new Error(_0x15959a(0x207)));assertUndefined(_0x4f2be1);const {done:_0x1f41fb}=await _0x4942de[_0x15959a(0x1e7)]()[_0x15959a(0x1cc)]();assertTrue(_0x1f41fb);}async[a0_0x22c6ba(0x21d)](){const _0x3eb90b=a0_0x22c6ba,{stream:_0x54ad07,controller:_0x3c84f0}=this[_0x3eb90b(0x20b)]();_0x3c84f0[_0x3eb90b(0x1ca)]();const _0x271a1e=await _0x54ad07[_0x3eb90b(0x218)](new Error(_0x3eb90b(0x207)));assertUndefined(_0x271a1e);const {done:_0x47e3ef}=await _0x54ad07[_0x3eb90b(0x1e7)]()[_0x3eb90b(0x1cc)]();assertTrue(_0x47e3ef);}async[a0_0x22c6ba(0x1dc)](){const _0x4b269f=a0_0x22c6ba,{stream:_0x5d408e,controller:_0x3a4cdc}=this['newReadableStreamWithController'](),_0x104854=new Error(_0x4b269f(0x207));_0x3a4cdc[_0x4b269f(0x207)](_0x104854);const _0x263834=await assertRejects(_0x5d408e[_0x4b269f(0x218)](new Error(_0x4b269f(0x1cd))));assertEquals(_0x104854,_0x263834);}async[a0_0x22c6ba(0x1f1)](){const _0x51fe08=a0_0x22c6ba,_0x346da7=this['newReadableStream']();_0x346da7[_0x51fe08(0x1e7)](),await assertRejects(_0x346da7[_0x51fe08(0x218)](new Error(_0x51fe08(0x207))));}async[a0_0x22c6ba(0x20c)](){const _0x402619=a0_0x22c6ba,_0x3a5b20=recordFunction(),_0x5e12c2=this[_0x402619(0x1de)]({'cancel':_0x3a5b20}),_0xd82e67=new Error(_0x402619(0x207));await _0x5e12c2['cancel'](_0xd82e67),_0x3a5b20['assertCallCount'](0x1),assertEquals(_0xd82e67,_0x3a5b20[_0x402619(0x203)]()[_0x402619(0x1ee)]()[0x0]);}async[a0_0x22c6ba(0x1f7)](){const _0x404e1c=a0_0x22c6ba,_0x30ad80=new Error('error'),_0x5c8a17=recordFunction(()=>{throw _0x30ad80;}),_0x5c9d01=this[_0x404e1c(0x1de)]({'cancel':_0x5c8a17}),_0x4b7531=await assertRejects(_0x5c9d01[_0x404e1c(0x218)](new Error(_0x404e1c(0x1cd))));assertEquals(_0x30ad80,_0x4b7531);}async[a0_0x22c6ba(0x1fb)](){const _0x3b2d1d=a0_0x22c6ba,_0x1bb9d3=new Error(_0x3b2d1d(0x207)),_0x359ea1=recordFunction(()=>Promise[_0x3b2d1d(0x1c7)](_0x1bb9d3)),_0x4e5172=this[_0x3b2d1d(0x1de)]({'cancel':_0x359ea1}),_0x5c1a8e=await assertRejects(_0x4e5172['cancel'](new Error(_0x3b2d1d(0x1cd))));assertEquals(_0x1bb9d3,_0x5c1a8e);}async['testReaderCancel'](){const _0x3f9026=a0_0x22c6ba,_0xa4f06f=this[_0x3f9026(0x1de)]()[_0x3f9026(0x1e7)](),_0x58a9a4=await _0xa4f06f[_0x3f9026(0x218)](new Error(_0x3f9026(0x207)));assertUndefined(_0x58a9a4);const {done:_0x1289c2}=await _0xa4f06f[_0x3f9026(0x1cc)]();assertTrue(_0x1289c2);}async[a0_0x22c6ba(0x220)](){const _0x39ce90=a0_0x22c6ba,{stream:_0x4215f2,controller:_0x14da1e}=this[_0x39ce90(0x20b)](),_0x41ee93=_0x4215f2[_0x39ce90(0x1e7)]();_0x14da1e[_0x39ce90(0x1ca)]();const _0x1948c5=await _0x41ee93[_0x39ce90(0x218)](new Error(_0x39ce90(0x207)));assertUndefined(_0x1948c5);const {done:_0x2a77eb}=await _0x41ee93[_0x39ce90(0x1cc)]();assertTrue(_0x2a77eb);}async[a0_0x22c6ba(0x1f8)](){const _0x33e8b7=a0_0x22c6ba,{stream:_0x38be64,controller:_0x5ed9e8}=this['newReadableStreamWithController'](),_0x1bef83=new Error(_0x33e8b7(0x207));_0x5ed9e8[_0x33e8b7(0x207)](_0x1bef83);const _0x4fe013=await assertRejects(_0x38be64[_0x33e8b7(0x1e7)]()[_0x33e8b7(0x218)](new Error(_0x33e8b7(0x1cd))));assertEquals(_0x1bef83,_0x4fe013);}async[a0_0x22c6ba(0x208)](){const _0x2198b7=a0_0x22c6ba,_0xb36a63=recordFunction(),_0x32d55a=this[_0x2198b7(0x1de)]({'cancel':_0xb36a63}),_0x37b68c=new Error(_0x2198b7(0x207));await _0x32d55a[_0x2198b7(0x1e7)]()[_0x2198b7(0x218)](_0x37b68c),_0xb36a63[_0x2198b7(0x1c8)](0x1),assertEquals(_0x37b68c,_0xb36a63[_0x2198b7(0x203)]()[_0x2198b7(0x1ee)]()[0x0]);}async[a0_0x22c6ba(0x1ce)](){const _0x558609=a0_0x22c6ba,_0x303b86=new Error(_0x558609(0x207)),_0x5e0171=recordFunction(()=>{throw _0x303b86;}),_0xff61fb=this[_0x558609(0x1de)]({'cancel':_0x5e0171}),_0x4c59d4=await assertRejects(_0xff61fb['getReader']()[_0x558609(0x218)](new Error(_0x558609(0x1cd))));assertEquals(_0x303b86,_0x4c59d4);}async[a0_0x22c6ba(0x1d7)](){const _0x1b4389=a0_0x22c6ba,_0x46d9b2=new Error(_0x1b4389(0x207)),_0x57b44e=recordFunction(()=>Promise[_0x1b4389(0x1c7)](_0x46d9b2)),_0xa5a14=this['newReadableStream']({'cancel':_0x57b44e}),_0x5120fc=await assertRejects(_0xa5a14[_0x1b4389(0x1e7)]()['cancel'](new Error(_0x1b4389(0x1cd))));assertEquals(_0x46d9b2,_0x5120fc);}async['testReaderCancel_ReleasedReader'](){const _0x457b77=a0_0x22c6ba,_0x216af6=this[_0x457b77(0x1de)]()[_0x457b77(0x1e7)]();_0x216af6[_0x457b77(0x222)](),await assertRejects(_0x216af6[_0x457b77(0x218)](new Error(_0x457b77(0x207))));}[a0_0x22c6ba(0x1e8)](){const _0x1427db=a0_0x22c6ba,{controller:_0x401925}=this[_0x1427db(0x20b)]();assertEquals(0x1,_0x401925['desiredSize']),_0x401925['enqueue'](_0x1427db(0x225)),assertEquals(0x0,_0x401925[_0x1427db(0x1d0)]),_0x401925['enqueue'](_0x1427db(0x205)),assertEquals(-0x1,_0x401925[_0x1427db(0x1d0)]);}async[a0_0x22c6ba(0x1e4)](){const _0x5afc7d=a0_0x22c6ba,{stream:_0x532d4b,controller:_0x594184}=this[_0x5afc7d(0x20b)]();_0x594184[_0x5afc7d(0x1d2)](_0x5afc7d(0x225)),_0x594184[_0x5afc7d(0x1d2)]('bar'),_0x594184[_0x5afc7d(0x1d2)](_0x5afc7d(0x1f5)),assertEquals(-0x2,_0x594184[_0x5afc7d(0x1d0)]);const _0x44dda4=_0x532d4b[_0x5afc7d(0x1e7)]();await _0x44dda4[_0x5afc7d(0x1cc)](),assertEquals(-0x1,_0x594184['desiredSize']),await _0x44dda4[_0x5afc7d(0x1cc)](),assertEquals(0x0,_0x594184[_0x5afc7d(0x1d0)]),await _0x44dda4[_0x5afc7d(0x1cc)](),assertEquals(0x1,_0x594184[_0x5afc7d(0x1d0)]);}[a0_0x22c6ba(0x213)](){const _0x46e0af=a0_0x22c6ba,{controller:_0x593da1}=this[_0x46e0af(0x20b)]();_0x593da1['error'](new Error(_0x46e0af(0x207))),assertNull(_0x593da1['desiredSize']);}[a0_0x22c6ba(0x1dd)](){const _0x439fe8=a0_0x22c6ba,{controller:_0x3d5e1e}=this['newReadableStreamWithController']();_0x3d5e1e[_0x439fe8(0x1ca)](),assertEquals(0x0,_0x3d5e1e['desiredSize']);}['testDesiredSize_CustomSize_Decreases'](){const _0x5435e8=a0_0x22c6ba,{controller:_0xe4b988}=this[_0x5435e8(0x20b)](void 0x0,{'size':chunkSizeTwo});assertEquals(0x1,_0xe4b988['desiredSize']),_0xe4b988[_0x5435e8(0x1d2)]('foo'),assertEquals(-0x1,_0xe4b988[_0x5435e8(0x1d0)]),_0xe4b988['enqueue']('bar'),assertEquals(-0x3,_0xe4b988[_0x5435e8(0x1d0)]);}async[a0_0x22c6ba(0x202)](){const _0x2ebc1d=a0_0x22c6ba,{stream:_0x33aece,controller:_0x1fa81f}=this[_0x2ebc1d(0x20b)](void 0x0,{'size':chunkSizeTwo});_0x1fa81f[_0x2ebc1d(0x1d2)](_0x2ebc1d(0x225)),_0x1fa81f['enqueue']('bar'),_0x1fa81f['enqueue'](_0x2ebc1d(0x1f5)),assertEquals(-0x5,_0x1fa81f[_0x2ebc1d(0x1d0)]);const _0xe9cfb4=_0x33aece[_0x2ebc1d(0x1e7)]();await _0xe9cfb4[_0x2ebc1d(0x1cc)](),assertEquals(-0x3,_0x1fa81f['desiredSize']),await _0xe9cfb4[_0x2ebc1d(0x1cc)](),assertEquals(-0x1,_0x1fa81f[_0x2ebc1d(0x1d0)]),await _0xe9cfb4[_0x2ebc1d(0x1cc)](),assertEquals(0x1,_0x1fa81f[_0x2ebc1d(0x1d0)]);}[a0_0x22c6ba(0x204)](){const _0xeb1f78=a0_0x22c6ba,{controller:_0x439611}=this[_0xeb1f78(0x20b)](void 0x0,{'size':chunkSizeTwo});_0x439611['error'](new Error('error')),assertNull(_0x439611['desiredSize']);}[a0_0x22c6ba(0x1df)](){const _0x43913c=a0_0x22c6ba,{controller:_0x4b273d}=this[_0x43913c(0x20b)](void 0x0,{'size':chunkSizeTwo});_0x4b273d[_0x43913c(0x1ca)](),assertEquals(0x0,_0x4b273d['desiredSize']);}[a0_0x22c6ba(0x1f9)](){const _0x46b875=a0_0x22c6ba,{controller:_0x524a87}=this[_0x46b875(0x20b)](void 0x0,{'highWaterMark':0x4});assertEquals(0x4,_0x524a87[_0x46b875(0x1d0)]),_0x524a87['enqueue'](_0x46b875(0x225)),assertEquals(0x3,_0x524a87[_0x46b875(0x1d0)]),_0x524a87['enqueue']('bar'),assertEquals(0x2,_0x524a87[_0x46b875(0x1d0)]);}async[a0_0x22c6ba(0x20e)](){const _0x56477b=a0_0x22c6ba,{stream:_0x580784,controller:_0x2b9b34}=this[_0x56477b(0x20b)](void 0x0,{'highWaterMark':0x4});_0x2b9b34['enqueue'](_0x56477b(0x225)),_0x2b9b34[_0x56477b(0x1d2)](_0x56477b(0x205)),_0x2b9b34[_0x56477b(0x1d2)]('baz'),assertEquals(0x1,_0x2b9b34[_0x56477b(0x1d0)]);const _0x4952bf=_0x580784['getReader']();await _0x4952bf[_0x56477b(0x1cc)](),assertEquals(0x2,_0x2b9b34['desiredSize']),await _0x4952bf[_0x56477b(0x1cc)](),assertEquals(0x3,_0x2b9b34['desiredSize']),await _0x4952bf[_0x56477b(0x1cc)](),assertEquals(0x4,_0x2b9b34[_0x56477b(0x1d0)]);}[a0_0x22c6ba(0x210)](){const _0x375638=a0_0x22c6ba,{controller:_0x4d39f4}=this[_0x375638(0x20b)](void 0x0,{'highWaterMark':0x4});_0x4d39f4[_0x375638(0x207)](new Error(_0x375638(0x207))),assertNull(_0x4d39f4[_0x375638(0x1d0)]);}[a0_0x22c6ba(0x1d9)](){const _0x5390f1=a0_0x22c6ba,{controller:_0x57808d}=this[_0x5390f1(0x20b)](void 0x0,{'highWaterMark':0x4});_0x57808d['close'](),assertEquals(0x0,_0x57808d[_0x5390f1(0x1d0)]);}[a0_0x22c6ba(0x1ed)](){const _0x17face=a0_0x22c6ba,_0x3b98b2=recordFunction(()=>0x1),{controller:_0x33de32}=this[_0x17face(0x20b)](void 0x0,{'size':_0x3b98b2});_0x33de32['enqueue']('foo'),_0x33de32[_0x17face(0x1d2)](_0x17face(0x205)),_0x33de32['enqueue'](_0x17face(0x1f5)),_0x3b98b2[_0x17face(0x1c8)](0x3),assertObjectEquals([[_0x17face(0x225)],['bar'],[_0x17face(0x1f5)]],_0x3b98b2[_0x17face(0x1fc)]()[_0x17face(0x21f)](_0x170c91=>_0x170c91[_0x17face(0x1ee)]()));}[a0_0x22c6ba(0x1ef)](){const _0x36c569=a0_0x22c6ba,{controller:_0x3263c5}=this[_0x36c569(0x20b)](void 0x0,{'size':()=>-0x1});assertThrows(()=>{const _0x104c19=_0x36c569;_0x3263c5[_0x104c19(0x1d2)](_0x104c19(0x225));});}[a0_0x22c6ba(0x1eb)](){const _0x3433f5=a0_0x22c6ba,{controller:_0x3f1818}=this[_0x3433f5(0x20b)](void 0x0,{'size':()=>0x1/0x0});assertThrows(()=>{const _0x49edcf=_0x3433f5;_0x3f1818[_0x49edcf(0x1d2)](_0x49edcf(0x225));});}[a0_0x22c6ba(0x221)](){const _0x5e224c=a0_0x22c6ba,{controller:_0x3d1909}=this[_0x5e224c(0x20b)](void 0x0,{'size':()=>_0x5e224c(0x205)});assertThrows(()=>{const _0x1b5481=_0x5e224c;_0x3d1909['enqueue'](_0x1b5481(0x225));});}[a0_0x22c6ba(0x1fa)](){const {controller:_0x141975}=this['newReadableStreamWithController'](void 0x0,{'size':()=>{const _0x10753e=a0_0xb6fc;throw new Error(_0x10753e(0x207));}});assertThrows(()=>{const _0x3bfffe=a0_0xb6fc;_0x141975[_0x3bfffe(0x1d2)](_0x3bfffe(0x225));});}async[a0_0x22c6ba(0x1f0)](){const _0x3c64f0=a0_0x22c6ba,_0x146f67=recordFunction();this[_0x3c64f0(0x20b)]({'pull':_0x146f67}),await void 0x0,_0x146f67[_0x3c64f0(0x1c8)](0x1),await void 0x0,_0x146f67[_0x3c64f0(0x1c8)](0x1);}async[a0_0x22c6ba(0x1e9)](){const _0x5b5f2a=a0_0x22c6ba,_0x4891a4=recordFunction();this[_0x5b5f2a(0x20b)]({'start'(_0x54c979){_0x54c979['enqueue']('foo');},'pull':_0x4891a4}),await void 0x0,_0x4891a4[_0x5b5f2a(0x1c8)](0x0);}async[a0_0x22c6ba(0x1e5)](){const _0xb1c08=a0_0x22c6ba,_0x282597=recordFunction();let _0x532e8b;const _0x398eb9=new Promise(_0x799f87=>{_0x532e8b=_0x799f87;}),_0x5412dc=recordFunction(()=>_0x398eb9);this['newReadableStreamWithController']({'start':_0x5412dc,'pull':_0x282597}),await void 0x0,_0x282597['assertCallCount'](0x0),_0x532e8b(),await _0x398eb9,_0x282597[_0xb1c08(0x1c8)](0x1);}async[a0_0x22c6ba(0x1e2)](){const _0x3e1400=a0_0x22c6ba,_0x2a8cf8=recordFunction();let _0x3194a8;const _0x5ae1df=new Promise(_0x27a0e2=>{_0x3194a8=_0x27a0e2;}),_0x1ecfa3=recordFunction(()=>_0x5ae1df),{stream:_0x74c493}=this[_0x3e1400(0x20b)]({'start':_0x1ecfa3,'pull':_0x2a8cf8});_0x2a8cf8[_0x3e1400(0x1c8)](0x0),_0x74c493[_0x3e1400(0x1e7)]()[_0x3e1400(0x1cc)](),_0x2a8cf8[_0x3e1400(0x1c8)](0x0),_0x3194a8(),await _0x5ae1df,_0x2a8cf8['assertCallCount'](0x1);}async[a0_0x22c6ba(0x1d6)](){const _0x5ea1b2=a0_0x22c6ba,_0x1f8112=recordFunction(),{stream:_0x168c32}=this[_0x5ea1b2(0x20b)]({'pull':_0x1f8112});await _0x1f8112['waitForCalls'](0x1),_0x1f8112[_0x5ea1b2(0x1cb)](),_0x168c32[_0x5ea1b2(0x1e7)]()[_0x5ea1b2(0x1cc)](),_0x1f8112[_0x5ea1b2(0x1c8)](0x1);}async[a0_0x22c6ba(0x1e3)](){const _0x389bbd=a0_0x22c6ba,_0x3c0e06=recordFunction(),{stream:_0x53cd3a}=this[_0x389bbd(0x20b)]({'pull':_0x3c0e06});await _0x3c0e06[_0x389bbd(0x223)](0x1),_0x3c0e06['reset'](),_0x53cd3a[_0x389bbd(0x1e7)]()[_0x389bbd(0x1cc)](),_0x3c0e06['assertCallCount'](0x1);}async['testPull_AfterTwoReadsOnEmptyStream'](){const _0x10ca27=a0_0x22c6ba,_0x957d63=recordFunction(),{stream:_0x1ffa62}=this[_0x10ca27(0x20b)]({'pull':_0x957d63});await _0x957d63[_0x10ca27(0x223)](0x1),_0x957d63['reset']();const _0x1e2467=_0x1ffa62['getReader']();_0x1e2467['read'](),_0x957d63[_0x10ca27(0x1c8)](0x1),_0x1e2467['read'](),_0x957d63[_0x10ca27(0x1c8)](0x1),await void 0x0,_0x957d63[_0x10ca27(0x1c8)](0x2);}async[a0_0x22c6ba(0x1fd)](){const _0x3d3f2b=a0_0x22c6ba,_0x185e1e=recordFunction(),{stream:_0x3d2b0c}=this[_0x3d3f2b(0x20b)]({'pull':_0x185e1e});await _0x185e1e[_0x3d3f2b(0x223)](0x1),_0x185e1e[_0x3d3f2b(0x1cb)]();const _0x121217=_0x3d2b0c['getReader']();_0x121217['read'](),_0x121217[_0x3d3f2b(0x1cc)](),_0x121217['read'](),_0x121217[_0x3d3f2b(0x1cc)](),_0x121217[_0x3d3f2b(0x1cc)](),await 0x0,_0x185e1e[_0x3d3f2b(0x1c8)](0x2);}async['testPull_Asynchronous'](){const _0x318fd5=a0_0x22c6ba;let _0x2c42f7;const _0xe67795=new Promise(_0x94604b=>{_0x2c42f7=_0x94604b;}),_0x2c0ec8=recordFunction(()=>_0xe67795),{stream:_0x3e12b6}=this['newReadableStreamWithController']({'pull':_0x2c0ec8});await _0x2c0ec8[_0x318fd5(0x223)](0x1);const _0x2e45bb=_0x3e12b6[_0x318fd5(0x1e7)]();_0x2e45bb['read'](),_0x2e45bb[_0x318fd5(0x1cc)](),_0x2e45bb['read'](),_0x2c0ec8[_0x318fd5(0x1c8)](0x1),_0x2c42f7(),await _0xe67795,_0x2c0ec8[_0x318fd5(0x1c8)](0x2);}async[a0_0x22c6ba(0x1d5)](){const _0x20b765=a0_0x22c6ba,_0x25ceed=recordFunction(()=>{throw new Error('error');}),{stream:_0x4808ac}=this[_0x20b765(0x20b)]({'pull':_0x25ceed}),_0x5014c7=_0x4808ac[_0x20b765(0x1e7)]();await assertRejects(_0x5014c7['read']());}async[a0_0x22c6ba(0x214)](){const _0x5733c2=a0_0x22c6ba,_0x3239a5=recordFunction(()=>Promise[_0x5733c2(0x1c7)](new Error(_0x5733c2(0x207)))),{stream:_0x22989b}=this['newReadableStreamWithController']({'pull':_0x3239a5}),_0x1f3285=_0x22989b['getReader']();await assertRejects(_0x1f3285[_0x5733c2(0x1cc)]());}async['testTee'](){const _0x3c7c71=a0_0x22c6ba,{stream:_0x169921,controller:_0x4f1d8f}=this['newReadableStreamWithController']();_0x4f1d8f[_0x3c7c71(0x1d2)]('1'),_0x4f1d8f[_0x3c7c71(0x1d2)]('2'),_0x4f1d8f[_0x3c7c71(0x1d2)]('3'),_0x4f1d8f[_0x3c7c71(0x1ca)]();const [_0x49fb67,_0x2c4a44]=_0x169921[_0x3c7c71(0x1f3)](),_0x37dccd=[],_0x3e6338=_0x49fb67[_0x3c7c71(0x1e7)]();let _0x390607=await _0x3e6338['read']();for(;!_0x390607[_0x3c7c71(0x217)];)_0x37dccd[_0x3c7c71(0x1f2)](_0x390607[_0x3c7c71(0x1d1)]),_0x390607=await _0x3e6338[_0x3c7c71(0x1cc)]();assertArrayEquals(['1','2','3'],_0x37dccd);const _0x476fc6=[],_0x176e93=_0x2c4a44[_0x3c7c71(0x1e7)]();let _0x4fe439=await _0x176e93[_0x3c7c71(0x1cc)]();for(;!_0x4fe439[_0x3c7c71(0x217)];)_0x476fc6[_0x3c7c71(0x1f2)](_0x4fe439['value']),_0x4fe439=await _0x176e93[_0x3c7c71(0x1cc)]();assertArrayEquals(['1','2','3'],_0x476fc6);}async[a0_0x22c6ba(0x21e)](){const _0x22fdb1=a0_0x22c6ba,_0x59b144=recordFunction(),{stream:_0x369f35,controller:_0x2e9389}=this[_0x22fdb1(0x20b)]({'cancel':_0x59b144}),[_0x3a6d92,_0x538ef1]=_0x369f35[_0x22fdb1(0x1f3)](),_0x5d5fa1=_0x3a6d92['cancel'](_0x22fdb1(0x226));_0x59b144[_0x22fdb1(0x1c8)](0x0),await 0x0,_0x59b144[_0x22fdb1(0x1c8)](0x0);const _0x5f2194=_0x538ef1[_0x22fdb1(0x218)]('reason2');_0x59b144[_0x22fdb1(0x1c8)](0x1),assertArrayEquals([_0x22fdb1(0x226),_0x22fdb1(0x1d8)],_0x59b144[_0x22fdb1(0x203)]()[_0x22fdb1(0x1ee)]()[0x0]);const _0x82a097=await _0x5d5fa1,_0x5c69bc=await _0x5f2194;assertUndefined(_0x82a097),assertUndefined(_0x5c69bc);}async[a0_0x22c6ba(0x215)](){const _0x4352b9=a0_0x22c6ba,_0x5bcb81=recordFunction(),{stream:_0x327d46,controller:_0x2311ac}=this[_0x4352b9(0x20b)]({'cancel':_0x5bcb81}),[_0x4e45b7,_0x2bcb95]=_0x327d46['tee'](),_0x46e5b8=_0x2bcb95[_0x4352b9(0x218)]('reason2');_0x5bcb81[_0x4352b9(0x1c8)](0x0),await 0x0,_0x5bcb81[_0x4352b9(0x1c8)](0x0);const _0x339154=_0x4e45b7[_0x4352b9(0x218)](_0x4352b9(0x226));_0x5bcb81[_0x4352b9(0x1c8)](0x1),assertArrayEquals([_0x4352b9(0x226),_0x4352b9(0x1d8)],_0x5bcb81[_0x4352b9(0x203)]()[_0x4352b9(0x1ee)]()[0x0]);const _0x3c6aec=await _0x339154,_0x23f7e0=await _0x46e5b8;assertUndefined(_0x3c6aec),assertUndefined(_0x23f7e0);}async[a0_0x22c6ba(0x1d4)](){const _0x33e129=a0_0x22c6ba,{stream:_0x49c0c5,controller:_0x186c0f}=this[_0x33e129(0x20b)](),[_0x2520a5,_0x44c72e]=_0x49c0c5[_0x33e129(0x1f3)](),_0x3b473e=_0x2520a5[_0x33e129(0x218)](_0x33e129(0x226)),_0x2fbf7d=_0x44c72e['cancel'](_0x33e129(0x1d8)),_0x20ac46=await _0x3b473e,_0x266027=await _0x2fbf7d;assertUndefined(_0x20ac46),assertUndefined(_0x266027);}async[a0_0x22c6ba(0x219)](){const _0x1d8679=a0_0x22c6ba,_0x1b352c=new Error(_0x1d8679(0x207)),_0x912848=recordFunction(()=>{throw _0x1b352c;}),{stream:_0x2630e7,controller:_0x29e6fb}=this[_0x1d8679(0x20b)]({'cancel':_0x912848}),[_0x3a8b47,_0x2a2072]=_0x2630e7[_0x1d8679(0x1f3)](),_0x464189=_0x3a8b47[_0x1d8679(0x218)](_0x1d8679(0x226)),_0x3da23e=_0x2a2072[_0x1d8679(0x218)](_0x1d8679(0x1d8)),_0x49613c=await assertRejects(_0x464189),_0x38cc9e=await assertRejects(_0x3da23e);assertEquals(_0x1b352c,_0x49613c),assertEquals(_0x1b352c,_0x38cc9e);}async['testTee_Locked'](){const _0xec4b41=a0_0x22c6ba,_0x44346d=this['newReadableStream']();_0x44346d[_0xec4b41(0x1e7)](),assertThrows(()=>{const _0x2d7717=_0xec4b41;_0x44346d[_0x2d7717(0x1f3)]();});}}function a0_0xb6fc(_0x40d134,_0x1ce4e1){const _0x36289f=a0_0x3628();return a0_0xb6fc=function(_0xb6fc15,_0x4ae01e){_0xb6fc15=_0xb6fc15-0x1c7;let _0x59123b=_0x36289f[_0xb6fc15];return _0x59123b;},a0_0xb6fc(_0x40d134,_0x1ce4e1);}class TestCasesWithIterator extends TestCases{async['testAsyncIterator'](){const _0x332ddc=a0_0x22c6ba,{stream:_0x3e0e89,controller:_0x463c13}=this['newReadableStreamWithController']();_0x463c13[_0x332ddc(0x1d2)](_0x332ddc(0x225)),_0x463c13[_0x332ddc(0x1d2)](_0x332ddc(0x205)),_0x463c13[_0x332ddc(0x1ca)]();const _0x996ac5=[];for await(const _0x5601a3 of _0x3e0e89)_0x996ac5[_0x332ddc(0x1f2)](_0x5601a3);assertArrayEquals([_0x332ddc(0x225),'bar'],_0x996ac5);}async[a0_0x22c6ba(0x1e0)](){const _0x3cee24=a0_0x22c6ba,{stream:_0xf76d23,controller:_0x596d76}=this[_0x3cee24(0x20b)]();_0x596d76['close']();const _0x55a0b8=[];for await(const _0x37a552 of _0xf76d23)_0x55a0b8[_0x3cee24(0x1f2)](_0x37a552);assertArrayEquals([],_0x55a0b8);}async[a0_0x22c6ba(0x20d)](){const _0x37f5a2=a0_0x22c6ba,{stream:_0x3ed8f4,controller:_0x321b3c}=this[_0x37f5a2(0x20b)]();_0x321b3c[_0x37f5a2(0x207)](new Error(_0x37f5a2(0x207)));const _0x30b8e2=_0x3ed8f4[Symbol['asyncIterator']]();assertRejects(_0x30b8e2['next']());}async[a0_0x22c6ba(0x1da)](){const _0x13d4cc=a0_0x22c6ba,_0x22866e=this[_0x13d4cc(0x1de)]();_0x22866e[_0x13d4cc(0x1e7)](),assertThrows(()=>{const _0x5781ba=_0x13d4cc;_0x22866e[Symbol[_0x5781ba(0x1ff)]]();});}async[a0_0x22c6ba(0x21b)](){const _0x4d5ed9=a0_0x22c6ba,{stream:_0x2709f9,controller:_0x1ec2c5}=this[_0x4d5ed9(0x20b)]();_0x1ec2c5[_0x4d5ed9(0x1d2)](_0x4d5ed9(0x225)),_0x1ec2c5[_0x4d5ed9(0x1d2)]('bar'),_0x1ec2c5[_0x4d5ed9(0x1ca)]();const _0x468f69=_0x2709f9['getReader']();await _0x468f69['read'](),_0x468f69[_0x4d5ed9(0x222)]();const _0x5d4d9f=[];for await(const _0x4d4b25 of _0x2709f9)_0x5d4d9f[_0x4d5ed9(0x1f2)](_0x4d4b25);assertArrayEquals([_0x4d5ed9(0x205)],_0x5d4d9f);}async[a0_0x22c6ba(0x201)](){const _0x8c4d1=a0_0x22c6ba,{stream:_0x4fa86f,controller:_0x5f4f23}=this[_0x8c4d1(0x20b)]();_0x5f4f23['close']();const _0x3eba9f=_0x4fa86f[Symbol[_0x8c4d1(0x1ff)]](),{done:_0xf77478}=await _0x3eba9f[_0x8c4d1(0x1fe)]();assertTrue(_0xf77478),assertRejects(_0x3eba9f['next']());}async['testAsyncIterator_Return'](){const _0x361606=a0_0x22c6ba,_0x46583f=recordFunction(),{stream:_0x4e1827,controller:_0x5a3be0}=this['newReadableStreamWithController']({'cancel':_0x46583f}),_0xb4f156=_0x4e1827[Symbol[_0x361606(0x1ff)]](),_0x4ce948=new Error(_0x361606(0x207)),_0x4e460f=await _0xb4f156[_0x361606(0x1f4)](_0x4ce948);_0x46583f[_0x361606(0x1c8)](0x1),assertArrayEquals([_0x4ce948],_0x46583f['getLastCall']()[_0x361606(0x1ee)]()),assertEquals(_0x4ce948,_0x4e460f['value']),assertTrue(_0x4e460f[_0x361606(0x217)]);const _0x3a5cba=_0x4e1827[_0x361606(0x1e7)](),_0x2de7df=await _0x3a5cba[_0x361606(0x1cc)]();assertUndefined(_0x2de7df['value']),assertTrue(_0x2de7df[_0x361606(0x217)]);}async['testAsyncIterator_PreventCancel_Return'](){const _0x26d81b=a0_0x22c6ba,_0x139053=recordFunction(),{stream:_0xe1a2cc,controller:_0x1afd58}=this['newReadableStreamWithController']({'cancel':_0x139053}),_0x3ba39f=_0xe1a2cc[Symbol[_0x26d81b(0x1ff)]]({'preventCancel':!0x0}),_0x574512=new Error(_0x26d81b(0x207)),_0x378fd0=await _0x3ba39f['return'](_0x574512);_0x139053['assertCallCount'](0x0),assertEquals(_0x574512,_0x378fd0[_0x26d81b(0x1d1)]),assertTrue(_0x378fd0[_0x26d81b(0x217)]),await assertRejects(_0x3ba39f['next']());}['testGetIterator'](){const _0x6dca09=a0_0x22c6ba,_0x7583b3=this[_0x6dca09(0x1de)]();assertEquals(_0x7583b3[_0x6dca09(0x1e1)],_0x7583b3[Symbol['asyncIterator']]);}}exports={'TestCases':TestCases,'TestCasesWithIterator':TestCasesWithIterator};