goog.provide("goog.dom.ViewportSizeMonitor"),goog.require("goog.dom"),goog.require("goog.events"),goog.require("goog.events.EventTarget"),goog.require("goog.events.EventType"),goog.require("goog.math.Size"),goog.dom.ViewportSizeMonitor=function(o){goog.dom.ViewportSizeMonitor.base(this,"constructor"),this.window_=o||window,this.listenerKey_=goog.events.listen(this.window_,goog.events.EventType.RESIZE,this.handleResize_,!1,this),this.size_=goog.dom.getViewportSize(this.window_)},goog.inherits(goog.dom.ViewportSizeMonitor,goog.events.EventTarget),goog.dom.ViewportSizeMonitor.getInstanceForWindow=function(o){var e=o||window,i=goog.getUid(e);return goog.dom.ViewportSizeMonitor.windowInstanceMap_[i]=goog.dom.ViewportSizeMonitor.windowInstanceMap_[i]||new goog.dom.ViewportSizeMonitor(e)},goog.dom.ViewportSizeMonitor.removeInstanceForWindow=function(o){var e=goog.getUid(o||window);goog.dispose(goog.dom.ViewportSizeMonitor.windowInstanceMap_[e]),delete goog.dom.ViewportSizeMonitor.windowInstanceMap_[e]},goog.dom.ViewportSizeMonitor.windowInstanceMap_={},goog.dom.ViewportSizeMonitor.prototype.getSize=function(){return this.size_?this.size_.clone():null},goog.dom.ViewportSizeMonitor.prototype.disposeInternal=function(){goog.dom.ViewportSizeMonitor.superClass_.disposeInternal.call(this),this.listenerKey_&&(goog.events.unlistenByKey(this.listenerKey_),this.listenerKey_=null),this.window_=null,this.size_=null},goog.dom.ViewportSizeMonitor.prototype.handleResize_=function(o){var e=goog.dom.getViewportSize(this.window_);goog.math.Size.equals(e,this.size_)||(this.size_=e,this.dispatchEvent(goog.events.EventType.RESIZE))};