goog.provide("goog.dom.dataset"),goog.require("goog.labs.userAgent.browser"),goog.require("goog.string"),goog.require("goog.userAgent.product"),goog.dom.dataset.ALLOWED_=!goog.userAgent.product.IE&&!goog.labs.userAgent.browser.isSafari(),goog.dom.dataset.PREFIX_="data-",goog.dom.dataset.isValidProperty_=function(t){return!/-[a-z]/.test(t)},goog.dom.dataset.set=function(t,o,e){var a=t;if(goog.dom.dataset.ALLOWED_&&a.dataset)a.dataset[o]=e;else{if(!goog.dom.dataset.isValidProperty_(o))throw new Error(goog.DEBUG?'"'+o+'" is not a valid dataset property name.':"");t.setAttribute(goog.dom.dataset.PREFIX_+goog.string.toSelectorCase(o),e)}},goog.dom.dataset.get=function(t,o){if(!goog.dom.dataset.isValidProperty_(o))return null;var e=t;if(goog.dom.dataset.ALLOWED_&&e.dataset){if(goog.labs.userAgent.browser.isAndroidBrowser()&&!(o in e.dataset))return null;var a=e.dataset[o];return void 0===a?null:a}return e.getAttribute(goog.dom.dataset.PREFIX_+goog.string.toSelectorCase(o))},goog.dom.dataset.remove=function(t,o){if(goog.dom.dataset.isValidProperty_(o)){var e=t;goog.dom.dataset.ALLOWED_&&e.dataset?goog.dom.dataset.has(t,o)&&delete e.dataset[o]:t.removeAttribute(goog.dom.dataset.PREFIX_+goog.string.toSelectorCase(o))}},goog.dom.dataset.has=function(t,o){if(!goog.dom.dataset.isValidProperty_(o))return!1;var e=t;return goog.dom.dataset.ALLOWED_&&e.dataset?o in e.dataset:e.hasAttribute?e.hasAttribute(goog.dom.dataset.PREFIX_+goog.string.toSelectorCase(o)):!!e.getAttribute(goog.dom.dataset.PREFIX_+goog.string.toSelectorCase(o))},goog.dom.dataset.getAll=function(t){var o=t;if(goog.dom.dataset.ALLOWED_&&o.dataset)return o.dataset;for(var e={},a=t.attributes,g=0;g<a.length;++g){var r=a[g];if(goog.string.startsWith(r.name,goog.dom.dataset.PREFIX_))e[goog.string.toCamelCase(r.name.substr(5))]=r.value}return e};