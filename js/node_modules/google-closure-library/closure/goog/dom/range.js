goog.provide("goog.dom.Range"),goog.require("goog.dom"),goog.require("goog.dom.AbstractRange"),goog.require("goog.dom.BrowserFeature"),goog.require("goog.dom.ControlRange"),goog.require("goog.dom.MultiRange"),goog.require("goog.dom.NodeType"),goog.require("goog.dom.TextRange"),goog.dom.Range.createFromWindow=function(o){var e=goog.dom.AbstractRange.getBrowserSelectionForWindow(o||window);return e&&goog.dom.Range.createFromBrowserSelection(e)},goog.dom.Range.createFromBrowserSelection=function(o){var e,g=!1;if(o.createRange)try{e=o.createRange()}catch(o){return null}else{if(!o.rangeCount)return null;if(o.rangeCount>1)return goog.dom.MultiRange.createFromBrowserSelection(o);e=o.getRangeAt(0),g=goog.dom.Range.isReversed(o.anchorNode,o.anchorOffset,o.focusNode,o.focusOffset)}return goog.dom.Range.createFromBrowserRange(e,g)},goog.dom.Range.createFromBrowserRange=function(o,e){return goog.dom.AbstractRange.isNativeControlRange(o)?goog.dom.ControlRange.createFromBrowserRange(o):goog.dom.TextRange.createFromBrowserRange(o,e)},goog.dom.Range.createFromNodeContents=function(o,e){return goog.dom.TextRange.createFromNodeContents(o,e)},goog.dom.Range.createCaret=function(o,e){return goog.dom.TextRange.createFromNodes(o,e,o,e)},goog.dom.Range.createFromNodes=function(o,e,g,r){return goog.dom.TextRange.createFromNodes(o,e,g,r)},goog.dom.Range.clearSelection=function(o){var e=goog.dom.AbstractRange.getBrowserSelectionForWindow(o||window);if(e)if(e.empty)try{e.empty()}catch(o){}else try{e.removeAllRanges()}catch(o){}},goog.dom.Range.hasSelection=function(o){var e=goog.dom.AbstractRange.getBrowserSelectionForWindow(o||window);return!!e&&(goog.dom.BrowserFeature.LEGACY_IE_RANGES?"None"!=e.type:!!e.rangeCount)},goog.dom.Range.isReversed=function(o,e,g,r){if(o==g)return r<e;var n;if(o.nodeType==goog.dom.NodeType.ELEMENT&&e)if(n=o.childNodes[e])o=n,e=0;else if(goog.dom.contains(o,g))return!0;if(g.nodeType==goog.dom.NodeType.ELEMENT&&r)if(n=g.childNodes[r])g=n,r=0;else if(goog.dom.contains(g,o))return!1;return(goog.dom.compareNodeOrder(o,g)||e-r)>0};