goog.provide("goog.dom.pattern.Sequence"),goog.require("goog.dom.NodeType"),goog.require("goog.dom.pattern"),goog.require("goog.dom.pattern.AbstractPattern"),goog.require("goog.dom.pattern.MatchType"),goog.dom.pattern.Sequence=function(t,e){this.patterns=t,this.ignoreWhitespace_=!!e,this.currentPosition_=0},goog.inherits(goog.dom.pattern.Sequence,goog.dom.pattern.AbstractPattern),goog.dom.pattern.Sequence.BREAKING_TEXTNODE_RE_=/^\s*$/,goog.dom.pattern.Sequence.prototype.matchToken=function(t,e){if(this.ignoreWhitespace_&&t.nodeType==goog.dom.NodeType.TEXT&&goog.dom.pattern.Sequence.BREAKING_TEXTNODE_RE_.test(t.nodeValue))return goog.dom.pattern.MatchType.MATCHING;switch(this.patterns[this.currentPosition_].matchToken(t,e)){case goog.dom.pattern.MatchType.MATCH:return 0==this.currentPosition_&&(this.matchedNode=t),this.currentPosition_++,this.currentPosition_==this.patterns.length?(this.reset(),goog.dom.pattern.MatchType.MATCH):goog.dom.pattern.MatchType.MATCHING;case goog.dom.pattern.MatchType.MATCHING:return goog.dom.pattern.MatchType.MATCHING;case goog.dom.pattern.MatchType.BACKTRACK_MATCH:return this.currentPosition_++,this.currentPosition_==this.patterns.length?(this.reset(),goog.dom.pattern.MatchType.BACKTRACK_MATCH):this.matchToken(t,e);default:return this.reset(),goog.dom.pattern.MatchType.NO_MATCH}},goog.dom.pattern.Sequence.prototype.reset=function(){this.patterns[this.currentPosition_]&&this.patterns[this.currentPosition_].reset(),this.currentPosition_=0};