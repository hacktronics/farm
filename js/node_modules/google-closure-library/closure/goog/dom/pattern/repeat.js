goog.provide("goog.dom.pattern.Repeat"),goog.require("goog.dom.NodeType"),goog.require("goog.dom.pattern.AbstractPattern"),goog.require("goog.dom.pattern.MatchType"),goog.dom.pattern.Repeat=function(t,e,o){this.pattern_=t,this.minimum_=e||0,this.maximum_=o||null,this.matches=[],this.count=0,this.needsReset_=!1},goog.inherits(goog.dom.pattern.Repeat,goog.dom.pattern.AbstractPattern),goog.dom.pattern.Repeat.prototype.matchToken=function(t,e){if(this.needsReset_&&this.reset(),t.nodeType==goog.dom.NodeType.TEXT&&t.nodeValue.match(/^\s+$/))return goog.dom.pattern.MatchType.MATCHING;switch(this.pattern_.matchToken(t,e)){case goog.dom.pattern.MatchType.MATCH:return 0==this.count&&(this.matchedNode=t),this.count++,this.matches.push(this.pattern_.matchedNode),null!==this.maximum_&&this.count==this.maximum_?(this.needsReset_=!0,goog.dom.pattern.MatchType.MATCH):goog.dom.pattern.MatchType.MATCHING;case goog.dom.pattern.MatchType.MATCHING:return goog.dom.pattern.MatchType.MATCHING;case goog.dom.pattern.MatchType.BACKTRACK_MATCH:return this.count++,this.currentPosition_==this.patterns_.length?(this.needsReset_=!0,goog.dom.pattern.MatchType.BACKTRACK_MATCH):this.matchToken(t,e);default:return this.needsReset_=!0,this.count>=this.minimum_?goog.dom.pattern.MatchType.BACKTRACK_MATCH:goog.dom.pattern.MatchType.NO_MATCH}},goog.dom.pattern.Repeat.prototype.reset=function(){this.pattern_.reset(),this.count=0,this.needsReset_=!1,this.matches.length=0};