goog.provide("goog.dom.pattern.Matcher"),goog.require("goog.dom.TagIterator"),goog.require("goog.dom.pattern.MatchType"),goog.require("goog.iter"),goog.dom.pattern.Matcher=function(){this.patterns_=[],this.callbacks_=[]},goog.dom.pattern.Matcher.prototype.addPattern=function(t,o){this.patterns_.push(t),this.callbacks_.push(o)},goog.dom.pattern.Matcher.prototype.reset_=function(){for(var t=0,o=this.patterns_.length;t<o;t++)this.patterns_[t].reset()},goog.dom.pattern.Matcher.prototype.matchToken_=function(t){for(var o=0,e=this.patterns_.length;o<e;o++){var r=this.patterns_[o];switch(r.matchToken(t.node,t.tagType)){case goog.dom.pattern.MatchType.MATCH:case goog.dom.pattern.MatchType.BACKTRACK_MATCH:if((0,this.callbacks_[o])(r.matchedNode,t,r))return!0}}return!1},goog.dom.pattern.Matcher.prototype.match=function(t){var o=new goog.dom.TagIterator(t);this.reset_(),goog.iter.forEach(o,function(){for(;this.matchToken_(o);)this.reset_()},this)};