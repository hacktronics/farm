goog.provide("goog.dom.FontSizeMonitor"),goog.provide("goog.dom.FontSizeMonitor.EventType"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.events"),goog.require("goog.events.EventTarget"),goog.require("goog.events.EventType"),goog.require("goog.userAgent"),goog.dom.FontSizeMonitor=function(e){goog.events.EventTarget.call(this);var o=e||goog.dom.getDomHelper();this.sizeElement_=o.createDom(goog.userAgent.IE?goog.dom.TagName.DIV:goog.dom.TagName.IFRAME,{style:"position:absolute;width:9em;height:9em;top:-99em",tabIndex:-1,"aria-hidden":"true"});var t=o.getDocument().body;t.insertBefore(this.sizeElement_,t.firstChild);var g=this.resizeTarget_=goog.userAgent.IE?this.sizeElement_:goog.dom.getFrameContentWindow(this.sizeElement_);if(goog.userAgent.GECKO){var i=g.document;i.open(),i.close()}goog.events.listen(g,goog.events.EventType.RESIZE,this.handleResize_,!1,this),this.lastWidth_=this.sizeElement_.offsetWidth},goog.inherits(goog.dom.FontSizeMonitor,goog.events.EventTarget),goog.dom.FontSizeMonitor.EventType={CHANGE:"fontsizechange"},goog.dom.FontSizeMonitor.CHANGE_EVENT=goog.dom.FontSizeMonitor.EventType.CHANGE,goog.dom.FontSizeMonitor.prototype.disposeInternal=function(){goog.dom.FontSizeMonitor.superClass_.disposeInternal.call(this),goog.events.unlisten(this.resizeTarget_,goog.events.EventType.RESIZE,this.handleResize_,!1,this),this.resizeTarget_=null,goog.userAgent.GECKO&&!goog.userAgent.isVersionOrHigher("1.9")||goog.dom.removeNode(this.sizeElement_),delete this.sizeElement_},goog.dom.FontSizeMonitor.prototype.handleResize_=function(e){var o=this.sizeElement_.offsetWidth;this.lastWidth_!=o&&(this.lastWidth_=o,this.dispatchEvent(goog.dom.FontSizeMonitor.EventType.CHANGE))};