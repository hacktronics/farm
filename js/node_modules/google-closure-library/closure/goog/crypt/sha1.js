goog.provide("goog.crypt.Sha1"),goog.require("goog.crypt.Hash"),goog.crypt.Sha1=function(){goog.crypt.Sha1.base(this,"constructor"),this.blockSize=64,this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.pad_[0]=128;for(var i=1;i<this.blockSize;++i)this.pad_[i]=0;this.inbuf_=0,this.total_=0,this.reset()},goog.inherits(goog.crypt.Sha1,goog.crypt.Hash),goog.crypt.Sha1.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},goog.crypt.Sha1.prototype.compress_=function(i,t){t||(t=0);var h=this.W_;if("string"==typeof i)for(var s=0;s<16;s++)h[s]=i.charCodeAt(t)<<24|i.charCodeAt(t+1)<<16|i.charCodeAt(t+2)<<8|i.charCodeAt(t+3),t+=4;else for(s=0;s<16;s++)h[s]=i[t]<<24|i[t+1]<<16|i[t+2]<<8|i[t+3],t+=4;for(s=16;s<80;s++){var o=h[s-3]^h[s-8]^h[s-14]^h[s-16];h[s]=4294967295&(o<<1|o>>>31)}var a,r,c=this.chain_[0],_=this.chain_[1],n=this.chain_[2],e=this.chain_[3],f=this.chain_[4];for(s=0;s<80;s++){s<40?s<20?(a=e^_&(n^e),r=1518500249):(a=_^n^e,r=1859775393):s<60?(a=_&n|e&(_|n),r=2400959708):(a=_^n^e,r=3395469782);o=(c<<5|c>>>27)+a+f+r+h[s]&4294967295;f=e,e=n,n=4294967295&(_<<30|_>>>2),_=c,c=o}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+_&4294967295,this.chain_[2]=this.chain_[2]+n&4294967295,this.chain_[3]=this.chain_[3]+e&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},goog.crypt.Sha1.prototype.update=function(i,t){if(null!=i){void 0===t&&(t=i.length);for(var h=t-this.blockSize,s=0,o=this.buf_,a=this.inbuf_;s<t;){if(0==a)for(;s<=h;)this.compress_(i,s),s+=this.blockSize;if("string"==typeof i){for(;s<t;)if(o[a]=i.charCodeAt(s),++s,++a==this.blockSize){this.compress_(o),a=0;break}}else for(;s<t;)if(o[a]=i[s],++s,++a==this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=t}},goog.crypt.Sha1.prototype.digest=function(){var i=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var h=this.blockSize-1;h>=56;h--)this.buf_[h]=255&t,t/=256;this.compress_(this.buf_);var s=0;for(h=0;h<5;h++)for(var o=24;o>=0;o-=8)i[s]=this.chain_[h]>>o&255,++s;return i};