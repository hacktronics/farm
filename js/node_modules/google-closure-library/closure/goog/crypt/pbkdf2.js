goog.provide("goog.crypt.pbkdf2"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.crypt"),goog.require("goog.crypt.Hmac"),goog.require("goog.crypt.Sha1"),goog.crypt.pbkdf2.deriveKeySha1=function(r,o,g,e){return goog.crypt.pbkdf2.deriveKeyFromPassword_(function(e){for(var t=goog.array.repeat(0,20),a=o.concat(e),c=new goog.crypt.Hmac(new goog.crypt.Sha1,r,64),y=0;y<g;y++)a=c.getHmac(a),t=goog.crypt.xorByteArray(t,a);return t},160,e)},goog.crypt.pbkdf2.deriveKeyFromPassword_=function(r,o,g){goog.asserts.assert(g%8==0,"invalid output key length");var e=Math.ceil(g/o);goog.asserts.assert(e>=1,"invalid number of blocks");for(var t=[],a=1;a<=e;a++){var c=goog.crypt.pbkdf2.integerToByteArray_(a);t=t.concat(r(c))}var y=g%o;if(0!=y){var n=((e-1)*o+y)/8;t.splice(n,(o-y)/8)}return t},goog.crypt.pbkdf2.integerToByteArray_=function(r){var o=new Array(4);return o[0]=r>>24&255,o[1]=r>>16&255,o[2]=r>>8&255,o[3]=255&r,o};