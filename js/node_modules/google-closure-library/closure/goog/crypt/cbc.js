goog.provide("goog.crypt.Cbc"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.crypt"),goog.require("goog.crypt.BlockCipher"),goog.crypt.Cbc=function(r){this.cipher_=r},goog.crypt.Cbc.prototype.encrypt=function(r,o){goog.asserts.assert(r.length%this.cipher_.BLOCK_SIZE==0,"Data's length must be multiple of block size."),goog.asserts.assert(o.length==this.cipher_.BLOCK_SIZE,"Initial vector must be size of one block.");for(var e=[],t=o,g=0;g<r.length;g+=this.cipher_.BLOCK_SIZE){var s=goog.array.slice(r,g,g+this.cipher_.BLOCK_SIZE),i=goog.crypt.xorByteArray(s,t),c=this.cipher_.encrypt(i);goog.array.extend(e,c),t=c}return e},goog.crypt.Cbc.prototype.decrypt=function(r,o){goog.asserts.assert(r.length%this.cipher_.BLOCK_SIZE==0,"Data's length must be multiple of block size."),goog.asserts.assert(o.length==this.cipher_.BLOCK_SIZE,"Initial vector must be size of one block.");for(var e=[],t=0,g=o;t<r.length;){var s=goog.array.slice(r,t,t+this.cipher_.BLOCK_SIZE),i=this.cipher_.decrypt(s),c=goog.crypt.xorByteArray(g,i);goog.array.extend(e,c),g=s,t+=this.cipher_.BLOCK_SIZE}return e};