goog.provide("goog.crypt"),goog.require("goog.array"),goog.require("goog.asserts"),goog.crypt.stringToByteArray=function(r){for(var o=[],t=0,e=0;e<r.length;e++){var g=r.charCodeAt(e);g>255&&(o[t++]=255&g,g>>=8),o[t++]=g}return o},goog.crypt.byteArrayToString=function(r){var o=8192;if(r.length<=o)return String.fromCharCode.apply(null,r);for(var t="",e=0;e<r.length;e+=o){var g=goog.array.slice(r,e,e+o);t+=String.fromCharCode.apply(null,g)}return t},goog.crypt.byteArrayToHex=function(r,o){return goog.array.map(r,function(r){var o=r.toString(16);return o.length>1?o:"0"+o}).join(o||"")},goog.crypt.hexToByteArray=function(r){goog.asserts.assert(r.length%2==0,"Key string length must be multiple of 2");for(var o=[],t=0;t<r.length;t+=2)o.push(parseInt(r.substring(t,t+2),16));return o},goog.crypt.stringToUtf8ByteArray=function(r){for(var o=[],t=0,e=0;e<r.length;e++){var g=r.charCodeAt(e);g<128?o[t++]=g:g<2048?(o[t++]=g>>6|192,o[t++]=63&g|128):55296==(64512&g)&&e+1<r.length&&56320==(64512&r.charCodeAt(e+1))?(g=65536+((1023&g)<<10)+(1023&r.charCodeAt(++e)),o[t++]=g>>18|240,o[t++]=g>>12&63|128,o[t++]=g>>6&63|128,o[t++]=63&g|128):(o[t++]=g>>12|224,o[t++]=g>>6&63|128,o[t++]=63&g|128)}return o},goog.crypt.utf8ByteArrayToString=function(r){for(var o=[],t=0,e=0;t<r.length;){var g=r[t++];if(g<128)o[e++]=String.fromCharCode(g);else if(g>191&&g<224){var n=r[t++];o[e++]=String.fromCharCode((31&g)<<6|63&n)}else if(g>239&&g<365){var a=((7&g)<<18|(63&(n=r[t++]))<<12|(63&(i=r[t++]))<<6|63&r[t++])-65536;o[e++]=String.fromCharCode(55296+(a>>10)),o[e++]=String.fromCharCode(56320+(1023&a))}else{n=r[t++];var i=r[t++];o[e++]=String.fromCharCode((15&g)<<12|(63&n)<<6|63&i)}}return o.join("")},goog.crypt.xorByteArray=function(r,o){goog.asserts.assert(r.length==o.length,"XOR array lengths must match");for(var t=[],e=0;e<r.length;e++)t.push(r[e]^o[e]);return t};