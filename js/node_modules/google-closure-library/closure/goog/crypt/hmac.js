goog.provide("goog.crypt.Hmac"),goog.require("goog.crypt.Hash"),goog.crypt.Hmac=function(t,e,o){goog.crypt.Hmac.base(this,"constructor"),this.hasher_=t,this.blockSize=o||t.blockSize||16,this.keyO_=new Array(this.blockSize),this.keyI_=new Array(this.blockSize),this.initialize_(e)},goog.inherits(goog.crypt.Hmac,goog.crypt.Hash),goog.crypt.Hmac.OPAD_=92,goog.crypt.Hmac.IPAD_=54,goog.crypt.Hmac.prototype.initialize_=function(t){var e;t.length>this.blockSize&&(this.hasher_.update(t),t=this.hasher_.digest(),this.hasher_.reset());for(var o=0;o<this.blockSize;o++)e=o<t.length?t[o]:0,this.keyO_[o]=e^goog.crypt.Hmac.OPAD_,this.keyI_[o]=e^goog.crypt.Hmac.IPAD_;this.hasher_.update(this.keyI_)},goog.crypt.Hmac.prototype.reset=function(){this.hasher_.reset(),this.hasher_.update(this.keyI_)},goog.crypt.Hmac.prototype.update=function(t,e){this.hasher_.update(t,e)},goog.crypt.Hmac.prototype.digest=function(){var t=this.hasher_.digest();return this.hasher_.reset(),this.hasher_.update(this.keyO_),this.hasher_.update(t),this.hasher_.digest()},goog.crypt.Hmac.prototype.getHmac=function(t){return this.reset(),this.update(t),this.digest()};