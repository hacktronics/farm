goog.provide("goog.string"),goog.provide("goog.string.Unicode"),goog.require("goog.dom.safe"),goog.require("goog.html.uncheckedconversions"),goog.require("goog.string.Const"),goog.require("goog.string.internal"),goog.string.DETECT_DOUBLE_ESCAPING=goog.define("goog.string.DETECT_DOUBLE_ESCAPING",!1),goog.string.FORCE_NON_DOM_HTML_UNESCAPING=goog.define("goog.string.FORCE_NON_DOM_HTML_UNESCAPING",!1),goog.string.Unicode={NBSP:" "},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(n,t){for(var r=n.split("%s"),g="",e=Array.prototype.slice.call(arguments,1);e.length&&r.length>1;)g+=r.shift()+e.shift();return g+r.join("%s")},goog.string.collapseWhitespace=function(n){return n.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(n){return 0==n.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(n){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(n))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(n){return!/[^\t\n\r ]/.test(n)},goog.string.isAlpha=function(n){return!/[^a-zA-Z]/.test(n)},goog.string.isNumeric=function(n){return!/[^0-9]/.test(n)},goog.string.isAlphaNumeric=function(n){return!/[^a-zA-Z0-9]/.test(n)},goog.string.isSpace=function(n){return" "==n},goog.string.isUnicodeChar=function(n){return 1==n.length&&n>=" "&&n<="~"||n>=""&&n<="�"},goog.string.stripNewlines=function(n){return n.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(n){return n.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(n){return n.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(n){return n.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(n){return n.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(n){return n.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(n){return n.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(n,t,r){if(n==t)return 0;if(!n)return-1;if(!t)return 1;for(var g=n.toLowerCase().match(r),e=t.toLowerCase().match(r),o=Math.min(g.length,e.length),i=0;i<o;i++){var s=g[i],a=e[i];if(s!=a){var c=parseInt(s,10);if(!isNaN(c)){var u=parseInt(a,10);if(!isNaN(u)&&c-u)return c-u}return s<a?-1:1}}return g.length!=e.length?g.length-e.length:n<t?-1:1},goog.string.intAwareCompare=function(n,t){return goog.string.numberAwareCompare_(n,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(n,t){return goog.string.numberAwareCompare_(n,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(n){return encodeURIComponent(String(n))},goog.string.urlDecode=function(n){return decodeURIComponent(n.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(n,t){return n=goog.string.internal.htmlEscape(n,t),goog.string.DETECT_DOUBLE_ESCAPING&&(n=n.replace(goog.string.E_RE_,"&#101;")),n},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(n){return goog.string.contains(n,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(n):goog.string.unescapePureXmlEntities_(n):n},goog.string.unescapeEntitiesWithDocument=function(n,t){return goog.string.contains(n,"&")?goog.string.unescapeEntitiesUsingDom_(n,t):n},goog.string.unescapeEntitiesUsingDom_=function(n,t){var r,g={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return r=t?t.createElement("div"):goog.global.document.createElement("div"),n.replace(goog.string.HTML_ENTITY_PATTERN_,function(n,t){var e=g[n];if(e)return e;if("#"==t.charAt(0)){var o=Number("0"+t.substr(1));isNaN(o)||(e=String.fromCharCode(o))}return e||(goog.dom.safe.setInnerHtml(r,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),n+" ")),e=r.firstChild.nodeValue.slice(0,-1)),g[n]=e})},goog.string.unescapePureXmlEntities_=function(n){return n.replace(/&([^;]+);/g,function(n,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var r=Number("0"+t.substr(1));if(!isNaN(r))return String.fromCharCode(r)}return n}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(n,t){return goog.string.newLineToBr(n.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(n){return n.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(n,t){for(var r=t.length,g=0;g<r;g++){var e=1==r?t:t.charAt(g);if(n.charAt(0)==e&&n.charAt(n.length-1)==e)return n.substring(1,n.length-1)}return n},goog.string.truncate=function(n,t,r){return r&&(n=goog.string.unescapeEntities(n)),n.length>t&&(n=n.substring(0,t-3)+"..."),r&&(n=goog.string.htmlEscape(n)),n},goog.string.truncateMiddle=function(n,t,r,g){if(r&&(n=goog.string.unescapeEntities(n)),g&&n.length>t){g>t&&(g=t);var e=n.length-g,o=t-g;n=n.substring(0,o)+"..."+n.substring(e)}else if(n.length>t){var i=Math.floor(t/2),s=n.length-i;i+=t%2,n=n.substring(0,i)+"..."+n.substring(s)}return r&&(n=goog.string.htmlEscape(n)),n},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(n){n=String(n);for(var t=['"'],r=0;r<n.length;r++){var g=n.charAt(r),e=g.charCodeAt(0);t[r+1]=goog.string.specialEscapeChars_[g]||(e>31&&e<127?g:goog.string.escapeChar(g))}return t.push('"'),t.join("")},goog.string.escapeString=function(n){for(var t=[],r=0;r<n.length;r++)t[r]=goog.string.escapeChar(n.charAt(r));return t.join("")},goog.string.escapeChar=function(n){if(n in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[n];if(n in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[n]=goog.string.specialEscapeChars_[n];var t=n,r=n.charCodeAt(0);return r>31&&r<127?t=n:(r<256?(t="\\x",(r<16||r>256)&&(t+="0")):(t="\\u",r<4096&&(t+="0")),t+=r.toString(16).toUpperCase()),goog.string.jsEscapeCache_[n]=t},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(n,t){return n&&t?n.split(t).length-1:0},goog.string.removeAt=function(n,t,r){var g=n;return t>=0&&t<n.length&&r>0&&(g=n.substr(0,t)+n.substr(t+r,n.length-t-r)),g},goog.string.remove=function(n,t){return n.replace(t,"")},goog.string.removeAll=function(n,t){var r=new RegExp(goog.string.regExpEscape(t),"g");return n.replace(r,"")},goog.string.replaceAll=function(n,t,r){var g=new RegExp(goog.string.regExpEscape(t),"g");return n.replace(g,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(n){return String(n).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(n,t){return n.repeat(t)}:function(n,t){return new Array(t+1).join(n)},goog.string.padNumber=function(n,t,r){var g=void 0!==r?n.toFixed(r):String(n),e=g.indexOf(".");return-1==e&&(e=g.length),goog.string.repeat("0",Math.max(0,t-e))+g},goog.string.makeSafe=function(n){return null==n?"":String(n)},goog.string.buildString=function(n){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){var n=2147483648;return Math.floor(Math.random()*n).toString(36)+Math.abs(Math.floor(Math.random()*n)^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(n){for(var t=0,r=0;r<n.length;++r)t=31*t+n.charCodeAt(r)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(n){var t=Number(n);return 0==t&&goog.string.isEmptyOrWhitespace(n)?NaN:t},goog.string.isLowerCamelCase=function(n){return/^[a-z]+([A-Z][a-z]*)*$/.test(n)},goog.string.isUpperCamelCase=function(n){return/^([A-Z][a-z]*)+$/.test(n)},goog.string.toCamelCase=function(n){return String(n).replace(/\-([a-z])/g,function(n,t){return t.toUpperCase()})},goog.string.toSelectorCase=function(n){return String(n).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(n,t){var r="string"==typeof t?goog.string.regExpEscape(t):"\\s";r=r?"|["+r+"]+":"";var g=new RegExp("(^"+r+")([a-z])","g");return n.replace(g,function(n,t,r){return t+r.toUpperCase()})},goog.string.capitalize=function(n){return String(n.charAt(0)).toUpperCase()+String(n.substr(1)).toLowerCase()},goog.string.parseInt=function(n){return isFinite(n)&&(n=String(n)),"string"==typeof n?/^\s*-?0x/i.test(n)?parseInt(n,16):parseInt(n,10):NaN},goog.string.splitLimit=function(n,t,r){for(var g=n.split(t),e=[];r>0&&g.length;)e.push(g.shift()),r--;return g.length&&e.push(g.join(t)),e},goog.string.lastComponent=function(n,t){if(!t)return n;"string"==typeof t&&(t=[t]);for(var r=-1,g=0;g<t.length;g++)if(""!=t[g]){var e=n.lastIndexOf(t[g]);e>r&&(r=e)}return-1==r?n:n.slice(r+1)},goog.string.editDistance=function(n,t){var r=[],g=[];if(n==t)return 0;if(!n.length||!t.length)return Math.max(n.length,t.length);for(var e=0;e<t.length+1;e++)r[e]=e;for(e=0;e<n.length;e++){g[0]=e+1;for(var o=0;o<t.length;o++){var i=Number(n[e]!=t[o]);g[o+1]=Math.min(g[o]+1,r[o+1]+1,r[o]+i)}for(o=0;o<r.length;o++)r[o]=g[o]}return g[t.length]};