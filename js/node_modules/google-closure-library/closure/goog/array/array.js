goog.provide("goog.array"),goog.require("goog.asserts"),goog.NATIVE_ARRAY_PROTOTYPES=goog.define("goog.NATIVE_ARRAY_PROTOTYPES",goog.TRUSTED_SITE),goog.array.ASSUME_NATIVE_FUNCTIONS=goog.define("goog.array.ASSUME_NATIVE_FUNCTIONS",goog.FEATURESET_YEAR>2012),goog.array.peek=function(r){return r[r.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(r,o,a){return goog.asserts.assert(null!=r.length),Array.prototype.indexOf.call(r,o,a)}:function(r,o,a){var t=null==a?0:a<0?Math.max(0,r.length+a):a;if("string"==typeof r)return"string"!=typeof o||1!=o.length?-1:r.indexOf(o,t);for(var g=t;g<r.length;g++)if(g in r&&r[g]===o)return g;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(r,o,a){goog.asserts.assert(null!=r.length);var t=null==a?r.length-1:a;return Array.prototype.lastIndexOf.call(r,o,t)}:function(r,o,a){var t=null==a?r.length-1:a;if(t<0&&(t=Math.max(0,r.length+t)),"string"==typeof r)return"string"!=typeof o||1!=o.length?-1:r.lastIndexOf(o,t);for(var g=t;g>=0;g--)if(g in r&&r[g]===o)return g;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(r,o,a){goog.asserts.assert(null!=r.length),Array.prototype.forEach.call(r,o,a)}:function(r,o,a){for(var t=r.length,g="string"==typeof r?r.split(""):r,n=0;n<t;n++)n in g&&o.call(a,g[n],n,r)},goog.array.forEachRight=function(r,o,a){for(var t=r.length,g="string"==typeof r?r.split(""):r,n=t-1;n>=0;--n)n in g&&o.call(a,g[n],n,r)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(r,o,a){return goog.asserts.assert(null!=r.length),Array.prototype.filter.call(r,o,a)}:function(r,o,a){for(var t=r.length,g=[],n=0,e="string"==typeof r?r.split(""):r,l=0;l<t;l++)if(l in e){var y=e[l];o.call(a,y,l,r)&&(g[n++]=y)}return g},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(r,o,a){return goog.asserts.assert(null!=r.length),Array.prototype.map.call(r,o,a)}:function(r,o,a){for(var t=r.length,g=new Array(t),n="string"==typeof r?r.split(""):r,e=0;e<t;e++)e in n&&(g[e]=o.call(a,n[e],e,r));return g},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(r,o,a,t){return goog.asserts.assert(null!=r.length),t&&(o=goog.bind(o,t)),Array.prototype.reduce.call(r,o,a)}:function(r,o,a,t){var g=a;return goog.array.forEach(r,function(a,n){g=o.call(t,g,a,n,r)}),g},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(r,o,a,t){return goog.asserts.assert(null!=r.length),goog.asserts.assert(null!=o),t&&(o=goog.bind(o,t)),Array.prototype.reduceRight.call(r,o,a)}:function(r,o,a,t){var g=a;return goog.array.forEachRight(r,function(a,n){g=o.call(t,g,a,n,r)}),g},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(r,o,a){return goog.asserts.assert(null!=r.length),Array.prototype.some.call(r,o,a)}:function(r,o,a){for(var t=r.length,g="string"==typeof r?r.split(""):r,n=0;n<t;n++)if(n in g&&o.call(a,g[n],n,r))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(r,o,a){return goog.asserts.assert(null!=r.length),Array.prototype.every.call(r,o,a)}:function(r,o,a){for(var t=r.length,g="string"==typeof r?r.split(""):r,n=0;n<t;n++)if(n in g&&!o.call(a,g[n],n,r))return!1;return!0},goog.array.count=function(r,o,a){var t=0;return goog.array.forEach(r,function(r,g,n){o.call(a,r,g,n)&&++t},a),t},goog.array.find=function(r,o,a){var t=goog.array.findIndex(r,o,a);return t<0?null:"string"==typeof r?r.charAt(t):r[t]},goog.array.findIndex=function(r,o,a){for(var t=r.length,g="string"==typeof r?r.split(""):r,n=0;n<t;n++)if(n in g&&o.call(a,g[n],n,r))return n;return-1},goog.array.findRight=function(r,o,a){var t=goog.array.findIndexRight(r,o,a);return t<0?null:"string"==typeof r?r.charAt(t):r[t]},goog.array.findIndexRight=function(r,o,a){for(var t=r.length,g="string"==typeof r?r.split(""):r,n=t-1;n>=0;n--)if(n in g&&o.call(a,g[n],n,r))return n;return-1},goog.array.contains=function(r,o){return goog.array.indexOf(r,o)>=0},goog.array.isEmpty=function(r){return 0==r.length},goog.array.clear=function(r){if(!goog.isArray(r))for(var o=r.length-1;o>=0;o--)delete r[o];r.length=0},goog.array.insert=function(r,o){goog.array.contains(r,o)||r.push(o)},goog.array.insertAt=function(r,o,a){goog.array.splice(r,a,0,o)},goog.array.insertArrayAt=function(r,o,a){goog.partial(goog.array.splice,r,a,0).apply(null,o)},goog.array.insertBefore=function(r,o,a){var t;2==arguments.length||(t=goog.array.indexOf(r,a))<0?r.push(o):goog.array.insertAt(r,o,t)},goog.array.remove=function(r,o){var a,t=goog.array.indexOf(r,o);return(a=t>=0)&&goog.array.removeAt(r,t),a},goog.array.removeLast=function(r,o){var a=goog.array.lastIndexOf(r,o);return a>=0&&(goog.array.removeAt(r,a),!0)},goog.array.removeAt=function(r,o){return goog.asserts.assert(null!=r.length),1==Array.prototype.splice.call(r,o,1).length},goog.array.removeIf=function(r,o,a){var t=goog.array.findIndex(r,o,a);return t>=0&&(goog.array.removeAt(r,t),!0)},goog.array.removeAllIf=function(r,o,a){var t=0;return goog.array.forEachRight(r,function(g,n){o.call(a,g,n,r)&&goog.array.removeAt(r,n)&&t++}),t},goog.array.concat=function(r){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(r){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(r){var o=r.length;if(o>0){for(var a=new Array(o),t=0;t<o;t++)a[t]=r[t];return a}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(r,o){for(var a=1;a<arguments.length;a++){var t=arguments[a];if(goog.isArrayLike(t)){var g=r.length||0,n=t.length||0;r.length=g+n;for(var e=0;e<n;e++)r[g+e]=t[e]}else r.push(t)}},goog.array.splice=function(r,o,a,t){return goog.asserts.assert(null!=r.length),Array.prototype.splice.apply(r,goog.array.slice(arguments,1))},goog.array.slice=function(r,o,a){return goog.asserts.assert(null!=r.length),arguments.length<=2?Array.prototype.slice.call(r,o):Array.prototype.slice.call(r,o,a)},goog.array.removeDuplicates=function(r,o,a){for(var t=o||r,g=a||function(r){return goog.isObject(r)?"o"+goog.getUid(r):(typeof r).charAt(0)+r},n={},e=0,l=0;l<r.length;){var y=r[l++],i=g(y);Object.prototype.hasOwnProperty.call(n,i)||(n[i]=!0,t[e++]=y)}t.length=e},goog.array.binarySearch=function(r,o,a){return goog.array.binarySearch_(r,a||goog.array.defaultCompare,!1,o)},goog.array.binarySelect=function(r,o,a){return goog.array.binarySearch_(r,o,!0,void 0,a)},goog.array.binarySearch_=function(r,o,a,t,g){for(var n,e=0,l=r.length;e<l;){var y,i=e+(l-e>>>1);(y=a?o.call(g,r[i],i,r):o(t,r[i]))>0?e=i+1:(l=i,n=!y)}return n?e:-e-1},goog.array.sort=function(r,o){r.sort(o||goog.array.defaultCompare)},goog.array.stableSort=function(r,o){for(var a=new Array(r.length),t=0;t<r.length;t++)a[t]={index:t,value:r[t]};var g=o||goog.array.defaultCompare;goog.array.sort(a,function(r,o){return g(r.value,o.value)||r.index-o.index});for(t=0;t<r.length;t++)r[t]=a[t].value},goog.array.sortByKey=function(r,o,a){var t=a||goog.array.defaultCompare;goog.array.sort(r,function(r,a){return t(o(r),o(a))})},goog.array.sortObjectsByKey=function(r,o,a){goog.array.sortByKey(r,function(r){return r[o]},a)},goog.array.isSorted=function(r,o,a){for(var t=o||goog.array.defaultCompare,g=1;g<r.length;g++){var n=t(r[g-1],r[g]);if(n>0||0==n&&a)return!1}return!0},goog.array.equals=function(r,o,a){if(!goog.isArrayLike(r)||!goog.isArrayLike(o)||r.length!=o.length)return!1;for(var t=r.length,g=a||goog.array.defaultCompareEquality,n=0;n<t;n++)if(!g(r[n],o[n]))return!1;return!0},goog.array.compare3=function(r,o,a){for(var t=a||goog.array.defaultCompare,g=Math.min(r.length,o.length),n=0;n<g;n++){var e=t(r[n],o[n]);if(0!=e)return e}return goog.array.defaultCompare(r.length,o.length)},goog.array.defaultCompare=function(r,o){return r>o?1:r<o?-1:0},goog.array.inverseDefaultCompare=function(r,o){return-goog.array.defaultCompare(r,o)},goog.array.defaultCompareEquality=function(r,o){return r===o},goog.array.binaryInsert=function(r,o,a){var t=goog.array.binarySearch(r,o,a);return t<0&&(goog.array.insertAt(r,o,-(t+1)),!0)},goog.array.binaryRemove=function(r,o,a){var t=goog.array.binarySearch(r,o,a);return t>=0&&goog.array.removeAt(r,t)},goog.array.bucket=function(r,o,a){for(var t={},g=0;g<r.length;g++){var n=r[g],e=o.call(a,n,g,r);if(void 0!==e)(t[e]||(t[e]=[])).push(n)}return t},goog.array.toObject=function(r,o,a){var t={};return goog.array.forEach(r,function(g,n){t[o.call(a,g,n,r)]=g}),t},goog.array.range=function(r,o,a){var t=[],g=0,n=r,e=a||1;if(void 0!==o&&(g=r,n=o),e*(n-g)<0)return[];if(e>0)for(var l=g;l<n;l+=e)t.push(l);else for(l=g;l>n;l+=e)t.push(l);return t},goog.array.repeat=function(r,o){for(var a=[],t=0;t<o;t++)a[t]=r;return a},goog.array.flatten=function(r){for(var o=[],a=0;a<arguments.length;a++){var t=arguments[a];if(goog.isArray(t))for(var g=0;g<t.length;g+=8192)for(var n=goog.array.slice(t,g,g+8192),e=goog.array.flatten.apply(null,n),l=0;l<e.length;l++)o.push(e[l]);else o.push(t)}return o},goog.array.rotate=function(r,o){return goog.asserts.assert(null!=r.length),r.length&&((o%=r.length)>0?Array.prototype.unshift.apply(r,r.splice(-o,o)):o<0&&Array.prototype.push.apply(r,r.splice(0,-o))),r},goog.array.moveItem=function(r,o,a){goog.asserts.assert(o>=0&&o<r.length),goog.asserts.assert(a>=0&&a<r.length);var t=Array.prototype.splice.call(r,o,1);Array.prototype.splice.call(r,a,0,t[0])},goog.array.zip=function(r){if(!arguments.length)return[];for(var o=[],a=arguments[0].length,t=1;t<arguments.length;t++)arguments[t].length<a&&(a=arguments[t].length);for(t=0;t<a;t++){for(var g=[],n=0;n<arguments.length;n++)g.push(arguments[n][t]);o.push(g)}return o},goog.array.shuffle=function(r,o){for(var a=o||Math.random,t=r.length-1;t>0;t--){var g=Math.floor(a()*(t+1)),n=r[t];r[t]=r[g],r[g]=n}},goog.array.copyByIndex=function(r,o){var a=[];return goog.array.forEach(o,function(o){a.push(r[o])}),a},goog.array.concatMap=function(r,o,a){return goog.array.concat.apply([],goog.array.map(r,o,a))};