goog.provide("goog.module.Loader"),goog.require("goog.Timer"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.dom.safe"),goog.require("goog.html.legacyconversions"),goog.require("goog.module"),goog.require("goog.object"),goog.module.Loader=function(){this.pending_={},this.modules_={},this.pendingModuleUrls_={},this.urlBase_=null,this.pendingBeforeInit_=[]},goog.addSingletonGetter(goog.module.Loader),goog.module.Loader.require=function(o,e,g){goog.module.Loader.getInstance().require(o,e,g)},goog.module.Loader.provide=function(o,e,g){goog.module.Loader.getInstance().provide(o,e,g)},goog.module.Loader.init=function(o,e){goog.module.Loader.getInstance().init(o,e)},goog.module.Loader.loaderCall=function(o,e){return function(){var g=arguments;goog.module.Loader.require(o,e,function(o){o.apply(null,g)})}},goog.module.Loader.prototype.getModuleUrl_=function(o,e){return o+"_"+e+".js"},goog.module.Loader.LOAD_CALLBACK="__gjsload__",goog.module.Loader.loaderEval_=function(t_){eval(t_)},goog.module.Loader.prototype.init=function(o,e){goog.exportSymbol(goog.module.Loader.LOAD_CALLBACK,goog.module.Loader.loaderEval_),this.urlBase_=o.replace(/\.js$/,""),e&&(this.getModuleUrl_=e),goog.array.forEach(this.pendingBeforeInit_,function(o){this.load_(o)},this),goog.array.clear(this.pendingBeforeInit_)},goog.module.Loader.prototype.require=function(o,e,g){var r=this.pending_,t=this.modules_;t[o]?g(t[o][e]):r[o]?r[o].push([e,g]):(r[o]=[[e,g]],"string"==typeof this.urlBase_?this.load_(o):this.pendingBeforeInit_.push(o))},goog.module.Loader.prototype.provide=function(o,e,g){var r=this.modules_,t=this.pending_;if(r[o]||(r[o]={}),g)r[o][e]=g;else if(t[o]){for(var i=0;i<t[o].length;++i){var d=t[o][i][0];(0,t[o][i][1])(r[o][d])}delete t[o],delete this.pendingModuleUrls_[o]}},goog.module.Loader.prototype.load_=function(o){goog.Timer.callOnce(function(){if(!this.modules_[o]){goog.asserts.assertString(this.urlBase_);var e=this.getModuleUrl_(this.urlBase_,o),g=goog.object.containsValue(this.pendingModuleUrls_,e);if(this.pendingModuleUrls_[o]=e,!g){var r=goog.dom.createDom(goog.dom.TagName.SCRIPT,{type:"text/javascript"});goog.dom.safe.setScriptSrc(r,goog.html.legacyconversions.trustedResourceUrlFromString(e)),document.body.appendChild(r)}}},0,this)};