goog.provide("goog.module.ModuleInfo"),goog.forwardDeclare("goog.loader.AbstractModuleManager.FailureType"),goog.require("goog.Disposable"),goog.require("goog.async.throwException"),goog.require("goog.functions"),goog.require("goog.html.TrustedResourceUrl"),goog.require("goog.module"),goog.require("goog.module.BaseModule"),goog.require("goog.module.ModuleLoadCallback"),goog.module.ModuleInfo=function(o,e){goog.Disposable.call(this),this.deps_=o,this.id_=e,this.onloadCallbacks_=[],this.onErrorCallbacks_=[],this.earlyOnloadCallbacks_=[]},goog.inherits(goog.module.ModuleInfo,goog.Disposable),goog.module.ModuleInfo.prototype.uris_=null,goog.module.ModuleInfo.prototype.moduleConstructor_=goog.module.BaseModule,goog.module.ModuleInfo.prototype.module_=null,goog.module.ModuleInfo.prototype.getDependencies=function(){return this.deps_},goog.module.ModuleInfo.prototype.getId=function(){return this.id_},goog.module.ModuleInfo.prototype.setTrustedUris=function(o){this.uris_=o},goog.module.ModuleInfo.prototype.getUris=function(){return this.uris_||(this.uris_=[]),this.uris_},goog.module.ModuleInfo.prototype.setModuleConstructor=function(o){if(this.moduleConstructor_!==goog.module.BaseModule)throw new Error("Cannot set module constructor more than once.");this.moduleConstructor_=o},goog.module.ModuleInfo.prototype.registerEarlyCallback=function(o,e){return this.registerCallback_(this.earlyOnloadCallbacks_,o,e)},goog.module.ModuleInfo.prototype.registerCallback=function(o,e){return this.registerCallback_(this.onloadCallbacks_,o,e)},goog.module.ModuleInfo.prototype.registerErrback=function(o,e){return this.registerCallback_(this.onErrorCallbacks_,o,e)},goog.module.ModuleInfo.prototype.registerCallback_=function(o,e,l){var t=new goog.module.ModuleLoadCallback(e,l);return o.push(t),t},goog.module.ModuleInfo.prototype.isLoaded=function(){return!!this.module_},goog.module.ModuleInfo.prototype.setLoaded=function(){this.module_=new goog.module.BaseModule},goog.module.ModuleInfo.prototype.getModule=function(){return this.module_},goog.module.ModuleInfo.prototype.onLoad=function(o){var e=new this.moduleConstructor_;e.initialize(o()),this.module_=e;var l=!!this.callCallbacks_(this.earlyOnloadCallbacks_,o());return(l=l||!!this.callCallbacks_(this.onloadCallbacks_,o()))||(this.onErrorCallbacks_.length=0),l},goog.module.ModuleInfo.prototype.onError=function(o){var e=this.callCallbacks_(this.onErrorCallbacks_,o);e&&window.setTimeout(goog.functions.error("Module errback failures: "+e),0),this.earlyOnloadCallbacks_.length=0,this.onloadCallbacks_.length=0},goog.module.ModuleInfo.prototype.callCallbacks_=function(o,e){for(var l=[],t=0;t<o.length;t++)try{o[t].execute(e)}catch(o){goog.async.throwException(o),l.push(o)}return o.length=0,l.length?l:null},goog.module.ModuleInfo.prototype.disposeInternal=function(){goog.module.ModuleInfo.superClass_.disposeInternal.call(this),goog.dispose(this.module_)};