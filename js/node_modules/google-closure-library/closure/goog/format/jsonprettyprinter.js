goog.provide("goog.format.JsonPrettyPrinter"),goog.provide("goog.format.JsonPrettyPrinter.SafeHtmlDelimiters"),goog.provide("goog.format.JsonPrettyPrinter.TextDelimiters"),goog.require("goog.html.SafeHtml"),goog.require("goog.json"),goog.require("goog.json.Serializer"),goog.require("goog.string"),goog.require("goog.string.format"),goog.format.JsonPrettyPrinter=function(t){this.delimiters_=t||new goog.format.JsonPrettyPrinter.TextDelimiters,this.jsonSerializer_=new goog.json.Serializer},goog.format.JsonPrettyPrinter.prototype.format=function(t){for(var e=this.format_(t),r="",o=0;o<e.length;o++){var i=e[o];r+=i instanceof goog.html.SafeHtml?goog.html.SafeHtml.unwrap(i):i}return r},goog.format.JsonPrettyPrinter.prototype.formatSafeHtml=function(t){return goog.html.SafeHtml.concat(this.format_(t))},goog.format.JsonPrettyPrinter.prototype.format_=function(t){if(null==t)return[];if("string"==typeof t){if(goog.string.isEmptyOrWhitespace(t))return[];t=JSON.parse(t)}var e=[];return this.printObject_(t,e,0),e},goog.format.JsonPrettyPrinter.prototype.printObject_=function(t,e,r){var o=goog.typeOf(t);switch(o){case"null":case"boolean":case"number":case"string":this.printValue_(t,o,e);break;case"array":e.push(this.delimiters_.arrayStart);var i=0;for(i=0;i<t.length;i++)i>0&&e.push(this.delimiters_.propertySeparator),e.push(this.delimiters_.lineBreak),this.printSpaces_(r+this.delimiters_.indent,e),this.printObject_(t[i],e,r+this.delimiters_.indent);i>0&&(e.push(this.delimiters_.lineBreak),this.printSpaces_(r,e)),e.push(this.delimiters_.arrayEnd);break;case"object":e.push(this.delimiters_.objectStart);var s=0;for(var n in t)t.hasOwnProperty(n)&&(s>0&&e.push(this.delimiters_.propertySeparator),e.push(this.delimiters_.lineBreak),this.printSpaces_(r+this.delimiters_.indent,e),this.printName_(n,e),e.push(this.delimiters_.nameValueSeparator,this.delimiters_.space),this.printObject_(t[n],e,r+this.delimiters_.indent),s++);s>0&&(e.push(this.delimiters_.lineBreak),this.printSpaces_(r,e)),e.push(this.delimiters_.objectEnd);break;default:this.printValue_("","unknown",e)}},goog.format.JsonPrettyPrinter.prototype.printName_=function(t,e){e.push(this.delimiters_.formatName(this.jsonSerializer_.serialize(t)))},goog.format.JsonPrettyPrinter.prototype.printValue_=function(t,e,r){var o=this.jsonSerializer_.serialize(t);r.push(this.delimiters_.formatValue(o,e))},goog.format.JsonPrettyPrinter.prototype.printSpaces_=function(t,e){e.push(goog.string.repeat(this.delimiters_.space,t))},goog.format.JsonPrettyPrinter.TextDelimiters=function(){},goog.format.JsonPrettyPrinter.TextDelimiters.prototype.space=" ",goog.format.JsonPrettyPrinter.TextDelimiters.prototype.lineBreak="\n",goog.format.JsonPrettyPrinter.TextDelimiters.prototype.objectStart="{",goog.format.JsonPrettyPrinter.TextDelimiters.prototype.objectEnd="}",goog.format.JsonPrettyPrinter.TextDelimiters.prototype.arrayStart="[",goog.format.JsonPrettyPrinter.TextDelimiters.prototype.arrayEnd="]",goog.format.JsonPrettyPrinter.TextDelimiters.prototype.propertySeparator=",",goog.format.JsonPrettyPrinter.TextDelimiters.prototype.nameValueSeparator=":",goog.format.JsonPrettyPrinter.TextDelimiters.prototype.preName="",goog.format.JsonPrettyPrinter.TextDelimiters.prototype.postName="",goog.format.JsonPrettyPrinter.TextDelimiters.prototype.formatName=function(t){return this.preName+t+this.postName},goog.format.JsonPrettyPrinter.TextDelimiters.prototype.preValue="",goog.format.JsonPrettyPrinter.TextDelimiters.prototype.postValue="",goog.format.JsonPrettyPrinter.TextDelimiters.prototype.formatValue=function(t,e){return goog.string.format(this.preValue,e)+t+this.postValue},goog.format.JsonPrettyPrinter.TextDelimiters.prototype.indent=2,goog.format.JsonPrettyPrinter.SafeHtmlDelimiters=function(){goog.format.JsonPrettyPrinter.TextDelimiters.call(this)},goog.inherits(goog.format.JsonPrettyPrinter.SafeHtmlDelimiters,goog.format.JsonPrettyPrinter.TextDelimiters),goog.format.JsonPrettyPrinter.SafeHtmlDelimiters.prototype.formatName=function(t){var e=goog.getCssName("goog-jsonprettyprinter-propertyname");return goog.html.SafeHtml.create("span",{class:e},t)},goog.format.JsonPrettyPrinter.SafeHtmlDelimiters.prototype.formatValue=function(t,e){var r=this.getValueCssName(e);return goog.html.SafeHtml.create("span",{class:r},t)},goog.format.JsonPrettyPrinter.SafeHtmlDelimiters.prototype.getValueCssName=function(t){switch(t){case"null":return goog.getCssName("goog-jsonprettyprinter-propertyvalue-null");case"boolean":return goog.getCssName("goog-jsonprettyprinter-propertyvalue-boolean");case"number":return goog.getCssName("goog-jsonprettyprinter-propertyvalue-number");case"string":return goog.getCssName("goog-jsonprettyprinter-propertyvalue-string");case"array":return goog.getCssName("goog-jsonprettyprinter-propertyvalue-array");case"object":return goog.getCssName("goog-jsonprettyprinter-propertyvalue-object");default:return goog.getCssName("goog-jsonprettyprinter-propertyvalue-unknown")}};