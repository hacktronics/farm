goog.provide("goog.Disposable"),goog.provide("goog.dispose"),goog.provide("goog.disposeAll"),goog.require("goog.disposable.IDisposable"),goog.Disposable=function(){this.creationStack,goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(goog.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=(new Error).stack),goog.Disposable.instances_[goog.getUid(this)]=this),this.disposed_=this.disposed_,this.onDisposeCallbacks_=this.onDisposeCallbacks_},goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},goog.Disposable.MONITORING_MODE=goog.define("goog.Disposable.MONITORING_MODE",0),goog.Disposable.INCLUDE_STACK_ON_CREATION=goog.define("goog.Disposable.INCLUDE_STACK_ON_CREATION",!0),goog.Disposable.instances_={},goog.Disposable.getUndisposedObjects=function(){var o=[];for(var s in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(s)&&o.push(goog.Disposable.instances_[Number(s)]);return o},goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}},goog.Disposable.prototype.disposed_=!1,goog.Disposable.prototype.onDisposeCallbacks_,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var o=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(o))throw new Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");if(goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&this.onDisposeCallbacks_&&this.onDisposeCallbacks_.length>0)throw new Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete goog.Disposable.instances_[o]}},goog.Disposable.prototype.registerDisposable=function(o){this.addOnDisposeCallback(goog.partial(goog.dispose,o))},goog.Disposable.prototype.addOnDisposeCallback=function(o,s){this.disposed_?void 0!==s?o.call(s):o():(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(void 0!==s?goog.bind(o,s):o))},goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},goog.Disposable.isDisposed=function(o){return!(!o||"function"!=typeof o.isDisposed)&&o.isDisposed()},goog.dispose=function(o){o&&"function"==typeof o.dispose&&o.dispose()},goog.disposeAll=function(o){for(var s=0,i=arguments.length;s<i;++s){var e=arguments[s];goog.isArrayLike(e)?goog.disposeAll.apply(null,e):goog.dispose(e)}};