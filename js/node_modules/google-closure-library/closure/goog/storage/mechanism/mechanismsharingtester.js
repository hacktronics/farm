function testSharedSet(){if(mechanism&&mechanism_shared){mechanism.set("first","one"),assertEquals("one",mechanism_shared.get("first")),assertEquals(1,mechanism_shared.getCount());var e=mechanism_shared.__iterator__();assertEquals("one",e.next()),assertEquals(goog.iter.StopIteration,assertThrows(e.next))}}function testSharedSetInverse(){if(mechanism&&mechanism_shared){mechanism_shared.set("first","two"),assertEquals("two",mechanism.get("first")),assertEquals(1,mechanism.getCount());var e=mechanism.__iterator__();assertEquals("two",e.next()),assertEquals(goog.iter.StopIteration,assertThrows(e.next))}}function testSharedRemove(){mechanism&&mechanism_shared&&(mechanism_shared.set("first","three"),mechanism.remove("first"),assertNull(mechanism_shared.get("first")),assertEquals(0,mechanism_shared.getCount()),assertEquals(goog.iter.StopIteration,assertThrows(mechanism_shared.__iterator__().next)))}function testSharedClean(){mechanism&&mechanism_shared&&(mechanism.set("first","four"),mechanism_shared.clear(),assertEquals(0,mechanism.getCount()),assertEquals(goog.iter.StopIteration,assertThrows(mechanism.__iterator__().next)))}goog.provide("goog.storage.mechanism.mechanismSharingTester"),goog.require("goog.iter.StopIteration"),goog.require("goog.storage.mechanism.mechanismTestDefinition"),goog.require("goog.testing.asserts"),goog.setTestOnly("goog.storage.mechanism.mechanismSharingTester");