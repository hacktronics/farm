goog.provide("goog.events.actionEventWrapper"),goog.require("goog.a11y.aria"),goog.require("goog.a11y.aria.Role"),goog.require("goog.dom"),goog.require("goog.events"),goog.require("goog.events.EventHandler"),goog.require("goog.events.EventType"),goog.require("goog.events.EventWrapper"),goog.require("goog.events.KeyCodes"),goog.events.ActionEventWrapper_=function(){},goog.events.ActionEventWrapper_.FunctionExtension_=function(){},goog.events.ActionEventWrapper_.FunctionExtension_.prototype.scope_,goog.events.ActionEventWrapper_.FunctionExtension_.prototype.listener_,goog.events.actionEventWrapper=new goog.events.ActionEventWrapper_,goog.events.ActionEventWrapper_.EVENT_TYPES_=[goog.events.EventType.CLICK,goog.events.EventType.KEYDOWN,goog.events.EventType.KEYUP],goog.events.ActionEventWrapper_.prototype.listen=function(e,o,t,n,g){var r=function(e){var t=goog.events.wrapListener(o),g=goog.dom.isElement(e.target)?goog.a11y.aria.getRole(e.target):null;e.type==goog.events.EventType.CLICK&&e.isMouseActionButton()?t.call(n,e):e.keyCode!=goog.events.KeyCodes.ENTER&&e.keyCode!=goog.events.KeyCodes.MAC_ENTER||e.type==goog.events.EventType.KEYUP?e.keyCode!=goog.events.KeyCodes.SPACE||e.type!=goog.events.EventType.KEYUP||g!=goog.a11y.aria.Role.BUTTON&&g!=goog.a11y.aria.Role.TAB||(t.call(n,e),e.preventDefault()):(e.type=goog.events.EventType.KEYPRESS,t.call(n,e))};r.listener_=o,r.scope_=n,g?g.listen(e,goog.events.ActionEventWrapper_.EVENT_TYPES_,r,t):goog.events.listen(e,goog.events.ActionEventWrapper_.EVENT_TYPES_,r,t)},goog.events.ActionEventWrapper_.prototype.unlisten=function(e,o,t,n,g){for(var r,v=0;r=goog.events.ActionEventWrapper_.EVENT_TYPES_[v];v++)for(var s,i=goog.events.getListeners(e,r,!!t),p=0;s=i[p];p++){var E=s.listener;if(E.listener_==o&&E.scope_==n){g?g.unlisten(e,r,s.listener,t,n):goog.events.unlisten(e,r,s.listener,t,n);break}}};