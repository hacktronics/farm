goog.provide("goog.labs.net.webChannel.requestStats"),goog.provide("goog.labs.net.webChannel.requestStats.Event"),goog.provide("goog.labs.net.webChannel.requestStats.ServerReachability"),goog.provide("goog.labs.net.webChannel.requestStats.ServerReachabilityEvent"),goog.provide("goog.labs.net.webChannel.requestStats.Stat"),goog.provide("goog.labs.net.webChannel.requestStats.StatEvent"),goog.provide("goog.labs.net.webChannel.requestStats.TimingEvent"),goog.require("goog.events.Event"),goog.require("goog.events.EventTarget"),goog.scope(function(){var t=goog.labs.net.webChannel.requestStats;t.Event={},t.eventTarget_=null,t.getStatEventTarget_=function(){return t.eventTarget_=t.eventTarget_||new goog.events.EventTarget,t.eventTarget_},t.Event.SERVER_REACHABILITY_EVENT="serverreachability",t.ServerReachability={REQUEST_MADE:1,REQUEST_SUCCEEDED:2,REQUEST_FAILED:3,BACK_CHANNEL_ACTIVITY:4},t.ServerReachabilityEvent=function(e,n){goog.events.Event.call(this,t.Event.SERVER_REACHABILITY_EVENT,e),this.reachabilityType=n},goog.inherits(t.ServerReachabilityEvent,goog.events.Event),t.notifyServerReachabilityEvent=function(e){var n=t.getStatEventTarget_();n.dispatchEvent(new t.ServerReachabilityEvent(n,e))},t.Event.STAT_EVENT="statevent",t.Stat={CONNECT_ATTEMPT:0,ERROR_NETWORK:1,ERROR_OTHER:2,TEST_STAGE_ONE_START:3,TEST_STAGE_TWO_START:4,TEST_STAGE_TWO_DATA_ONE:5,TEST_STAGE_TWO_DATA_TWO:6,TEST_STAGE_TWO_DATA_BOTH:7,TEST_STAGE_ONE_FAILED:8,TEST_STAGE_TWO_FAILED:9,PROXY:10,NOPROXY:11,REQUEST_UNKNOWN_SESSION_ID:12,REQUEST_BAD_STATUS:13,REQUEST_INCOMPLETE_DATA:14,REQUEST_BAD_DATA:15,REQUEST_NO_DATA:16,REQUEST_TIMEOUT:17,BACKCHANNEL_MISSING:18,BACKCHANNEL_DEAD:19,BROWSER_OFFLINE:20},t.StatEvent=function(e,n){goog.events.Event.call(this,t.Event.STAT_EVENT,e),this.stat=n},goog.inherits(t.StatEvent,goog.events.Event),t.getStatEventTarget=function(){return t.getStatEventTarget_()},t.notifyStatEvent=function(e){var n=t.getStatEventTarget_();n.dispatchEvent(new t.StatEvent(n,e))},t.Event.TIMING_EVENT="timingevent",t.TimingEvent=function(e,n,E,o){goog.events.Event.call(this,t.Event.TIMING_EVENT,e),this.size=n,this.rtt=E,this.retries=o},goog.inherits(t.TimingEvent,goog.events.Event),t.notifyTimingEvent=function(e,n,E){var o=t.getStatEventTarget_();o.dispatchEvent(new t.TimingEvent(o,e,n,E))},t.setStartThreadExecutionHook=function(e){t.startExecutionHook_=e},t.setEndThreadExecutionHook=function(e){t.endExecutionHook_=e},t.startExecutionHook_=function(){},t.endExecutionHook_=function(){},t.onStartExecution=function(){t.startExecutionHook_()},t.onEndExecution=function(){t.endExecutionHook_()},t.setTimeout=function(e,n){if(!goog.isFunction(e))throw new Error("Fn must not be null and must be a function");return goog.global.setTimeout(function(){t.onStartExecution();try{e()}finally{t.onEndExecution()}},n)}});