goog.provide("goog.labs.structs.Multimap"),goog.require("goog.array"),goog.require("goog.object"),goog.labs.structs.Multimap=function(){this.clear()},goog.labs.structs.Multimap.prototype.map_,goog.labs.structs.Multimap.prototype.count_=0,goog.labs.structs.Multimap.prototype.clear=function(){this.count_=0,this.map_=new Map},goog.labs.structs.Multimap.prototype.clone=function(){var t=new goog.labs.structs.Multimap;return t.addAllFromMultimap(this),t},goog.labs.structs.Multimap.prototype.add=function(t,o){var s=this.map_.get(t);s||this.map_.set(t,s=[]),s.push(o),this.count_++},goog.labs.structs.Multimap.prototype.addAllValues=function(t,o){goog.array.forEach(o,function(o){this.add(t,o)},this)},goog.labs.structs.Multimap.prototype.addAllFromMultimap=function(t){goog.array.forEach(t.getEntries(),function(t){this.add(t[0],t[1])},this)},goog.labs.structs.Multimap.prototype.replaceValues=function(t,o){this.removeAll(t),this.addAllValues(t,o)},goog.labs.structs.Multimap.prototype.get=function(t){var o=this.map_.get(t);return o?goog.array.clone(o):[]},goog.labs.structs.Multimap.prototype.remove=function(t,o){var s=this.map_.get(t);if(!s)return!1;var r=goog.array.removeIf(s,function(t){return goog.object.is(o,t)});return r&&(this.count_--,0==s.length&&this.map_.delete(t)),r},goog.labs.structs.Multimap.prototype.removeAll=function(t){var o=this.map_.get(t);return!!this.map_.delete(t)&&(this.count_-=o.length,!0)},goog.labs.structs.Multimap.prototype.isEmpty=function(){return!this.count_},goog.labs.structs.Multimap.prototype.getCount=function(){return this.count_},goog.labs.structs.Multimap.prototype.containsEntry=function(t,o){var s=this.map_.get(t);return!!s&&goog.array.findIndex(s,function(t){return goog.object.is(t,o)})>=0},goog.labs.structs.Multimap.prototype.containsKey=function(t){return this.getKeys().includes(t)},goog.labs.structs.Multimap.prototype.containsValue=function(t){return this.getValues().includes(t)},goog.labs.structs.Multimap.prototype.getKeys=function(){return[...this.map_.keys()]},goog.labs.structs.Multimap.prototype.getValues=function(){return goog.array.flatten([...this.map_.values()])},goog.labs.structs.Multimap.prototype.getEntries=function(){for(var t=this.getKeys(),o=[],s=0;s<t.length;s++)for(var r=t[s],a=this.get(r),u=0;u<a.length;u++)o.push([r,a[u]]);return o};