goog.provide("goog.editor.icontent"),goog.provide("goog.editor.icontent.FieldFormatInfo"),goog.provide("goog.editor.icontent.FieldStyleInfo"),goog.require("goog.dom"),goog.require("goog.editor.BrowserFeature"),goog.require("goog.style"),goog.require("goog.userAgent"),goog.editor.icontent.FieldFormatInfo=function(e,o,t,i,n){this.fieldId_=e,this.standards_=o,this.blended_=t,this.fixedHeight_=i,this.extraStyles_=n||{}},goog.editor.icontent.FieldStyleInfo=function(e,o){this.wrapper_=e,this.css_=o},goog.editor.icontent.useStandardsModeIframes_=!1,goog.editor.icontent.forceStandardsModeIframes=function(){goog.editor.icontent.useStandardsModeIframes_=!0},goog.editor.icontent.getInitialIframeContent_=function(e,o,t){var i=[];for(var n in(e.blended_&&e.standards_||goog.editor.icontent.useStandardsModeIframes_)&&i.push("<!DOCTYPE HTML>"),i.push('<html style="background:none transparent;min-width:0;'),e.blended_&&i.push("height:",e.fixedHeight_?"100%":"auto"),i.push('">'),i.push("<head><style>"),t&&t.css_&&i.push(t.css_),goog.userAgent.GECKO&&e.standards_&&i.push(" img {-moz-force-broken-image-icon: 1;}"),i.push("</style></head>"),i.push('<body g_editable="true" hidefocus="true" '),goog.editor.BrowserFeature.HAS_CONTENT_EDITABLE&&i.push("contentEditable "),i.push('class="editable '),i.push('" id="',e.fieldId_,'" style="min-width:0;'),goog.userAgent.GECKO&&e.blended_&&(i.push(";width:100%;border:0;margin:0;background:none transparent;",";height:",e.standards_?"100%":"auto"),e.fixedHeight_?i.push(";overflow:auto"):i.push(";overflow-y:hidden;overflow-x:auto")),goog.userAgent.OPERA&&i.push(";outline:hidden"),e.extraStyles_)i.push(";"+n+":"+e.extraStyles_[n]);return i.push('">',o,"</body></html>"),i.join("")},goog.editor.icontent.writeNormalInitialBlendedIframe=function(e,o,t,i){if(e.blended_){var n=t.wrapper_,r=goog.style.getPaddingBox(n);(r.top||r.left||r.right||r.bottom)&&goog.style.setStyle(i,"margin",-r.top+"px "+-r.right+"px "+-r.bottom+"px "+-r.left+"px")}goog.editor.icontent.writeNormalInitialIframe(e,o,t,i)},goog.editor.icontent.writeNormalInitialIframe=function(e,o,t,i){var n=goog.editor.icontent.getInitialIframeContent_(e,o,t),r=goog.dom.getFrameContentDocument(i);r.open(),r.write(n),r.close()},goog.editor.icontent.writeHttpsInitialIframe=function(e,o,t){var i=o.body;goog.editor.BrowserFeature.HAS_CONTENT_EDITABLE&&(i.contentEditable=!0),i.className="editable",i.setAttribute("g_editable",!0),i.hideFocus=!0,i.id=e.fieldId_,goog.style.setStyle(i,e.extraStyles_),i.innerHTML=t};