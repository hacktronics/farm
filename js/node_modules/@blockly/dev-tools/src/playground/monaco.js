export function addCodeEditor(e,t,o){return new Promise((n,r)=>{if(!o){const e=["../node_modules/@blockly/dev-tools/node_modules/monaco-editor/min/vs","../node_modules/monaco-editor/min/vs","https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.19.2/min/vs"];for(let t=0;t<e.length;t++)if(checkFileExists(`${e[t]}/loader.js`)){o=e[t];break}}const i=()=>{const r=window.require;r.config({paths:{vs:o}}),r(["vs/editor/editor.main"],()=>{n(createEditor(e,t))})};if(window.require)i();else{const e=document.createElement("script");e.type="text/javascript",e.setAttribute("src",`${o}/loader.js`),e.addEventListener("load",i),document.body.appendChild(e)}})}function createEditor(e,t){const o=window.monaco.editor.create(e,t);return o.layout(),o}function checkFileExists(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){return!1}return 404!=t.status}