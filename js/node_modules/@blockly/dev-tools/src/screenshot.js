/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
(function(_0x1a0ddb,_0x44dd79){const _0x1eb918=a0_0x3423,_0x500e47=_0x1a0ddb();while(!![]){try{const _0xa37d46=-parseInt(_0x1eb918(0xbb))/0x1+parseInt(_0x1eb918(0xb8))/0x2+-parseInt(_0x1eb918(0xde))/0x3*(parseInt(_0x1eb918(0xdc))/0x4)+-parseInt(_0x1eb918(0xc2))/0x5+-parseInt(_0x1eb918(0xea))/0x6*(-parseInt(_0x1eb918(0xe8))/0x7)+parseInt(_0x1eb918(0xe5))/0x8+parseInt(_0x1eb918(0xbf))/0x9;if(_0xa37d46===_0x44dd79)break;else _0x500e47['push'](_0x500e47['shift']());}catch(_0x594da0){_0x500e47['push'](_0x500e47['shift']());}}}(a0_0x19d7,0x62d6d));function a0_0x19d7(){const _0x1ed896=['top','3124630OLagAJ','test','blocklySvg\x20','innerText','download','-theme','style','setAttribute','map','createElement','bottom','canvas','getBlocksBoundingBox','screenshot.png','name','&#160','width','head','blockly-','background-color:\x20transparent','height','onload','value','createElementNS','toDataURL','appendChild','612bpOfXN','serializeToString','12189vEtdSo','slice','body','target','innerHTML','replace','svg','5451304cmnmNF','getCanvas','removeChild','14MAzFda','parentNode','1750818sNHweM','Error\x20converting\x20the\x20workspace\x20svg\x20to\x20a\x20png','-renderer\x20','cloneNode','geras','class','href','click','http://www.w3.org/2000/svg','filter','500186UmKbJs','options','getContext','792230CxhxxJ','getTheme','xmlns','image/png','8356752NEcoAw','indexOf'];a0_0x19d7=function(){return _0x1ed896;};return a0_0x19d7();}import a0_0x30cbf9 from'blockly/core';function svgToPng_(_0x384709,_0x3cc840,_0x30173b,_0x129f68){const _0x30680d=a0_0x3423,_0x446f50=document[_0x30680d(0xcb)](_0x30680d(0xcd)),_0x37c7de=_0x446f50[_0x30680d(0xba)]('2d'),_0x59748c=new Image();_0x446f50[_0x30680d(0xd2)]=0xa*_0x3cc840,_0x446f50[_0x30680d(0xd6)]=0xa*_0x30173b,_0x59748c[_0x30680d(0xd7)]=function(){const _0x149b0b=_0x30680d;_0x37c7de['drawImage'](_0x59748c,0x0,0x0,_0x3cc840,_0x30173b,0x0,0x0,_0x446f50[_0x149b0b(0xd2)],_0x446f50[_0x149b0b(0xd6)]);try{const _0x45cafd=_0x446f50[_0x149b0b(0xda)](_0x149b0b(0xbe));_0x129f68(_0x45cafd);}catch(_0x50d32f){console['warn'](_0x149b0b(0xaf)),_0x129f68('');}},_0x59748c['src']=_0x384709;}function workspaceToSvg_(_0x9ff97f,_0x55945a,_0x186480){const _0x2f591e=a0_0x3423,_0x57fd69=document['getElementsByTagName']('textarea');for(let _0x4a7cb1=0x0;_0x4a7cb1<_0x57fd69['length'];_0x4a7cb1++)_0x57fd69[_0x4a7cb1][_0x2f591e(0xe2)]=_0x57fd69[_0x4a7cb1][_0x2f591e(0xd8)];const _0x2aa840=_0x9ff97f[_0x2f591e(0xce)](),_0x2cb263=_0x2aa840['x']||_0x2aa840['left'],_0x36f857=_0x2aa840['y']||_0x2aa840[_0x2f591e(0xc1)],_0x3d3ef3=_0x2aa840[_0x2f591e(0xd2)]||_0x2aa840['right']-_0x2cb263,_0x30fd51=_0x2aa840[_0x2f591e(0xd6)]||_0x2aa840[_0x2f591e(0xcc)]-_0x36f857,_0x157078=_0x9ff97f[_0x2f591e(0xe6)]()[_0x2f591e(0xb1)](!0x0);_0x157078['removeAttribute']('transform');const _0x2b1262=document[_0x2f591e(0xd9)](_0x2f591e(0xb6),_0x2f591e(0xe4));_0x2b1262[_0x2f591e(0xc9)](_0x2f591e(0xbd),'http://www.w3.org/2000/svg'),_0x2b1262['appendChild'](_0x157078),_0x2b1262[_0x2f591e(0xc9)]('viewBox',_0x2cb263+'\x20'+_0x36f857+'\x20'+_0x3d3ef3+'\x20'+_0x30fd51),_0x2b1262[_0x2f591e(0xc9)](_0x2f591e(0xb3),_0x2f591e(0xc4)+(_0x9ff97f[_0x2f591e(0xb9)]['renderer']||_0x2f591e(0xb2))+_0x2f591e(0xb0)+(_0x9ff97f[_0x2f591e(0xbc)]?_0x9ff97f[_0x2f591e(0xbc)]()[_0x2f591e(0xd0)]+_0x2f591e(0xc7):'')),_0x2b1262[_0x2f591e(0xc9)](_0x2f591e(0xd2),_0x3d3ef3),_0x2b1262['setAttribute']('height',_0x30fd51),_0x2b1262[_0x2f591e(0xc9)]('style',_0x2f591e(0xd5));const _0x5e99c6=[][_0x2f591e(0xdf)]['call'](document[_0x2f591e(0xd3)]['querySelectorAll'](_0x2f591e(0xc8)))[_0x2f591e(0xb7)](function(_0x50c2ba){const _0xf3b404=_0x2f591e;return/\.blocklySvg/[_0xf3b404(0xc3)](_0x50c2ba[_0xf3b404(0xc5)])||0x0===_0x50c2ba['id'][_0xf3b404(0xc0)](_0xf3b404(0xd4));})[_0x2f591e(0xca)](function(_0x5854d3){return _0x5854d3['innerText'];})['join']('\x0a'),_0x568092=document[_0x2f591e(0xcb)]('style');_0x568092[_0x2f591e(0xe2)]=_0x5e99c6+'\x0a'+_0x186480,_0x2b1262['insertBefore'](_0x568092,_0x2b1262['firstChild']);let _0x2c9e41=new XMLSerializer()[_0x2f591e(0xdd)](_0x2b1262);_0x2c9e41=_0x2c9e41[_0x2f591e(0xe3)](/&nbsp/g,_0x2f591e(0xd1)),svgToPng_('data:image/svg+xml,'+encodeURIComponent(_0x2c9e41),_0x3d3ef3,_0x30fd51,_0x55945a);}function a0_0x3423(_0x16c96d,_0x5965a5){const _0x19d7a8=a0_0x19d7();return a0_0x3423=function(_0x342305,_0xa3408d){_0x342305=_0x342305-0xaf;let _0xa146b7=_0x19d7a8[_0x342305];return _0xa146b7;},a0_0x3423(_0x16c96d,_0x5965a5);}export function downloadWorkspaceScreenshot(_0x18e8e2){workspaceToSvg_(_0x18e8e2,function(_0xf80904){const _0x28063a=a0_0x3423,_0x196bec=document['createElement']('a');_0x196bec[_0x28063a(0xc6)]=_0x28063a(0xcf),_0x196bec[_0x28063a(0xe1)]='_self',_0x196bec[_0x28063a(0xb4)]=_0xf80904,document[_0x28063a(0xe0)][_0x28063a(0xdb)](_0x196bec),_0x196bec[_0x28063a(0xb5)](),_0x196bec[_0x28063a(0xe9)][_0x28063a(0xe7)](_0x196bec);});}