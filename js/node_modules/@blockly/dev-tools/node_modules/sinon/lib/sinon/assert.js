"use strict";var arrayProto=require("@sinonjs/commons").prototypes.array,calledInOrder=require("@sinonjs/commons").calledInOrder,createMatcher=require("@sinonjs/samsam").createMatcher,orderByFirstCall=require("@sinonjs/commons").orderByFirstCall,timesInWords=require("./util/core/times-in-words"),format=require("./util/core/format"),stringSlice=require("@sinonjs/commons").prototypes.string.slice,globalObject=require("@sinonjs/commons").global,arraySlice=arrayProto.slice,concat=arrayProto.concat,forEach=arrayProto.forEach,join=arrayProto.join,splice=arrayProto.splice;function createAssertObject(){var e;function t(){var a=arraySlice(arguments);forEach(a,function(a){a||e.fail("fake is not a spy"),a.proxy&&a.proxy.isSinonProxy?t(a.proxy):("function"!=typeof a&&e.fail(a+" is not a function"),"function"!=typeof a.getCall&&e.fail(a+" is not stubbed"))})}function a(t,a){var l=t||globalObject;(l.fail||e.fail).call(l,a)}function l(l,c,r){var n=r,o=c;2===arguments.length&&(n=c,o=l),e[l]=function(c){t(c);var r=arraySlice(arguments,1);!function(t,a){switch(t){case"notCalled":case"called":case"calledOnce":case"calledTwice":case"calledThrice":0!==a.length&&e.fail(t+" takes 1 argument but was called with "+(a.length+1)+" arguments")}}(l,r),("function"==typeof o?!o(c):"function"==typeof c[o]?!c[o].apply(c,r):!c[o])?a(this,(c.printf||c.proxy.printf).apply(c,concat([n],r))):e.pass(l)}}return e={failException:"AssertError",fail:function(t){var a=new Error(t);throw a.name=this.failException||e.failException,a},pass:function(){},callOrder:function(){t.apply(null,arguments);var l="",c="";if(calledInOrder(arguments))e.pass("callOrder");else{try{l=join(arguments,", ");for(var r=arraySlice(arguments),n=r.length;n;)r[--n].called||splice(r,n,1);c=join(orderByFirstCall(r),", ")}catch(e){}a(this,"expected "+l+" to be called in order but were called as "+c)}},callCount:function(l,c){if(t(l),l.callCount!==c){var r="expected %n to be called "+timesInWords(c)+" but was called %c%C";a(this,l.printf(r))}else e.pass("callCount")},expose:function(e,t){if(!e)throw new TypeError("target is null or undefined");var a=t||{},l=void 0===a.prefix?"assert":a.prefix,c=void 0===a.includeFail||Boolean(a.includeFail),r=this;return forEach(Object.keys(r),function(t){"expose"===t||!c&&/^(fail)/.test(t)||(e[function(e,t){return!e||/^fail/.test(t)?t:e+stringSlice(t,0,1).toUpperCase()+stringSlice(t,1)}(l,t)]=r[t])}),e},match:function(t,l){if(createMatcher(l).test(t))e.pass("match");else{var c=["expected value to match","    expected = "+format(l),"    actual = "+format(t)];a(this,join(c,"\n"))}}},l("called","expected %n to have been called at least once but was never called"),l("notCalled",function(e){return!e.called},"expected %n to not have been called but was called %c%C"),l("calledOnce","expected %n to be called once but was called %c%C"),l("calledTwice","expected %n to be called twice but was called %c%C"),l("calledThrice","expected %n to be called thrice but was called %c%C"),l("calledOn","expected %n to be called with %1 as this but was called with %t"),l("alwaysCalledOn","expected %n to always be called with %1 as this but was called with %t"),l("calledWithNew","expected %n to be called with new"),l("alwaysCalledWithNew","expected %n to always be called with new"),l("calledWith","expected %n to be called with arguments %D"),l("calledWithMatch","expected %n to be called with match %D"),l("alwaysCalledWith","expected %n to always be called with arguments %D"),l("alwaysCalledWithMatch","expected %n to always be called with match %D"),l("calledWithExactly","expected %n to be called with exact arguments %D"),l("calledOnceWithExactly","expected %n to be called once and with exact arguments %D"),l("calledOnceWithMatch","expected %n to be called once and with match %D"),l("alwaysCalledWithExactly","expected %n to always be called with exact arguments %D"),l("neverCalledWith","expected %n to never be called with arguments %*%C"),l("neverCalledWithMatch","expected %n to never be called with match %*%C"),l("threw","%n did not throw exception%C"),l("alwaysThrew","%n did not always throw exception%C"),e}module.exports=createAssertObject(),module.exports.createAssertObject=createAssertObject;