/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
import{assert}from"chai";import{runTestCases,TestCase}from"./common_test_helpers.mocha";export function FieldValueTestCase(){}FieldValueTestCase.prototype=new TestCase,FieldValueTestCase.prototype.value=void 0,FieldValueTestCase.prototype.expectedValue=void 0,FieldValueTestCase.prototype.expectedText=void 0,FieldValueTestCase.prototype.errMsgMatcher=void 0;export function FieldCreationTestCase(){}FieldCreationTestCase.prototype=new FieldValueTestCase,FieldCreationTestCase.prototype.args=[],FieldCreationTestCase.prototype.json=void 0;export function assertFieldValue(e,t,s=void 0){const o=e.getValue(),n=e.getText();void 0===s&&(s=String(t)),assert.equal(o,t,"Value"),assert.equal(n,s,"Text")}function runCreationTests_(e,t,s){runTestCases(e,e=>function(){const o=s.call(this,e);t(o,e)})}function runCreationTestsAssertThrows_(e,t){runTestCases(e,e=>function(){assert.throws(function(){t.call(this,e)},e.errMsgMatcher)})}export function runConstructorSuiteTests(e,t,s,o,n,r){suite("Constructor",function(){n?test("Empty",function(){const t=r?r.call(this):new e;n(t)}):test("Empty",function(){assert.throws(function(){r?r.call(this):new e})});const i=function(t){return r?r.call(this,t):new e(...t.args)};n?runCreationTests_(s,n,i):runCreationTestsAssertThrows_(s,i),runCreationTests_(t,o,i)})}export function runFromJsonSuiteTests(e,t,s,o,n,r){suite("fromJson",function(){n?test("Empty",function(){const t=r?r.call(this):e.fromJson({});n(t)}):test("Empty",function(){assert.throws(function(){r?r.call(this):e.fromJson({})})});const i=function(t){return r?r.call(this,t):e.fromJson(t.json)};n?runCreationTests_(s,n,i):runCreationTestsAssertThrows_(s,i),runCreationTests_(t,o,i)})}export function runSetValueTests(e,t,s,o){runTestCases(t,e=>function(){this.field.setValue(e.value),assertFieldValue(this.field,s,o)}),runTestCases(e,e=>function(){this.field.setValue(e.value),assertFieldValue(this.field,e.expectedValue,e.expectedText)})}