"use strict";var extend=require("./core/extend"),FakeTimers=require("@sinonjs/fake-timers"),globalObject=require("@sinonjs/commons").global;function createClock(e,t){var r=FakeTimers;null!==t&&"object"==typeof t&&(r=FakeTimers.withGlobal(t));var n=r.install(e);return n.restore=n.uninstall,n}function addIfDefined(e,t){var r=globalObject[t];void 0!==r&&(e[t]=r)}exports.useFakeTimers=function(e){var t=("number"==typeof e||e instanceof Date)&&1===arguments.length,r=null!==e&&"object"==typeof e&&1===arguments.length;if(!(void 0!==e))return createClock({now:0});if(t)return createClock({now:e});if(r){var n=extend.nonEnum({},e),o=n.global;return delete n.global,createClock(n,o)}throw new TypeError("useFakeTimers expected epoch or config object. See https://github.com/sinonjs/sinon")},exports.clock={create:function(e){return FakeTimers.createClock(e)}};var timers={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,Date:Date};addIfDefined(timers,"setImmediate"),addIfDefined(timers,"clearImmediate"),exports.timers=timers;