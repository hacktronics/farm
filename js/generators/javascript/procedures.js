/**
 * @license
 * Copyright 2012 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
"use strict";goog.provide("Blockly.JavaScript.procedures"),goog.require("Blockly.JavaScript"),Blockly.JavaScript.procedures_defreturn=function(l){var a=Blockly.JavaScript.nameDB_.getName(l.getFieldValue("NAME"),Blockly.PROCEDURE_CATEGORY_NAME),c="";Blockly.JavaScript.STATEMENT_PREFIX&&(c+=Blockly.JavaScript.injectId(Blockly.JavaScript.STATEMENT_PREFIX,l)),Blockly.JavaScript.STATEMENT_SUFFIX&&(c+=Blockly.JavaScript.injectId(Blockly.JavaScript.STATEMENT_SUFFIX,l)),c&&(c=Blockly.JavaScript.prefixLines(c,Blockly.JavaScript.INDENT));var r="";Blockly.JavaScript.INFINITE_LOOP_TRAP&&(r=Blockly.JavaScript.prefixLines(Blockly.JavaScript.injectId(Blockly.JavaScript.INFINITE_LOOP_TRAP,l),Blockly.JavaScript.INDENT));var t=Blockly.JavaScript.statementToCode(l,"STACK"),e=Blockly.JavaScript.valueToCode(l,"RETURN",Blockly.JavaScript.ORDER_NONE)||"",o="";t&&e&&(o=c),e&&(e=Blockly.JavaScript.INDENT+"return "+e+";\n");for(var i=[],v=l.getVars(),p=0;p<v.length;p++)i[p]=Blockly.JavaScript.nameDB_.getName(v[p],Blockly.VARIABLE_CATEGORY_NAME);var S="function "+a+"("+i.join(", ")+") {\n"+c+r+t+o+e+"}";return S=Blockly.JavaScript.scrub_(l,S),Blockly.JavaScript.definitions_["%"+a]=S,null},Blockly.JavaScript.procedures_defnoreturn=Blockly.JavaScript.procedures_defreturn,Blockly.JavaScript.procedures_callreturn=function(l){for(var a=Blockly.JavaScript.nameDB_.getName(l.getFieldValue("NAME"),Blockly.PROCEDURE_CATEGORY_NAME),c=[],r=l.getVars(),t=0;t<r.length;t++)c[t]=Blockly.JavaScript.valueToCode(l,"ARG"+t,Blockly.JavaScript.ORDER_NONE)||"null";return[a+"("+c.join(", ")+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.procedures_callnoreturn=function(l){return Blockly.JavaScript.procedures_callreturn(l)[0]+";\n"},Blockly.JavaScript.procedures_ifreturn=function(l){var a="if ("+(Blockly.JavaScript.valueToCode(l,"CONDITION",Blockly.JavaScript.ORDER_NONE)||"false")+") {\n";if(Blockly.JavaScript.STATEMENT_SUFFIX&&(a+=Blockly.JavaScript.prefixLines(Blockly.JavaScript.injectId(Blockly.JavaScript.STATEMENT_SUFFIX,l),Blockly.JavaScript.INDENT)),l.hasReturnValue_){var c=Blockly.JavaScript.valueToCode(l,"VALUE",Blockly.JavaScript.ORDER_NONE)||"null";a+=Blockly.JavaScript.INDENT+"return "+c+";\n"}else a+=Blockly.JavaScript.INDENT+"return;\n";return a+="}\n"};