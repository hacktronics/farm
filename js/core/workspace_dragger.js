/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
"use strict";goog.provide("Blockly.WorkspaceDragger"),goog.require("Blockly.utils.Coordinate"),goog.requireType("Blockly.WorkspaceSvg"),Blockly.WorkspaceDragger=function(o){this.workspace_=o,this.horizontalScrollEnabled_=this.workspace_.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace_.isMovableVertically(),this.startScrollXY_=new Blockly.utils.Coordinate(o.scrollX,o.scrollY)},Blockly.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},Blockly.WorkspaceDragger.prototype.startDrag=function(){Blockly.selected&&Blockly.selected.unselect(),this.workspace_.setupDragSurface()},Blockly.WorkspaceDragger.prototype.endDrag=function(o){this.drag(o),this.workspace_.resetDragSurface()},Blockly.WorkspaceDragger.prototype.drag=function(o){var l=Blockly.utils.Coordinate.sum(this.startScrollXY_,o);if(this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace_.scroll(l.x,l.y);else if(this.horizontalScrollEnabled_)this.workspace_.scroll(l.x,this.workspace_.scrollY);else{if(!this.verticalScrollEnabled_)throw new TypeError("Invalid state.");this.workspace_.scroll(this.workspace_.scrollX,l.y)}};