/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
"use strict";goog.provide("Blockly.utils.style"),goog.require("Blockly.utils.Coordinate"),goog.require("Blockly.utils.Size"),Blockly.utils.style.getSize=function(t){if("none"!=Blockly.utils.style.getStyle_(t,"display"))return Blockly.utils.style.getSizeWithDisplay_(t);var l=t.style,e=l.display,o=l.visibility,i=l.position;l.visibility="hidden",l.position="absolute",l.display="inline";var s=t.offsetWidth,y=t.offsetHeight;return l.display=e,l.position=i,l.visibility=o,new Blockly.utils.Size(s,y)},Blockly.utils.style.getSizeWithDisplay_=function(t){var l=t.offsetWidth,e=t.offsetHeight;return new Blockly.utils.Size(l,e)},Blockly.utils.style.getStyle_=function(t,l){return Blockly.utils.style.getComputedStyle(t,l)||Blockly.utils.style.getCascadedStyle(t,l)||t.style&&t.style[l]},Blockly.utils.style.getComputedStyle=function(t,l){if(document.defaultView&&document.defaultView.getComputedStyle){var e=document.defaultView.getComputedStyle(t,null);if(e)return e[l]||e.getPropertyValue(l)||""}return""},Blockly.utils.style.getCascadedStyle=function(t,l){return t.currentStyle?t.currentStyle[l]:null},Blockly.utils.style.getPageOffset=function(t){var l=new Blockly.utils.Coordinate(0,0),e=t.getBoundingClientRect(),o=document.documentElement,i=new Blockly.utils.Coordinate(window.pageXOffset||o.scrollLeft,window.pageYOffset||o.scrollTop);return l.x=e.left+i.x,l.y=e.top+i.y,l},Blockly.utils.style.getViewportPageOffset=function(){var t=document.body,l=document.documentElement,e=t.scrollLeft||l.scrollLeft,o=t.scrollTop||l.scrollTop;return new Blockly.utils.Coordinate(e,o)},Blockly.utils.style.setElementShown=function(t,l){t.style.display=l?"":"none"},Blockly.utils.style.isRightToLeft=function(t){return"rtl"==Blockly.utils.style.getStyle_(t,"direction")},Blockly.utils.style.getBorderBox=function(t){var l=Blockly.utils.style.getComputedStyle(t,"borderLeftWidth"),e=Blockly.utils.style.getComputedStyle(t,"borderRightWidth"),o=Blockly.utils.style.getComputedStyle(t,"borderTopWidth"),i=Blockly.utils.style.getComputedStyle(t,"borderBottomWidth");return{top:parseFloat(o),right:parseFloat(e),bottom:parseFloat(i),left:parseFloat(l)}},Blockly.utils.style.scrollIntoContainerView=function(t,l,e){var o=Blockly.utils.style.getContainerOffsetToScrollInto(t,l,e);l.scrollLeft=o.x,l.scrollTop=o.y},Blockly.utils.style.getContainerOffsetToScrollInto=function(t,l,e){var o=Blockly.utils.style.getPageOffset(t),i=Blockly.utils.style.getPageOffset(l),s=Blockly.utils.style.getBorderBox(l),y=o.x-i.x-s.left,n=o.y-i.y-s.top,u=Blockly.utils.style.getSizeWithDisplay_(t),r=l.clientWidth-u.width,c=l.clientHeight-u.height,d=l.scrollLeft,a=l.scrollTop;return e?(d+=y-r/2,a+=n-c/2):(d+=Math.min(y,Math.max(y-r,0)),a+=Math.min(n,Math.max(n-c,0))),new Blockly.utils.Coordinate(d,a)};