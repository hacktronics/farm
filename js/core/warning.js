/**
 * @license
 * Copyright 2012 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
"use strict";goog.provide("Blockly.Warning"),goog.require("Blockly.Bubble"),goog.require("Blockly.Events"),goog.require("Blockly.Events.BubbleOpen"),goog.require("Blockly.Icon"),goog.require("Blockly.utils.dom"),goog.require("Blockly.utils.object"),goog.require("Blockly.utils.Svg"),goog.requireType("Blockly.Block"),goog.requireType("Blockly.BlockSvg"),goog.requireType("Blockly.utils.Coordinate"),Blockly.Warning=function(l){Blockly.Warning.superClass_.constructor.call(this,l),this.createIcon(),this.text_=Object.create(null)},Blockly.utils.object.inherits(Blockly.Warning,Blockly.Icon),Blockly.Warning.prototype.collapseHidden=!1,Blockly.Warning.prototype.drawIcon_=function(l){Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},l),Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},l),Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},l)},Blockly.Warning.prototype.setVisible=function(l){l!=this.isVisible()&&(Blockly.Events.fire(new(Blockly.Events.get(Blockly.Events.BUBBLE_OPEN))(this.block_,l,"warning")),l?this.createBubble_():this.disposeBubble_())},Blockly.Warning.prototype.createBubble_=function(){this.paragraphElement_=Blockly.Bubble.textToDom(this.getText()),this.bubble_=Blockly.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},Blockly.Warning.prototype.disposeBubble_=function(){this.bubble_.dispose(),this.bubble_=null,this.paragraphElement_=null},Blockly.Warning.prototype.setText=function(l,o){this.text_[o]!=l&&(l?this.text_[o]=l:delete this.text_[o],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},Blockly.Warning.prototype.getText=function(){var l=[];for(var o in this.text_)l.push(this.text_[o]);return l.join("\n")},Blockly.Warning.prototype.dispose=function(){this.block_.warning=null,Blockly.Icon.prototype.dispose.call(this)};