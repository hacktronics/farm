/**
 * @license
 * Copyright 2011 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
"use strict";goog.provide("Blockly"),goog.require("Blockly.browserEvents"),goog.require("Blockly.ComponentManager"),goog.require("Blockly.connectionTypes"),goog.require("Blockly.constants"),goog.require("Blockly.DropDownDiv"),goog.require("Blockly.Events"),goog.require("Blockly.Events.BlockCreate"),goog.require("Blockly.Events.FinishedLoading"),goog.require("Blockly.Events.Ui"),goog.require("Blockly.Events.UiBase"),goog.require("Blockly.Events.VarCreate"),goog.require("Blockly.inject"),goog.require("Blockly.inputTypes"),goog.require("Blockly.Procedures"),goog.require("Blockly.ShortcutRegistry"),goog.require("Blockly.Tooltip"),goog.require("Blockly.Touch"),goog.require("Blockly.utils"),goog.require("Blockly.utils.colour"),goog.require("Blockly.utils.deprecation"),goog.require("Blockly.utils.Size"),goog.require("Blockly.utils.toolbox"),goog.require("Blockly.Variables"),goog.require("Blockly.WidgetDiv"),goog.require("Blockly.WorkspaceSvg"),goog.require("Blockly.Xml"),goog.requireType("Blockly.BlockSvg"),goog.requireType("Blockly.Connection"),goog.requireType("Blockly.ICopyable"),goog.requireType("Blockly.Workspace"),goog.require("Blockly.Functions"),Blockly.VERSION="uncompiled",Blockly.mainWorkspace=null,Blockly.selected=null,Blockly.draggingConnections=[],Blockly.clipboardXml_=null,Blockly.clipboardSource_=null,Blockly.clipboardTypeCounts_=null,Blockly.cache3dSupported_=null,Blockly.parentContainer=null,Blockly.svgSize=function(o){return Blockly.utils.deprecation.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize"),new Blockly.utils.Size(o.cachedWidth_,o.cachedHeight_)},Blockly.resizeSvgContents=function(o){o.resizeContents()},Blockly.svgResize=function(o){for(var l=o;l.options.parentWorkspace;)l=l.options.parentWorkspace;var c=l.getParentSvg(),e=l.getCachedParentSvgSize(),n=c.parentNode;if(n){var t=n.offsetWidth,i=n.offsetHeight;e.width!=t&&(c.setAttribute("width",t+"px"),l.setCachedParentSvgSize(t,null)),e.height!=i&&(c.setAttribute("height",i+"px"),l.setCachedParentSvgSize(null,i)),l.resize()}},Blockly.onKeyDown=function(o){var l=Blockly.mainWorkspace;l&&(Blockly.utils.isTargetInput(o)||l.rendered&&!l.isVisible()||Blockly.ShortcutRegistry.registry.onKeyDown(l,o))},Blockly.deleteBlock=function(o){o.workspace.isFlyout||(Blockly.Events.setGroup(!0),Blockly.hideChaff(),o.outputConnection?o.dispose(!1,!0):o.dispose(!0,!0),Blockly.Events.setGroup(!1))},Blockly.copy=function(o){var l=o.toCopyData();l&&(Blockly.clipboardXml_=l.xml,Blockly.clipboardSource_=l.source,Blockly.clipboardTypeCounts_=l.typeCounts)},Blockly.paste=function(){if(!Blockly.clipboardXml_)return!1;var o=Blockly.clipboardSource_;return o.isFlyout&&(o=o.targetWorkspace),!(!Blockly.clipboardTypeCounts_||!o.isCapacityAvailable(Blockly.clipboardTypeCounts_))&&(Blockly.Events.setGroup(!0),o.paste(Blockly.clipboardXml_),Blockly.Events.setGroup(!1),!0)},Blockly.duplicate=function(o){var l=Blockly.clipboardXml_,c=Blockly.clipboardSource_;Blockly.copy(o),o.workspace.paste(Blockly.clipboardXml_),Blockly.clipboardXml_=l,Blockly.clipboardSource_=c},Blockly.onContextMenu_=function(o){Blockly.utils.isTargetInput(o)||o.preventDefault()},Blockly.hideChaff=function(o){Blockly.Tooltip.hide(),Blockly.WidgetDiv.hide(),Blockly.DropDownDiv.hideWithoutAnimation();var l=!!o;Blockly.getMainWorkspace().getComponentManager().getComponents(Blockly.ComponentManager.Capability.AUTOHIDEABLE,!0).forEach(function(o){o.autoHide(l)})},Blockly.getMainWorkspace=function(){return Blockly.mainWorkspace},Blockly.alert=function(o,l){alert(o),l&&l()},Blockly.confirm=function(o,l){l(confirm(o))},Blockly.prompt=function(o,l,c,e){c(prompt(o,l,e))},Blockly.jsonInitFactory_=function(o){return function(){this.jsonInit(o)}},Blockly.defineBlocksWithJsonArray=function(o){for(var l=0;l<o.length;l++){var c=o[l];if(c){var e=c.type;null==e||""===e?console.warn("Block definition #"+l+" in JSON array is missing a type attribute. Skipping."):(Blockly.Blocks[e]&&console.warn("Block definition #"+l+' in JSON array overwrites prior definition of "'+e+'".'),Blockly.Blocks[e]={init:Blockly.jsonInitFactory_(c)})}else console.warn("Block definition #"+l+" in JSON array is "+c+". Skipping.")}},Blockly.isNumber=function(o){return/^\s*-?\d+(\.\d+)?\s*$/.test(o)},Blockly.hueToHex=function(o){return Blockly.utils.colour.hsvToHex(o,Blockly.HSV_SATURATION,255*Blockly.HSV_VALUE)},Blockly.checkBlockColourConstants=function(){Blockly.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0),Blockly.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210),Blockly.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0),Blockly.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120),Blockly.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0),Blockly.checkBlockColourConstant_("MATH_HUE",["Constants","Math","HUE"],230),Blockly.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0),Blockly.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160),Blockly.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0),Blockly.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260),Blockly.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0),Blockly.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20),Blockly.checkBlockColourConstant_("VARIABLES_HUE",["Blocks","variables","HUE"],void 0),Blockly.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330),Blockly.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310),Blockly.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)},Blockly.checkBlockColourConstant_=function(o,l,c){for(var e="Blockly",n=Blockly,t=0;t<l.length;++t)e+="."+l[t],n&&(n=n[l[t]]);if(n&&n!==c){var i=(void 0===c?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",o);console.warn(i)}},Blockly.setParentContainer=function(o){Blockly.parentContainer=o},Blockly.bindEvent_=Blockly.browserEvents.bind,Blockly.unbindEvent_=Blockly.browserEvents.unbind,Blockly.bindEventWithChecks_=Blockly.browserEvents.conditionalBind,Blockly.ALIGN_LEFT=Blockly.constants.ALIGN.LEFT,Blockly.ALIGN_CENTRE=Blockly.constants.ALIGN.CENTRE,Blockly.ALIGN_RIGHT=Blockly.constants.ALIGN.RIGHT,Blockly.INPUT_VALUE=Blockly.connectionTypes.INPUT_VALUE,Blockly.OUTPUT_VALUE=Blockly.connectionTypes.OUTPUT_VALUE,Blockly.NEXT_STATEMENT=Blockly.connectionTypes.NEXT_STATEMENT,Blockly.PREVIOUS_STATEMENT=Blockly.connectionTypes.PREVIOUS_STATEMENT,Blockly.DUMMY_INPUT=Blockly.inputTypes.DUMMY,Blockly.TOOLBOX_AT_TOP=Blockly.utils.toolbox.Position.TOP,Blockly.TOOLBOX_AT_BOTTOM=Blockly.utils.toolbox.Position.BOTTOM,Blockly.TOOLBOX_AT_LEFT=Blockly.utils.toolbox.Position.LEFT,Blockly.TOOLBOX_AT_RIGHT=Blockly.utils.toolbox.Position.RIGHT;