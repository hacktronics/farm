/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
"use strict";goog.provide("Blockly.VariablesDynamic"),goog.require("Blockly.Blocks"),goog.require("Blockly.Msg"),goog.require("Blockly.utils.xml"),goog.require("Blockly.VariableModel"),goog.require("Blockly.Variables"),goog.requireType("Blockly.Workspace"),Blockly.VariablesDynamic.onCreateVariableButtonClick_String=function(e){Blockly.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"String")},Blockly.VariablesDynamic.onCreateVariableButtonClick_Number=function(e){Blockly.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"Number")},Blockly.VariablesDynamic.onCreateVariableButtonClick_Colour=function(e){Blockly.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"Colour")},Blockly.VariablesDynamic.flyoutCategory=function(e){var l=[],t=document.createElement("button");t.setAttribute("text",Blockly.Msg.NEW_STRING_VARIABLE),t.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),l.push(t),(t=document.createElement("button")).setAttribute("text",Blockly.Msg.NEW_NUMBER_VARIABLE),t.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),l.push(t),(t=document.createElement("button")).setAttribute("text",Blockly.Msg.NEW_COLOUR_VARIABLE),t.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),l.push(t),e.registerButtonCallback("CREATE_VARIABLE_STRING",Blockly.VariablesDynamic.onCreateVariableButtonClick_String),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",Blockly.VariablesDynamic.onCreateVariableButtonClick_Number),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",Blockly.VariablesDynamic.onCreateVariableButtonClick_Colour);var a=Blockly.VariablesDynamic.flyoutCategoryBlocks(e);return l=l.concat(a)},Blockly.VariablesDynamic.flyoutCategoryBlocks=function(e){var l=e.getAllVariables(),t=[];if(l.length>0){if(Blockly.Blocks.variables_set_dynamic){var a=l[l.length-1];(i=Blockly.utils.xml.createElement("block")).setAttribute("type","variables_set_dynamic"),i.setAttribute("gap",24),i.appendChild(Blockly.Variables.generateVariableFieldDom(a)),t.push(i)}if(Blockly.Blocks.variables_get_dynamic){l.sort(Blockly.VariableModel.compareByName);for(var r,o=0;r=l[o];o++){var i;(i=Blockly.utils.xml.createElement("block")).setAttribute("type","variables_get_dynamic"),i.setAttribute("gap",8),i.appendChild(Blockly.Variables.generateVariableFieldDom(r)),t.push(i)}}}return t};